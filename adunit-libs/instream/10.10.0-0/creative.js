var EXPO_CREATIVE_CONFIG_JSON={Core:{transitions:{teaser2VPM:{duration:3e3,easing:"Sine.easeIn"},teaser2VPMFast:{duration:500,easing:"Sine.easeIn"},teaserToCollapsed:{duration:500,easing:"Sine.easeIn"},vpm2Teaser:{duration:500,easing:"Sine.easeIn"},vpm2TeaserFast:{duration:20,easing:"Sine.easeIn"},teaser2Collapsed:{duration:500,easing:"Sine.easeIn"},collapsedTeaser2vpm:{duration:3e3,easing:"Sine.easeIn"},collapsedTeaser2vpmFast:{duration:500,easing:"Sine.easeIn"},vpm2collapsedTeaser:{duration:500,easing:"Sine.easeIn"},vpm2collapsedTeaserFast:{duration:20,easing:"Sine.easeIn"},vpm2MainUnit:{duration:500,easing:"Sine.easeIn"},MainUnit2collapsedTeaserFast:{duration:20,easing:"Sine.easeIn"},MainUnit2TeaserFast:{duration:20,easing:"Sine.easeIn"}},sound:{start:2e3,end:4e3,level:"0.5"},states:{TEASER:{},VPM:{delayTime:4400}}},VideoPlayer:{},Close:{},Localization:{locales:{ar:{name:"Arabic",direction:"right-to-left"},zh:{name:"Cantonese",direction:"left-to-right"},de:{name:"German",direction:"left-to-right"},es:{name:"Spanish",direction:"left-to-right"},"es-es":{name:"Spanish",country:"Spain",direction:"left-to-right"},"es-mx":{name:"Spanish",country:"Mexico",direction:"left-to-right"},en:{name:"English",direction:"left-to-right"},"en-us":{name:"English",country:"US",direction:"left-to-right"},fr:{name:"French",direction:"left-to-right"},"fr-ca":{name:"French",country:"Canada",direction:"left-to-right"},"fr-fr":{name:"French",country:"France",direction:"left-to-right"},hi:{name:"Hindi",direction:"left-to-right"},id:{name:"Indonesian",direction:"left-to-right"},it:{name:"Italian",direction:"left-to-right"},ms:{name:"Malaysian",direction:"left-to-right"},nl:{name:"Dutch",direction:"left-to-right"},pt:{name:"Portuguese",direction:"left-to-right"},th:{name:"Thai",direction:"left-to-right"}},translations:{"default":"en",en:{explore:{text:"Explore",fontSize:12,isFallback:!0},"rollover-to-explore":{text:"Rollover to explore",fontSize:14,isFallback:!0},"tap-to-explore":{text:"Tap to explore",fontSize:14,isFallback:!0},"ads-by":{text:"VDX BY %s",fontSize:14,isFallback:!0},"starting-in":{text:"Starting in",fontSize:14,isFallback:!0},"click-to-expand":{text:"Click to expand",fontSize:14,isFallback:!0},"explore-more":{text:"Explore more",fontSize:16,isFallback:!0},"click-to-replay":{text:"Click to replay",fontSize:14,isFallback:!0},exit:{text:"Exit",fontSize:12,isFallback:!0},replay:{text:"Replay",fontSize:12,isFallback:!0},close:{text:"Close",fontSize:12,isFallback:!0},"click-to-explore-now":{text:"Rollover to explore now",fontSize:16,isFallback:!0},"content-starting-in":{text:"Content starting in",fontSize:12,isFallback:!0},advertisertext:{text:"ADVERTISEMENT. YOUR VIDEO WILL BEGIN IN [#] SECONDS",fontSize:10}},ar:{explore:{text:"اكتشف‬",fontSize:12,isFallback:!1},"rollover-to-explore":{text:"مرر الفأرة للاستكشاف‬",fontSize:14,isFallback:!1},"tap-to-explore":{text:"أنقر للاستكشاف‬",fontSize:14,isFallback:!1},"ads-by":{text:"VDX BY %s",fontSize:14,isFallback:!1},"starting-in":{text:"يبدأ خلال‬",fontSize:14,isFallback:!1},"click-to-expand":{text:"اضغط للتوسيع‬",fontSize:14,isFallback:!1},"explore-more":{text:"اكتشف المزيد‬",fontSize:16,isFallback:!1},"click-to-replay":{text:"اضغط لاعادةالمشاهدة",fontSize:14,isFallback:!1},exit:{text:"خروج‬",fontSize:12,isFallback:!1},replay:{text:"اعادة‬",fontSize:12,isFallback:!1},close:{text:"اغلاق‬",fontSize:12,isFallback:!1},"click-to-explore-now":{text:"مرر الفأرة لمعرفة المزيد الأن",fontSize:22,isFallback:!1},"content-starting-in":{text:"سيبدأ المحتوى خلال‬",fontSize:14,isFallback:!1},advertisertext:{text:"ﺍﻋﺎﻟﻦ- ﺍﻟﻔﻴﺪﻳﻮ ﺳﺘﻮﻑ ﻳﺒﺪﺃ ﺧﻠﻞ [#] ﺛﺎﻧﻴﺔ",fontSize:10}},id:{explore:{text:"Jelajah",fontSize:12,isFallback:!1},"rollover-to-explore":{text:"Rollover to explore",fontSize:14,isFallback:!1},"tap-to-explore":{text:"sentuh untuk jelajahi",fontSize:14,isFallback:!1},"ads-by":{text:"VDX BY %s",fontSize:14,isFallback:!1},"starting-in":{text:"Dimulai dalam",fontSize:14,isFallback:!1},"click-to-expand":{text:"Klik untuk memperbesar",fontSize:13,isFallback:!1},"explore-more":{text:"jelajahi lebih lanjut",fontSize:16,isFallback:!1},"click-to-replay":{text:"klik untuk mengulang",fontSize:13,isFallback:!1},exit:{text:"keluar",fontSize:12,isFallback:!1},replay:{text:"Memulai ulang",fontSize:6,isFallback:!1},close:{text:"Tutup",fontSize:12,isFallback:!1},"click-to-explore-now":{text:"Tunjuk untuk mengeksplorasi sekarang",fontSize:13,isFallback:!1},"content-starting-in":{text:"konten dimulai dalam",fontSize:12,isFallback:!1},advertisertext:{text:"Advertisement. Video dimulai dalam [#] detik.",fontSize:10}},it:{explore:{text:"Espandi",fontSize:12,isFallback:!1},"rollover-to-explore":{text:"Espandi qui",fontSize:14,isFallback:!1},"tap-to-explore":{text:"Scopri",fontSize:14,isFallback:!1},"ads-by":{text:"VDX BY %s",fontSize:14,isFallback:!1},"starting-in":{text:"Inizia in",fontSize:14,isFallback:!1},"click-to-expand":{text:"Clicca per espandere",fontSize:14,isFallback:!1},"explore-more":{text:"Scopri di più",fontSize:16,isFallback:!1},"click-to-replay":{text:"Clicca per rivedere",fontSize:14,isFallback:!1},exit:{text:"Esci",fontSize:12,isFallback:!1},replay:{text:"Replay",fontSize:12,isFallback:!1},close:{text:"Chiudi",fontSize:12,isFallback:!1},"click-to-explore-now":{text:"ESPLORA QUÌ",fontSize:18,isFallback:!1},"content-starting-in":{text:"Il tuo video partirà in",fontSize:12,isFallback:!1},advertisertext:{text:"Pubblicità. Il tuo video inizierà tra [#] secondi.",fontSize:10}},fr:{explore:{text:"Ouvrir",fontSize:12,isFallback:!1},"rollover-to-explore":{text:"Découvrir",fontSize:14,isFallback:!1},"tap-to-explore":{text:"Découvrir",fontSize:14,isFallback:!1},"ads-by":{text:"VDX BY %s",fontSize:14,isFallback:!1},"starting-in":{text:"Commence dans",fontSize:12,isFallback:!1},"click-to-expand":{text:"Agrandir",fontSize:14,isFallback:!1},"explore-more":{text:"Plus de détails",fontSize:16,isFallback:!1},"click-to-replay":{text:"Revoir",fontSize:14,isFallback:!1},exit:{text:"Fermer",fontSize:12,isFallback:!1},replay:{text:"Rejouer",fontSize:11,isFallback:!1},close:{text:"Fermer",fontSize:10,isFallback:!1},"click-to-explore-now":{text:"Rouler pour voir",fontSize:17,isFallback:!1},"content-starting-in":{text:"Contenu commence dans",fontSize:12,isFallback:!1},advertisertext:{text:"Publicité. Votre video commence dans [#] secondes.",fontSize:10}},zh:{explore:{text:"了解更多",fontSize:12,isFallback:!1},"rollover-to-explore":{text:"翻起了解更多",fontSize:14,isFallback:!1},"tap-to-explore":{text:"按此了解更多",fontSize:14,isFallback:!1},"ads-by":{text:"VDX BY %s",fontSize:14,isFallback:!1},"starting-in":{text:"開始",fontSize:14,isFallback:!1},"click-to-expand":{text:"按此放大廣告",fontSize:14,isFallback:!1},"explore-more":{text:"了解更多",fontSize:16,isFallback:!1},"click-to-replay":{text:"按此重播",fontSize:14,isFallback:!1},exit:{text:"離開",fontSize:12,isFallback:!1},replay:{text:"再看一次",fontSize:12,isFallback:!1},close:{text:"關閉",fontSize:12,isFallback:!1},"click-to-explore-now":{text:"移動滑鼠至此探索更多",fontSize:16,isFallback:!1},"content-starting-in":{text:"内容將會呈現",fontSize:12,isFallback:!1},advertisertext:{text:"-廣告。您的視頻將[#]秒後開始",fontSize:10}},nl:{explore:{text:"Bekijk",fontSize:12,isFallback:!1},"rollover-to-explore":{text:"Roll over om te zien",fontSize:14,isFallback:!1},"tap-to-explore":{text:"Tap om te zien",fontSize:14,isFallback:!1},"ads-by":{text:"VDX BY %s",fontSize:14,isFallback:!1},"starting-in":{text:"Uw video begint in",fontSize:11,isFallback:!1},"click-to-expand":{text:"Klik om te vergroten",fontSize:14,isFallback:!1},"explore-more":{text:"Ontdek meer",fontSize:16,isFallback:!1},"click-to-replay":{text:"Klik om te herstarten",fontSize:13,isFallback:!1},exit:{text:"Sluit",fontSize:12,isFallback:!1},replay:{text:"Replay",fontSize:12,isFallback:!1},close:{text:"Sluit",fontSize:12,isFallback:!1},"click-to-explore-now":{text:"Rol NU over om meer te zien",fontSize:15,isFallback:!1},"content-starting-in":{text:"De content begint in",fontSize:12,isFallback:!1},advertisertext:{text:"Advertentie. Je video start in [#] seconden.",fontSize:10}},de:{explore:{text:"Entdecke",fontSize:10,isFallback:!1},"rollover-to-explore":{text:"Rollover to explore",fontSize:14,isFallback:!1},"tap-to-explore":{text:"Mehr erfahren",fontSize:14,isFallback:!1},"ads-by":{text:"VDX BY %s",fontSize:14,isFallback:!1},"starting-in":{text:"Startet in",fontSize:14,isFallback:!1},"click-to-expand":{text:"Zur Vollansicht klicken",fontSize:14,isFallback:!1},"explore-more":{text:"Mehr entdecken",fontSize:16,isFallback:!1},"click-to-replay":{text:"Click to replay",fontSize:14,isFallback:!1},exit:{text:"Beenden",fontSize:12,isFallback:!1},replay:{text:"Replay",fontSize:12,isFallback:!1},close:{text:"Schließen",fontSize:6,isFallback:!1},"click-to-explore-now":{text:"Roll-over und entdecke",fontSize:15,isFallback:!1},"content-starting-in":{text:"Inhalt startet in",fontSize:12,isFallback:!1},advertisertext:{text:"Werbung. Ihr Video begint in [#] Sekunden.",fontSize:10}},es:{explore:{text:"Ver más",fontSize:12,isFallback:!1},"rollover-to-explore":{text:"Click para descubrir",fontSize:14,isFallback:!1},"tap-to-explore":{text:"Toca para descubrir",fontSize:14,isFallback:!1},"ads-by":{text:"VDX BY %s",fontSize:14,isFallback:!1},"starting-in":{text:"Abriendo en",fontSize:14,isFallback:!1},"click-to-expand":{text:"Click para expandir",fontSize:14,isFallback:!1},"explore-more":{text:"Clic para reproducir",fontSize:16,isFallback:!1},"click-to-replay":{text:"Click para reproducir",fontSize:14,isFallback:!1},exit:{text:"Cerrar",fontSize:12,isFallback:!1},replay:{text:"Repetir",fontSize:12,isFallback:!1},close:{text:"Cerrar",fontSize:10,isFallback:!1},"click-to-explore-now":{text:"Expande para ver más",fontSize:16,isFallback:!1},"content-starting-in":{text:"El video empezará en",fontSize:12,isFallback:!1},advertisertext:{text:"Anuncio. El video empezará en [#] segundos.",fontSize:10}},"es-es":{explore:{text:"Ver más",fontSize:10,isFallback:!1},"rollover-to-explore":{text:"Expande para ver más",fontSize:14,isFallback:!1},"tap-to-explore":{text:"Toca para descubrir",fontSize:14,isFallback:!1},"ads-by":{text:"VDX BY %s",fontSize:14,isFallback:!1},"starting-in":{text:"Abriendo en",fontSize:14,isFallback:!1},"click-to-expand":{text:"Click para expandir",fontSize:14,isFallback:!1},"explore-more":{text:"Descubre más",fontSize:16,isFallback:!1},"click-to-replay":{text:"Click para reproducir",fontSize:14,isFallback:!1},exit:{text:"Cerrar",fontSize:12,isFallback:!1},replay:{text:"Repetir",fontSize:10,isFallback:!1},close:{text:"Cerrar",fontSize:11,isFallback:!1},"click-to-explore-now":{text:"Expande para ver más",fontSize:16,isFallback:!1},"content-starting-in":{text:"El video empezará en",fontSize:12,isFallback:!1},advertisertext:{text:"Anuncio. El video empezará en [#] segundos.",fontSize:10}},"es-mx":{explore:{text:"Explorar",fontSize:10,isFallback:!1},"rollover-to-explore":{text:"Rollover para expandir",fontSize:12,isFallback:!1},"tap-to-explore":{text:"Tap para Expandir",fontSize:14,isFallback:!1},"ads-by":{text:"VDX BY %s",fontSize:13,isFallback:!1},"starting-in":{text:"Empezando en",fontSize:14,isFallback:!1},"click-to-expand":{text:"Click para expandir",fontSize:14,isFallback:!1},"explore-more":{text:"Explora más",fontSize:16,isFallback:!1},"click-to-replay":{text:"Click para volver a ver",fontSize:12,isFallback:!1},exit:{text:"Salir",fontSize:12,isFallback:!1},replay:{text:"Repetir",fontSize:12,isFallback:!1},close:{text:"Cerrar",fontSize:10,isFallback:!1},"click-to-explore-now":{text:"Pasa el cursor para conocer más",fontSize:14,isFallback:!1},"content-starting-in":{text:"Cargando contenido en",fontSize:12,isFallback:!1},advertisertext:{text:"Publicidad. El video comenzará en [#] segundos.",fontSize:10}},pt:{explore:{text:"Explorar",fontSize:10,isFallback:!1},"rollover-to-explore":{text:"Passe o mouse",fontSize:14,isFallback:!1},"tap-to-explore":{text:"Toque para Expandir",fontSize:14,isFallback:!1},"ads-by":{text:"VDX BY %s",fontSize:13,isFallback:!1},"starting-in":{text:"Início em",fontSize:14,isFallback:!1},"click-to-expand":{text:"Clique para expandir",fontSize:14,isFallback:!1},"explore-more":{text:"Explore mais",fontSize:16,isFallback:!1},"click-to-replay":{text:"Clique para o replay",fontSize:14,isFallback:!1},exit:{text:"Sair",fontSize:12,isFallback:!1},replay:{text:"Replay",fontSize:12,isFallback:!1},close:{text:"Fechar",fontSize:10,isFallback:!1},"click-to-explore-now":{text:"Mantenha o mouse para explorer",fontSize:13,isFallback:!1},"content-starting-in":{text:"Começando em",fontSize:12,isFallback:!1},advertisertext:{text:"Anúncio. O vídeo irá começar em [#] segundos.",fontSize:10}}}}};!function(){if("performance"in window==!1&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==!1){var e=window.performance.timing&&window.performance.timing.navigationStart?window.performance.timing.navigationStart:Date.now();window.performance.now=function(){return Date.now()-e}}}();var TWEEN=TWEEN||function(){var e=[];return{getAll:function(){return e},removeAll:function(){e=[]},add:function(t){e.push(t)},remove:function(t){var i=e.indexOf(t);i!==-1&&e.splice(i,1)},update:function(t){if(0===e.length)return!1;var i=0;for(t=void 0!==t?t:window.performance.now();i<e.length;)e[i].update(t)?i++:e.splice(i,1);return!0}}}();TWEEN.Tween=function(e){var t=e,i={},n={},s={},o=1e3,a=0,r=!1,l=!1,c=!1,d=0,h=null,u=TWEEN.Easing.Linear.None,m=TWEEN.Interpolation.Linear,f=[],g=null,p=!1,v=null,C=null,E=null;for(var T in e)i[T]=parseFloat(e[T],10);this.to=function(e,t){return void 0!==t&&(o=t),n=e,this},this.start=function(e){TWEEN.add(this),l=!0,p=!1,h=void 0!==e?e:window.performance.now(),h+=d;for(var o in n){if(n[o]instanceof Array){if(0===n[o].length)continue;n[o]=[t[o]].concat(n[o])}i[o]=t[o],i[o]instanceof Array==!1&&(i[o]*=1),s[o]=i[o]||0}return this},this.stop=function(){return l?(TWEEN.remove(this),l=!1,null!==E&&E.call(t),this.stopChainedTweens(),this):this},this.stopChainedTweens=function(){for(var e=0,t=f.length;e<t;e++)f[e].stop()},this.delay=function(e){return d=e,this},this.repeat=function(e){return a=e,this},this.yoyo=function(e){return r=e,this},this.easing=function(e){return u=e,this},this.interpolation=function(e){return m=e,this},this.chain=function(){return f=arguments,this},this.onStart=function(e){return g=e,this},this.onUpdate=function(e){return v=e,this},this.onComplete=function(e){return C=e,this},this.onStop=function(e){return E=e,this},this.update=function(e){var l,E,T;if(e<h)return!0;p===!1&&(null!==g&&g.call(t),p=!0),E=(e-h)/o,E=E>1?1:E,T=u(E);for(l in n){var y=i[l]||0,w=n[l];w instanceof Array?t[l]=m(w,T):("string"==typeof w&&(w=y+parseFloat(w,10)),"number"==typeof w&&(t[l]=y+(w-y)*T))}if(null!==v&&v.call(t,T),1===E){if(a>0){isFinite(a)&&a--;for(l in s){if("string"==typeof n[l]&&(s[l]=s[l]+parseFloat(n[l],10)),r){var S=s[l];s[l]=n[l],n[l]=S}i[l]=s[l]}return r&&(c=!c),h=e+d,!0}null!==C&&C.call(t);for(var b=0,x=f.length;b<x;b++)f[b].start(h+o);return!1}return!0}},TWEEN.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){var t,i=.1,n=.4;return 0===e?0:1===e?1:(!i||i<1?(i=1,t=n/4):t=n*Math.asin(1/i)/(2*Math.PI),-(i*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)))},Out:function(e){var t,i=.1,n=.4;return 0===e?0:1===e?1:(!i||i<1?(i=1,t=n/4):t=n*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},InOut:function(e){var t,i=.1,n=.4;return 0===e?0:1===e?1:(!i||i<1?(i=1,t=n/4):t=n*Math.asin(1/i)/(2*Math.PI),(e*=2)<1?-.5*(i*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)):i*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-TWEEN.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*TWEEN.Easing.Bounce.In(2*e):.5*TWEEN.Easing.Bounce.Out(2*e-1)+.5}}},TWEEN.Interpolation={Linear:function(e,t){var i=e.length-1,n=i*t,s=Math.floor(n),o=TWEEN.Interpolation.Utils.Linear;return t<0?o(e[0],e[1],n):t>1?o(e[i],e[i-1],i-n):o(e[s],e[s+1>i?i:s+1],n-s)},Bezier:function(e,t){for(var i=0,n=e.length-1,s=Math.pow,o=TWEEN.Interpolation.Utils.Bernstein,a=0;a<=n;a++)i+=s(1-t,n-a)*s(t,a)*e[a]*o(n,a);return i},CatmullRom:function(e,t){var i=e.length-1,n=i*t,s=Math.floor(n),o=TWEEN.Interpolation.Utils.CatmullRom;return e[0]===e[i]?(t<0&&(s=Math.floor(n=i*(1+t))),o(e[(s-1+i)%i],e[s],e[(s+1)%i],e[(s+2)%i],n-s)):t<0?e[0]-(o(e[0],e[0],e[1],e[1],-n)-e[0]):t>1?e[i]-(o(e[i],e[i],e[i-1],e[i-1],n-i)-e[i]):o(e[s?s-1:0],e[s],e[i<s+1?i:s+1],e[i<s+2?i:s+2],n-s)},Utils:{Linear:function(e,t,i){return(t-e)*i+e},Bernstein:function(e,t){var i=TWEEN.Interpolation.Utils.Factorial;return i(e)/i(t)/i(e-t)},Factorial:function(){var e=[1];return function(t){var i=1;if(e[t])return e[t];for(var n=t;n>1;n--)i*=n;return e[t]=i,i}}(),CatmullRom:function(e,t,i,n,s){var o=.5*(i-e),a=.5*(n-t),r=s*s,l=s*r;return(2*t-2*i+o+a)*l+(-3*t+3*i-2*o-a)*r+o*s+t}}},function(e){"function"==typeof define&&define.amd?define([],function(){return TWEEN}):"object"==typeof exports?module.exports=TWEEN:void 0!==e&&(e.TWEEN=TWEEN)}(this),function(e,t){"use strict";var i="0.7.12",n="",s="?",o="function",a="undefined",r="object",l="string",c="major",d="model",h="name",u="type",m="vendor",f="version",g="architecture",p="console",v="mobile",C="tablet",E="smarttv",T="wearable",y="embedded",w={extend:function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2===0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i},has:function(e,t){return"string"==typeof e&&t.toLowerCase().indexOf(e.toLowerCase())!==-1},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===l?e.replace(/[^\d\.]/g,"").split(".")[0]:t},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},S={rgx:function(){for(var e,i,n,s,l,c,d,h=0,u=arguments;h<u.length&&!c;){var m=u[h],f=u[h+1];if(typeof e===a){e={};for(s in f)f.hasOwnProperty(s)&&(l=f[s],typeof l===r?e[l[0]]=t:e[l]=t)}for(i=n=0;i<m.length&&!c;)if(c=m[i++].exec(this.getUA()))for(s=0;s<f.length;s++)d=c[++n],l=f[s],typeof l===r&&l.length>0?2==l.length?typeof l[1]==o?e[l[0]]=l[1].call(this,d):e[l[0]]=l[1]:3==l.length?typeof l[1]!==o||l[1].exec&&l[1].test?e[l[0]]=d?d.replace(l[1],l[2]):t:e[l[0]]=d?l[1].call(this,d,l[2]):t:4==l.length&&(e[l[0]]=d?l[3].call(this,d.replace(l[1],l[2])):t):e[l]=d?d:t;h+=2}return e},str:function(e,i){for(var n in i)if(typeof i[n]===r&&i[n].length>0){for(var o=0;o<i[n].length;o++)if(w.has(i[n][o],e))return n===s?t:n}else if(w.has(i[n],e))return n===s?t:n;return e}},b={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},x={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[h,f],[/(opios)[\/\s]+([\w\.]+)/i],[[h,"Opera Mini"],f],[/\s(opr)\/([\w\.]+)/i],[[h,"Opera"],f],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[h,f],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[h,"IE"],f],[/(edge)\/((\d+)?[\w\.]+)/i],[h,f],[/(yabrowser)\/([\w\.]+)/i],[[h,"Yandex"],f],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],f],[/(micromessenger)\/([\w\.]+)/i],[[h,"WeChat"],f],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[f,[h,"MIUI Browser"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[h,/(.+)/,"$1 WebView"],f],[/android.+samsungbrowser\/([\w\.]+)/i,/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[f,[h,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[h,f],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/juc.+(ucweb)[\/\s]?([\w\.]+)/i],[[h,"UCBrowser"],f],[/(dolfin)\/([\w\.]+)/i],[[h,"Dolphin"],f],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[h,"Chrome"],f],[/;fbav\/([\w\.]+);/i],[f,[h,"Facebook"]],[/fxios\/([\w\.-]+)/i],[f,[h,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[f,[h,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[f,h],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[h,[f,S.str,b.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[h,f],[/(navigator|netscape)\/([\w\.-]+)/i],[[h,"Netscape"],f],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[h,f]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,w.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[g,/ower/,"",w.lowerize]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[g,w.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[d,m,[u,C]],[/applecoremedia\/[\w\.]+ \((ipad)/],[d,[m,"Apple"],[u,C]],[/(apple\s{0,1}tv)/i],[[d,"Apple TV"],[m,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[m,d,[u,C]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[d,[m,"Amazon"],[u,C]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[d,S.str,b.device.amazon.model],[m,"Amazon"],[u,v]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[d,m,[u,v]],[/\((ip[honed|\s\w*]+);/i],[d,[m,"Apple"],[u,v]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[m,d,[u,v]],[/\(bb10;\s(\w+)/i],[d,[m,"BlackBerry"],[u,v]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[d,[m,"Asus"],[u,C]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[m,"Sony"],[d,"Xperia Tablet"],[u,C]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[m,"Sony"],[d,"Xperia Phone"],[u,v]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[m,d,[u,p]],[/android.+;\s(shield)\sbuild/i],[d,[m,"Nvidia"],[u,p]],[/(playstation\s[34portablevi]+)/i],[d,[m,"Sony"],[u,p]],[/(sprint\s(\w+))/i],[[m,S.str,b.device.sprint.vendor],[d,S.str,b.device.sprint.model],[u,v]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[m,d,[u,C]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[m,[d,/_/g," "],[u,v]],[/(nexus\s9)/i],[d,[m,"HTC"],[u,C]],[/(nexus\s6p)/i],[d,[m,"Huawei"],[u,v]],[/(microsoft);\s(lumia[\s\w]+)/i],[m,d,[u,v]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[d,[m,"Microsoft"],[u,p]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[m,"Microsoft"],[u,v]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[d,[m,"Motorola"],[u,v]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[d,[m,"Motorola"],[u,C]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[m,w.trim],[d,w.trim],[u,E]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[m,"Samsung"],[u,E]],[/\(dtv[\);].+(aquos)/i],[d,[m,"Sharp"],[u,E]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[m,"Samsung"],d,[u,C]],[/smart-tv.+(samsung)/i],[m,[u,E],d],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[m,"Samsung"],d,[u,v]],[/sie-(\w+)*/i],[d,[m,"Siemens"],[u,v]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[m,"Nokia"],d,[u,v]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[d,[m,"Acer"],[u,C]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[m,"LG"],d,[u,C]],[/(lg) netcast\.tv/i],[m,d,[u,E]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[d,[m,"LG"],[u,v]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[d,[m,"Lenovo"],[u,C]],[/linux;.+((jolla));/i],[m,d,[u,v]],[/((pebble))app\/[\d\.]+\s/i],[m,d,[u,T]],[/android.+;\s(glass)\s\d/i],[d,[m,"Google"],[u,T]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[[d,/_/g," "],[m,"Xiaomi"],[u,v]],[/android.+a000(1)\s+build/i],[d,[m,"OnePlus"],[u,v]],[/\s(tablet)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[u,w.lowerize],m,d]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[f,[h,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[h,f],[/rv\:([\w\.]+).*(gecko)/i],[f,h]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[h,f],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[h,[f,S.str,b.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[h,"Windows"],[f,S.str,b.os.windows.version]],[/\((bb)(10);/i],[[h,"BlackBerry"],f],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[h,f],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[h,"Symbian"],f],[/\((series40);/i],[h],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[h,"Firefox OS"],f],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[h,f],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[h,"Chromium OS"],f],[/(sunos)\s?([\w\.]+\d)*/i],[[h,"Solaris"],f],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[h,f],[/(haiku)\s(\w+)/i],[h,f],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[h,"iOS"],[f,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[h,"Mac OS"],[f,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[h,f]]},P=function(t,i){if(this instanceof P){var s=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:n),o=i?w.extend(x,i):x;return this.getBrowser=function(){var e=S.rgx.apply(this,o.browser);return e.major=w.major(e.version),e},this.getCPU=function(){return S.rgx.apply(this,o.cpu)},this.getDevice=function(){return S.rgx.apply(this,o.device)},this.getEngine=function(){return S.rgx.apply(this,o.engine)},this.getOS=function(){return S.rgx.apply(this,o.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return s},this.setUA=function(e){return s=e,this},this}return new P(t,i).getResult()};P.VERSION=i,P.BROWSER={NAME:h,MAJOR:c,VERSION:f},P.CPU={ARCHITECTURE:g},P.DEVICE={MODEL:d,VENDOR:m,TYPE:u,CONSOLE:p,MOBILE:v,SMARTTV:E,TABLET:C,WEARABLE:T,EMBEDDED:y},P.ENGINE={NAME:h,VERSION:f},P.OS={NAME:h,VERSION:f},typeof exports!==a?(typeof module!==a&&module.exports&&(exports=module.exports=P),exports.UAParser=P):typeof define===o&&define.amd?define(function(){return P}):e.UAParser=P;var I=e.jQuery||e.Zepto;if(typeof I!==a){var A=new P;I.ua=A.getResult(),I.ua.get=function(){return A.getUA()},I.ua.set=function(e){A.setUA(e);var t=A.getResult();for(var i in t)I.ua[i]=t[i]}}}("object"==typeof window?window:this),function(e,t){"use strict";function i(){this.win=window,this.doc=window.document,this.windowCtx=window}var n,s,o,a,r,l,c,d,h,u,m,f,g,p,v,C,E,T,y,w,S,b=Object.prototype.toString,x=Array.prototype.slice,P=Object.prototype.hasOwnProperty,I=function(e){var t=new RegExp("\\[object "+e+"\\]","i");return function(e){return t.test(b.call(e))}},A=A||{},k=function(){},V=["log","warn","info","error","trace","clear"];V.forEach(function(e){A[e]||(A[e]=k)});var M=i.prototype;a=M.isString=I("String"),l=M.isFunction=I("Function"),c=M.isObject=I("Object"),r=M.isArray=I("Array"),h=M.isBoolean=I("Boolean"),d=M.isNumber=I("Number"),u=M.isUndefined=I("Undefined"),m=M.isNull=I("Null"),f=M.doesExists=function(e){return!(u(e)||m(e))},g=M.doesNotExists=function(e){return!f(e)},s=M.hasProperty=function(e,t){return P.call(e,t)},E=M.toArray=function(e){return x.call(e,0)},M.toCapital=function(e){return e.replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,function(e,t){return 0===+e?"":e.toUpperCase()})},M.deprecate=function(e){A.warn(e)},M.getProperty=function(e,t){return/(\(|\))/gi.test(t)?void A.warn("Please provide a valid property accessor"):(t='["'+t.replace(/[.]/g,'"]["')+'"]',new Function("o","return o"+t)(e))},M.compose=function(){var e=arguments,t=e.length;return function(){for(var i=t-1,n=e[i].apply(this,arguments);i--;)n=e[i].call(this,n);return n}},M.curry=function(e){function t(e){return function(){var t=[].slice.call(arguments);return i(e,t)}}function i(i,s){var o=i.concat(s);return o.length<n?t(o):e.apply(this,o)}var n=e.length;return t([])},y=M.each=function(e,t){var i;T(c(e),"each Can only be called on Object"),T(l(t),"Provide a callback");for(i in e)s(e,i)&&t(e[i],i,e)},M.setWindowContext=function(e){n=e||n},M.getWindowContext=function(){return n},M.getQueryParamter=function O(e){e=e||n.location.search,e=0===e.indexOf("?")?e.substring(1):e;var t=O.cache||(O.cache={}),i=t[e],s=e.split("&");return i||(i={},s.forEach(function(e){e=e.split("="),i[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}),O.cache[e]=i),O.cache[e]},T=M.assert=function(e,t){var i=!1;if(i=l(e)?!e():!e)throw new Error("Assertion Failed: "+t)},M.getRunTimeAdConfig=function(e,t,i){var n=t[i]?t[i]:e.teaser[i];return n},M.getElement=function(e,t){return"undefined"!=typeof t?t.document.getElementById(e):n.document.getElementById(e)},M.isCrossDomain=function(){
try{return window.self!==window.top}catch(e){return!0}},o=M.extend=function(e,t){var i=function(i,n){return function(){var s=e._super;e._super=t[i];var o=n.apply(e,arguments);return e._super=s,o}};for(var n in t)e[n]=s(e,n)&&l(e[n])&&l(t[n])?i(n,e[n]):s(e,n)?e[n]:r(t[n])?t[n].concat():c(t[n])?o(t[n],{}):t[n];return e},M.deepObjectExtend=S=function D(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]&&"object"==typeof t[i]?D(e[i],t[i]):e[i]=t[i]);return e},M.inherit=function(e,t){var i=function(e,i){return function(){var n=this._super;this._super=i;var s=t[e].apply(this,arguments);return this._super=n,s}};for(var n in t)e[n]=l(e[n])&&l(t[n])?i(n,e[n]):t[n];return e},M.noop=function(){},p=M.ajax=function(e,t,i,n,s,o){var a=new XMLHttpRequest,r=document.write;a.open("GET",e,!0),a.onreadystatechange=function(){if(a.status>=200&&a.status<400&&4===a.readyState){var e,t,i=document.createElement("div"),l=0,c=0,d=function(){l===t&&(o(i.innerHTML),document.write=r)};if(i.innerHTML=a.responseText,!s){e=i.getElementsByTagName("script"),e=Array.prototype.slice.call(e,0),t=e.length,document.write=function(i){var n=document.createElement("div");n.innerHTML=i,i=n.childNodes[0],e.splice(c,0,i),t++};var h=function(){var t=e[c];if(t){c++;var i,n=document.createElement("script"),s=t.attributes,o=s.length;for(i=0;i<o;i++)n.setAttributeNode(s[i].cloneNode(!0));t.src?(n.src=t.src,n.onload=function(){h(),++l,d()},n.onerror=function(){throw new Error("Failed to load the script")},document.body.appendChild(n)):(n.innerHTML=t.innerHTML,document.body.appendChild(n),h(),++l),t.parentNode.removeChild(t)}};h()}n(i.innerHTML,a)}},a.send(i)},v=M.ajax.get=function(e,t,i,n,s){this(e,"GET",s,t,i,n)},C=M.ajax.post=function(e,t,i,n,s){this(e,"POST",t,i,n,s)},w=M.debounce=function(e,t,i){var n;return function(){i=i||this;var s=arguments,o=function(){n=null,e.apply(i,s)};window.clearTimeout(n),n=window.setTimeout(o,t)}},M.createSameDomainIframeNode=function(e,t,i,s,o){var a=(new Date).getTime()%20000001+parseInt(1e4*Math.random(),10),r=n;if(e+=a,!r.document.getElementById(e)){var l=document.createElement("iframe");l.setAttribute("frameBorder","0"),l.setAttribute("allowtransparency","true"),l.setAttribute("marginheight","0"),l.setAttribute("marginwidth","0"),l.setAttribute("scrolling","no"),l.setAttribute("width",t),l.setAttribute("height",i),l.setAttribute("hspace","0"),l.setAttribute("vspace","0"),l.setAttribute("id",e),0===t&&0===i&&l.setAttribute("style","position:absolute; top:-15000px; left:-15000px;"),r.document.body.appendChild(l)}setTimeout(function(t){var i=n.document.getElementById(e);s(i,t)}(o),10)},M.writeContentInIframe=function(e,t){if(e){var i=e.contentWindow;i.contents=t,i.location.replace('javascript:window["contents"]')}},M.createElement=function(e,t,i){var n,s=document.createElement(e);for(n in t)s.setAttribute(n,t[n]);return i&&s.setAttribute("style",i),s},M.setStyle=function(e,t){var i;for(i in t)e.style[i]=t[i]},M.setAttribute=function(e,t){var i;for(i in t)e.setAttribute(i,t[i])},M.insertChild=function(e,t,i){e||t||("string"!=typeof t||"undefined"!=typeof i&&null!==typeof i?"undefined"==typeof i||null===typeof i?e.appendChild(t):"undefined"!=typeof i&&null!==typeof i&&e.insertBefore(t,i):e.innerHTML=t)},M.getBody=function(){return this.doc.body||this.doc.documentElement},M.override=function(e,t){var i;for(i in e)t[i]&&e.hasOwnProperty(i)&&(e[i]=t[i])},M.attachEvent=function(e,t,i){window.addEventListener?e.addEventListener(t,i,!1):window.attachEvent?e.attachEvent("on"+t,i):window.onLoad&&(e[t]=i)},M.detachEvent=function(e,t,i){window.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent("on"+t,i)},M.createCustomEvent=function(e,t){var i;return e.createEvent?(i=e.createEvent("HTMLEvents"),i.initEvent(t,!0,!0)):e.createEventObject&&(i=e.createEventObject(),i.eventType=t),i.eventName=t,i},M.triggerCustomEvent=function(e,t){e.dispatchEvent?e.dispatchEvent(t):e.fireEvent&&htmlEvents["on"+t.eventType]?e.fireEvent("on"+t.eventType,t):e[t]?e[t]():e["on"+t.eventType]&&e["on"+t.eventType]()},M.constructDefaultPath=function(){if(arguments.length){var e=arguments[0],t=arguments[1]||{},i=arguments[2]||"l";if(/^http(s)*:\/\//i.test(e))return e;if(t.dir&&t.dir.indexOf("$")>=0&&(t.dir=""),t.manifestDir&&t.manifestDir.indexOf("$RICHMEDIA")>=0&&(t.manifestDir=""),"l"==i)return t.dir+e;if("c"==i)return t.manifestDir+e}},M.constructMediaPaths=function(e,t,i){"$LOC$"==t.dir&&(t.dir=""),"$LOCPARSE$"==t.parseDir&&(t.parseDir=""),t.manifestDir.indexOf("$RICHMEDIA")>=0&&(t.manifestDir=""),e=e[i];for(var n=e.length,s=0;s<n;s++)/^http(s)*:\/\//i.test(e[s].src)||e[s].dir&&"l"!==e[s].dir?/^http(s)*:\/\//i.test(e[s].src)||"c"!==e[s].dir||(e[s].src=t.manifestDir+e[s].src):e[s].src=t.dir+e[s].src},M.getCssPropertyValue=function(e,t){var i,n;if("undefined"!=typeof e&&"undefined"!=typeof t){if(e.ownerDocument&&e.ownerDocument.defaultView){try{n=e.ownerDocument.defaultView.getComputedStyle(e,null)}catch(s){}n&&(i=n.getPropertyValue(t)||n[t])}else i=e.currentStyle[t];return i}},M.isFloatNeeded=function(e){for(var t=!1;e&&e.parentNode&&"body"!==e.tagName.toString().toLowerCase();){e=e.parentNode;var i=this.getCssProperty(e,"overflow");if(void 0!==i&&""!==i&&null!==i&&"undefined"!=typeof i||(i=this.getCssProperty(e,"overflowX"),void 0!==i&&""!==i&&null!==i&&"undefined"!=typeof i||(i=this.getCssProperty(e,"overflowY"))),"hidden"===i||"scroll"===i||"auto"===i){t=!0;break}var n=this.getCssProperty(e,"position");if(void 0!==n&&""!==n&&null!==n&&"undefined"!=typeof n&&"relative"===n){t=!0;break}}return t},M.getCssProperty=function(e,t){var i,n;if("undefined"!=typeof e&&"undefined"!=typeof t){if(e.ownerDocument&&e.ownerDocument.defaultView){try{n=e.ownerDocument.defaultView.getComputedStyle(e,null)}catch(s){}n&&(i=n.getPropertyValue(t)||n[t])}else i=e.currentStyle[t];return i}},M.getElementWidth=function(e){return e.clientWidth},M.getElementHeight=function(e){return e.clientHeight},M.getElementPosition=function(e,t){try{var i={};return"undefined"!=typeof e.getBoundingClientRect&&(i=e.getBoundingClientRect()),i}catch(n){}},M.getElementOffset=function(e){for(var t=0,i=0;e;)t+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return{x:t,y:i}},M.getElementCordinate=function(e){var t={},i=this.getElementOffset(e);return t.topLeft={x:i.x,y:i.y},t.topRight={x:i.x+970,y:i.y},t.bottomLeft={x:i.x,y:i.y+250},t.bottomRight={x:i.x+970,y:i.y+250},t.width=970,t.height=250,t},M.isInView=function(e){var t={};t.topLeft=this.getViewportTopLeft(),t.topRight=this.getViewportTopRight(),t.bottomLeft=this.getViewportBottomLeft();var i=this.getElementCordinate(e);return t.topLeft.x<i.topRight.x&&t.topRight.x>i.topLeft.x&&t.topLeft.y<i.bottomLeft.y&&t.bottomLeft.y>i.topLeft.y},M.getViewportTopLeft=function(){return{x:this.getScrollX(),y:this.getScrollY()}},M.getViewportTopRight=function(){return{x:this.getScrollX()+this.getViewportwidth(),y:this.getScrollY()}},M.getViewportBottomLeft=function(){return{x:this.getScrollX(),y:this.getScrollY()+this.getViewportHeight()}},M.getViewportBottomRight=function(){return{x:this.getScrollX()+this.getViewportwidth(),y:this.getScrollY()+this.getViewportHeight()}},M.getScrollX=function(){return void 0!==n.pageXOffset?n.pageXOffset:(this.doc.documentElement||this.doc.body.parentNode||this.doc.body).scrollLeft},M.getScrollY=function(){return void 0!==n.pageYOffset?n.pageYOffset:(this.doc.documentElement||this.doc.body.parentNode||this.doc.body).scrollTop},M.getViewportHeight=function(){return n.innerHeight||n.document.documentElement.clientHeight||n.document.body.clientHeight},M.getViewportwidth=function(){return n.innerWidth||n.document.documentElement.clientWidth||n.document.body.clientWidth},M.getScreenHeight=function(){return n.screen.height},M.removeProperty=function(e,t){e.style.removeProperty?e.style.removeProperty(t):e.style.removeAttribute(t)},M.moveMainUnitToCenter=function(e){var t,i,s;e&&(this.element=e,this.divTop=this.getCssProperty(e,"top"),this.VPMAnimIntervalId&&(n.clearInterval(this.VPMAnimIntervalId),delete this.VPMAnimIntervalId),void 0===this.storeScrollX&&(this.storeScrollX=this.getScrollX()),void 0===this.storeScrollY&&(this.storeScrollY=this.getScrollY()),s=this.getViewportHeight(),i=parseInt(this.getCssProperty(e,"height").split("px")[0]),t=s<i?0:(s-i)/2,e.style.top=t+"px")},M.disableScroll=function(e){this.divPosition=this.getCssProperty(e,"position"),e.style.position="fixed"},M.enableScroll=function(e){e.style.position=this.divPosition,delete this.divPosition},M.bringInView=function(e){var t=e,i={},n=0,s=0;i.height=this.getViewportHeight(),i.width=this.getViewportwidth(),i.left=this.getScrollX(),i.top=this.getScrollY(),this.isVerticalScrollbar&&(i.width-=17),this.isHorizontalScrollbar&&(i.height-=17);var o=this.getElementPosition(t);o.top<0?n=o.top:o.bottom>i.height&&(n=o.bottom-i.height),o.left<0?s=o.left:o.right>i.width&&(s=o.right-i.width),this.getWindowContext().scrollBy(s,n)},M.getOrigin=function(e){var t=e.match(/^(http?):\/\/([A-Z\d\.-]{2,})\.([A-Z]{2,})(:\d{2,4})?/i);return t[0]},M.isVerticalScrollbar=function(){var e="BackCompat"==n.document.compatMode?n.document.body:n.document.documentElement;return e.scrollHeight>e.clientHeight},M.isHorizontalScrollbar=function(){var e="BackCompat"==n.document.compatMode?n.document.body:n.document.documentElement;return e.scrollWidth>e.clientWidth},M.resetScroll=function(){this.element.style.top=this.divTop,n.scrollTo(this.storeScrollX,this.storeScrollY),delete this.storeScrollX,delete this.storeScrollY,delete this.element,delete this.divTop},M.toUpperCase=function(e){return e.toUpperCase()},M.getBrowserPrefix=function(e,t){for(var i,n="Webkit Moz O ms Khtml".split(" "),s=-1,o=n.length;++s<o;)if(i=n[s].toLowerCase(),e[i+t])return i+t;return!1},M.charectorLimit=function(e){function t(e){l.style.fontSize=e+"px"}function i(){return r.offsetHeight<l.offsetHeight}function n(){if(r.offsetHeight<l.offsetHeight){for(;r.offsetHeight<l.offsetHeight;)l.innerText=c=c.substr(0,c.length-1);l.innerText=c=c.substr(0,c.length-3),l.innerText=l.innerText+"..."}r.children[0].innerText=l.innerText,r.style.fontSize=s()}function s(){return l.style.fontSize}var o,a,r,l,c,d=parseInt(e.max),h=parseInt(e.min);for(o=d,a=e.text,c=a,r=e.container,l=document.createElement("div"),l.id="rm-test",l.style.width=r.offsetWidth,e["white-space"]&&(l.style.whiteSpace=e["white-space"]),document.body.appendChild(l),t(o),l.innerText=a;o>h;){if(!i()){n();break}t(--o)}o<=h&&n(),l.parentNode.removeChild(l)},M.ObjToStyleString=function(e){return JSON.stringify(e).replace(/"/g,"").replace(/,/g,";").replace(/^\{(.*)\}$/g,"$1")},M.moveVPMToCenter=function(e,t){if(e){var i,s,o,a,r,l=0,c=this;this.storeScrollX=this.getScrollX(),this.storeScrollY=this.getScrollY(),o=this.getViewportHeight(),s=this.getCssProperty(e,"clipBottom")?parseInt(this.getCssProperty(e,"clipBottom").split("px")[0]):parseInt(this.getCssProperty(e,"clip").split(" ")[2].split("px")[0]),a=e.getBoundingClientRect().top,o<s?i=a:(i=(o-s)/2-a,i=-i),r=i>0?i:-i,this.VPMAnimIntervalId=n.setInterval(function(){l<=r?(l+=t,c.windowCtx.scrollBy(0,i>=0?t:-t)):clearInterval(c.VPMAnimIntervalId)},1)}},t.utility=t.utility||new i}(window,window.EU||(window.EU={})),function(e,t){"use strict";function i(e){e=e||{};var t;return t=n.hasProperty(e,"constructor")&&n.isFunction(e.constructor)?e.constructor:function(){},t.prototype=n.extend({},e),t.prototype.constructor=t,t.extend=s,t}var n=t.utility,s=function o(e){e=e||{};var t=/this\._super\(.*\)/g.test((e.constructor||new Function).toString()),i=this,s=function(){var s,o=this._super;return n.hasProperty(e,"constructor")&&n.isFunction(e.constructor)?(t?this._super=i:i.apply(this,arguments),s=e.constructor.apply(this,arguments),this._super=o):s=i.apply(this,arguments),s},a=function(){this.constructor=s};return a.prototype=i.prototype,s.prototype=new a,n.inherit(s.prototype,e),s.extend=o,s};t.CreateClass=t.CreateClass||i}(window,window.EU),function(e,t){"use strict";function i(e){return n(e)?e.match(/(.+)\((.+)\)/):[e,e,void 0]}function n(e){return/\((.+)\)/g.test(e)}function s(e){return e.enumList.forEach(function(t,n){var s;l.isObject(t)?l.each(t,function(t,o){s=i(o),this[s[1]]=new r(o,s[1],s[2],e,n,t)}.bind(this)):(s=i(t),this[s[1]]=new r(t,s[1],s[2],e,n))}.bind(this)),Object.freeze&&Object.freeze(this),this}function o(e){if(this instanceof o)throw new Error("Cannot instantiate Enum");return new a(e)}function a(e){if(l.isObject(e))return s.call(this,e);throw new Error("Not a valid type")}function r(e,t,i,n,s,o){i=i||"";var a=i.indexOf(",")?i.split(","):i?[i]:[],r=l.extend({},n);return delete r.enumList,delete r.constructor,l.isObject(o)&&l.extend(this,o),this.getName=function(){return t},this.ordinal=function(){return s},this.constructor=n.constructor||function(){},l.each(r,function(e,t){l.isFunction(e)&&(r[t]=e.bind(this)),l.hasProperty(this,t)||(this[t]=e)}.bind(this)),this._super=r,this.constructor.apply(this,a),Object.freeze&&Object.freeze(this),this}var l=t.utility;a.prototype={constructor:a,values:function(){var e=[];return l.each(this,function(t){e.push(t)}),e}},t.Enum=t.Enum||o}(window,window.EU),function(e,t){"use strict";var i=t.utility,n=function(e){try{var n=i.isObject(e.data)?e.data:JSON.parse(e.data),s=i.isString(n)?"":n.eventName;if(n&&"erm"!==n.trust)return;s&&(delete n.eventName,t.EventManager.fire(s,n))}catch(e){console.log(e)}},s=t.CreateClass({__uidPrefix__:"EventManager_",__uid__:1,__listeners__:null,add:function(e,t){i.assert(e&&i.isString(e),"expected type a non-empty String for eventName"),i.assert(t&&i.isFunction(t),"expected type Function for handler");var n,s={type:e,handler:t,namespace:null,id:this.__uidPrefix__+this.__uid__++},o=".";return e.indexOf(o)>0&&(n=e.split(o),s.type=n[0],s.namespace=n[1]),this.__listeners__||(this.__listeners__={}),this.__listeners__[s.type]||(this.__listeners__[s.type]=[]),this.__listeners__[s.type].push(s),s.id},remove:function(e,t){if(i.assert(e&&i.isString(e),"expected type a non-empty String for eventName"),this.__listeners__){var n,s,o,a,r,l,c=".";if(e.indexOf(c)>0&&(s=e.split(c),e=s[0],n=s[1]),o=i.isString(t)?t:null,a=this.__listeners__[e]||[],a.length)return n?(l=function(e){return n!==e},o||t?o?r=function(e){return l(e.namespace)||e.id!==o}:t&&(r=function(e){return l(e.namespace)||e.handler!==t}):r=function(e){return l(e.namespace)},this.__listeners__[e]=a.filter(r),void(this.__listeners__[e].length||delete this.__listeners__[e])):void(o?(this.__listeners__[e]=a.filter(function(e){return e.id!==o}),this.__listeners__[e].length||delete this.__listeners__[e]):t?(this.__listeners__[e]=a.filter(function(e){return e.handler!==t}),this.__listeners__[e].length||delete this.__listeners__[e]):this.__listeners__[e]&&this.__listeners__[e].length&&delete this.__listeners__[e])}},removeByNS:function(e){i.assert(e&&i.isString(e),"expected type a non-empty String for namespace");var t,n=function(t){return t.namespace!==e};for(t in this.__listeners__)hasOwnProperty(this.__listeners__,t)&&(this.__listeners__[t]=this.__listeners__[t].filter(n),this.__listeners__[t].length||delete this.__listeners__[t])},fire:function(e,t){if(i.assert(e&&i.isString(e),"expected type a non-empty String for eventName"),this.__listeners__){(arguments.length>2||!i.isArray(t))&&(t=Array.prototype.slice.call(arguments,1));var n,s,o,a=".";e.indexOf(a)&&(s=e.split(a),e=s[0],n=s[1]),o=this.__listeners__[e]||[],n&&(o=o.filter(function(e){return e.namespace===n})),o&&o.length&&this.__callAllHandlers__(e,o,t)}},__callAllHandlers__:function(e,t,i){var n,s,o=t.length;for(s=0;s<o;s++)n=t[s],n.handler.apply(this,i)},once:function(e,t){i.assert(e&&i.isString(e),"expected type a non-empty String for eventName"),i.assert(t&&i.isFunction(t),"expected type Function for handler");var n,s=function(){t.apply(null,arguments),this.remove(e,n)}.bind(this);n=this.add(e,s)},addMessageListener:function(e){e.removeEventListener("message",n,!1),e.addEventListener("message",n,!1)},_data:function(e){i.assert(e&&i.isString(e),"expected type a non-empty String for eventName");var t,n,s,o=".";return e.indexOf(o)&&(n=e.split(o),e=n[0],t=n[1]),s=this.__listeners__&&this.__listeners__[e]||[],t&&(s=s.filter(function(e){return e.namespace===t})),{eventName:e,handlers:s}}});t.EventManager=t.EventManager||new s,t.BaseEventManager=t.BaseEventManager||s}(window,window.EU||(window.EU={})),function(e,t){"use strict";var i=t.utility,n=t.CreateClass({constructor:function(){this.__observers__=[],this.__changed__=!1},addObserver:function(e){i.assert(e instanceof t.ObserverClass,"Please provide instance of EU.ObserverClass"),this.__observers__.push(e)},removeObserver:function(e){i.assert(e instanceof t.ObserverClass,"Please provide instance of EU.ObserverClass"),this.__observers__=this.__observers__.filter(function(t){return e!==t})},notifyObservers:function(){if(this.__changed__){var e=i.toArray(arguments);e.unshift(this),this.__observers__.forEach(function(t){t.update.apply(t,e)}),this.__changed__=!1}},notify:function(){this.setChanged(),this.notifyObservers.apply(this,arguments)},setChanged:function(){this.__changed__=!0},clearChanged:function(){this.__changed__=!1},hasChanged:function(){return this.__changed__},countObservers:function(){return this.__observers__.length}});t.ObservableClass=t.ObservableClass||n}(window,window.EU),function(e,t){"use strict";var i=t.CreateClass({update:function(){throw new Error("Implement the Update method")}});t.ObserverClass=t.ObserverClass||i}(window,window.EU),function(e,t){"use strict";var i=t.utility,n=t.BaseEventManager.extend({constructor:function(){},init:i.noop,render:i.noop,destroy:i.noop});t.BaseComponent=t.BaseComponent||n}(window,window.EU),function(e,t){"use strict";function i(e,t,i,n){this.name=e,this.deps=t?t.slice(0):t,this.def=i,this.version=n}i.prototype={constructor:i,init:function(e,t){return t&&(this.pluginList=t),this.resolveDeps(this,e,this.pluginList)},resolveDeps:function(e,t,i){var n=[t],s=e.deps,o=s?s.length:0;return o&&s.forEach(function(e,s){e=i[e],e&&(e.deps&&e.deps.length?n=n.concat(this.resolveDeps(e,t,i)):n.push(e.def(t)))}.bind(e)),e.def.apply(null,n)}},t.PluginManager=t.PluginManager||i}(window,window.EU||(window.EU={})),function(e,t,i){"use strict";function n(){}function s(e,t){return e+"_"+t}function o(e,t){return t.dependencies.filter(function(t){return t.name===e})[0]}var a,r=t.utility;i=e.EUC=i||t.CreateClass({utility:r,makeKey:s,constructor:function(){this.adunits={},this.plugins={},this.dependenciesList=[]},initCore:n,rendererCallback:n,resolvedCallback:n,registerPlugin:function(e,i,n,o){var a=t.PluginManager;this.utility.isString(n)&&(o=n),this.utility.isFunction(i)&&(n=i,i=null),this.utility.isString(i)&&(i=[i]);var r=s(e,o);this.plugins[r]||(this.plugins[r]=new a(e,i,n,o))},checkPluginLoaded:function(e){return!!this.plugins[s(e.name,e.version)]},resolveAdUnitConfig:function(e){var t=!1;e.pluginsLoaded||(t=e.dependencies.every(this.checkPluginLoaded.bind(this)),t&&(e.pluginsLoaded||(e.pluginsLoaded=!0,this.initiatePlugins(e))))},resolvePlugin:function(){this.utility.each(this.plugins,function(e,t){e.deps&&(e.deps=e.deps.map(function(e){var t,i=this.dependenciesList;return t=i.filter(function(t){return t.name===e})[0],t?s(t.name,t.version):e}.bind(this)))}.bind(this)),Object.keys(this.adunits).forEach(function(e){var t=this.adunits[e];this.resolveAdUnitConfig(t)}.bind(this))},initiatePlugins:function(e){var i,n,s={};void 0!==e&&(s.config=e.config),n=this.bustFrame(s),this.utility.setWindowContext(n),a||(a=t.EventManager),s.baseEventManager=a,s.utility=this.utility,a.addMessageListener(n),e&&(i=this.require("render",s)),s.isIFrame=!0,e.renderer=i,this.resolvedCallback(s,i,e)},bustFrame:function(){return e},require:function(){var e;return function(t,i){i&&(e=i),t=o(t,e.config);var n;if(t)return n=s(t.name,t.version),this.plugins[n].init(e,this.plugins);throw new ReferenceError("Unknown Dependency")}}(),sucessCallback:function(e){},errorCallback:function(e){},constructMediaPath:function(e){e.richmediaCommonDir.indexOf("$RICHMEDIA")>=0&&(e.richmediaCommonDir="");var t=e.dependencies,i=t.length;if(i>0)for(var n=0;n<i;n++)/^http(s)*:\/\//i.test(t[n].src)||(t[n].src=e.richmediaCommonDir+t[n].src)},updateDependenciesList:function(e){return this.dependenciesList=this.union(this.dependenciesList,e)},union:function(e,t){var i,n=e.concat(t),s=[],o={};return n.forEach(function(e){i=this.makeKey(e.name,e.version),this.utility.hasOwnProperty(o,this.makeKey(e.name,e.version))||(o[i]=e,s.push(e))}.bind(this)),s}})}(window,window.EU,window.EUC),function(e,t){"use strict";var i=t.utility,n={"teaser.trackers.phaze.teaser_loading_loaded":!0,"teaser.trackers.phaze.paused-teaser_vpm_closebtnclick":!0,"teaser.trackers.phaze.paused-teaser_mainunit_closebtnclick":!0,"teaser.trackers.phaze.paused-collapse-teaser_vpm_closebtnclick":!0,"teaser.trackers.phaze.paused-collapse-teaser_mainunit_closebtnclick":!0,"teaser.trackers.phaze.paused-collapse-teaser_paused-teaser_transitioncomplete":!0,"teaser.trackers.phaze.collapsedteaser_teaser_transitioncomplete":!0,"teaser.trackers.phaze.collapsedteaser_mainunit_closevideo":!0,"teaser.trackers.phaze.teaser_mainunit_closebtnclick":!0,"teaser.trackers.phaze.teaser_vpm_closebtnclick":!0,"teaser.trackers.phaze.teaser_mainunit_closevideo":!0,"teaser.trackers.impression.imp":!0},s=t.CreateClass({constructor:function(e){var t=this.parse(e);this.attr=t,this.init.apply(this,arguments)},init:i.noop,parse:function(e){return e},set:function(e,t){n[e]&&(this.firePixel(this.getTrackerObj(i.getProperty(this.adConfig,e))),n[e]=!1),this.attr[e]=t},get:function(e){return this.attr[e]},getTrackerObj:function(e){var t,n=e.trackers;return t=n.map(function(t,n){var s={},o=s.custom={};return s.pixel=t.pixel,s.type=t.type,e.custom1&&(o.custom1=i.isArray(e.custom1)?e.custom1[n]:e.custom1,o.custom1||delete o.custom1),e.custom2&&(o.custom2=e.custom2),s})},firePixel:function(e){i.isArray(e)||(e=[e]),e.forEach(function(e,t){this["pixelType"+i.toCapital(e.type)](e)}.bind(this))},pixelTypeImg:function(e){var t,i=this.adConfig.pixelInfo,n=/^http|https?:\/\//i.test(e.pixel)?e.pixel:"http://"+i.host+i.insPrefixUrl+i.campaignName+i.insMidUrl+e.pixel+"&"+this.serialize(e.custom)+i.insSuffixUrl;t=new Image,t.src=n},pixelTypeJs:function(e){var t="JSPixelInfo",n=function(t){i.writeContentInIframe(t,e.pixel)};i.createSameDomainIframeNode(t,0,0,n)},pixelTypeIframe:function(e){var t="IframePixelInfo",n=function(t){t.src=e.pixel};i.createSameDomainIframeNode(t,0,0,n)},serialize:function(e){var t,n=[];for(t in e)i.hasProperty(e,t)&&n.push(t+"="+e[t]);return n.join("&")}});t.BaseModel=t.BaseModel||s}(window,window.EU),function(e){"use strict";function t(){this.componentList={VideoPlayer:{name:"VideoPlayer",appendTo:"teaserContainer"},Close:{name:"Close",appendTo:"appsnack_innerContainer"},RectangClose:{name:"RectangClose",appendTo:"appsnack_innerContainer"},Replay:{name:"Replay",appendTo:"appsnack_innerContainer"},Canvas:{name:"Canvas",appendTo:"teaserContainer"},PlayWrapper:{name:"PlayWrapper",appendTo:"appsnack_innerContainer"},VizuWidget:{name:"VizuWidget",appendTo:"appsnack_innerContainer"},AdMessage:{name:"AdMessage",appendTo:"teaserContainer"}}}t.prototype={getComponents:function(){return this.componentList},setComponent:function(e,t){this.componentList[e]=this.componentList[e]||{},this.componentList[e]=t,this.componentList[e].name=e}},e.ComponentConfig=new t}(window),function(e,t,i){"use strict";var n=t.CreateClass({constructor:function(){this.components={},this.componentLoaded=!1},init:function(t,n,s){this.creativeContCallBack={},this.sandBox=t,this.model=n,this.componentList=i.getComponents(),this.CMModel=e.EXPO_CREATIVE.CMModel,this.componentsModel=new this.CMModel(EXPO_CREATIVE.ConfigModel.getComponentsConfig()),Object.keys(this.componentList).forEach(function(e){this.components[this.componentList[e].name]&&this.components[this.componentList[e].name].init(this.componentList[e],this.model,s)}.bind(this))},registerForComponentLoaded:function(e){return this.componentLoaded?void e():void(this.callback=e)},communicateState:function(e){this.creativeContCallBack(e)},communicateCallback:function(e){this.creativeContCallBack=e},registerController:function(e){this.controller=e},registerComponent:function(e,t){this.components[t]||(this.components[t]=e),this.resolveComponent()},resolveComponent:function(){function e(e){return!!this.components[e]}var t=i.getComponents();this.componentLoaded=Object.keys(t).every(e.bind(this)),this.componentLoaded&&this.callback&&this.callback("loaded")},requireComponent:function(e){return this.components[e]},destroyComponent:function(e){this.components[e.id]&&delete this.components[e.id]},requestConfig:function(e,t){var i=t&&e[t]&&e[t].appendTo||e.appendTo,n="#"+i+"_"+this.sandBox.id.replace(/\$/g,""),s="get"+e.name+"Config",o=this.model[s](t,this.componentsModel.getConfigById(e.name,t));this.components[e.name].onConfig(o,n,t)},mergeModelInfo:function(e,t){var i={};return this.sandBox.utility.extend(i,t),this.sandBox.utility.extend(i,e),i},setPlayPixel:function(){},applyStateListeners:function(e){for(var t in e)this.requireComponent(t)&&this.requireComponent(t).setListeners(e[t])},removeStateListeners:function(){Object.keys(componentList).forEach(function(e){if(this.components[componentList[e].name])try{this.components[componentList[e].name].removeListeners()}catch(t){}}.bind(this))},communicate:function(e,t,i){var n=this.components;Object.keys(n).forEach(function(s){n[s][e]&&n[s][e](t,i)}),this.sandBox.baseEventManager.fire(e,{event:t},!0)}});e.CM||(e.CM=new n)}(window,window.EU,window.ComponentConfig),function(e,t,i,n){"use strict";i=e.EUCT=e.EUCT||t.extend({iframeId:"",initCreative:function(e){this.utility.assert(this.utility.isObject(e),"expected type for config is Object");var t=this.adunits[e.name]={};t.config=e,t.pluginsLoaded=!1,t.dependencies=e.dependencies,this.updateDependenciesList(e.dependencies),this.resolvePlugin()},resolvedCallback:function(e,t,i){e.id=e.config.id,e.adContainerId=e.config.adContainerId,e.baseEventManager.fire("creativeFrameworkReady"),t.initRender()}}),e.EXPO_CREATIVE=n||new i}(window,window.EUC,window.EUCT,window.EXPO_CREATIVE),function(e,t,i){"use strict";var n=t.BaseModel.extend({init:function(e){this.parseConfigJson(e)},parseConfigJson:function(e){return this.configData=e,e},getConfigById:function(e,t){var i=this.configData&&this.configData[e]?this.configData[e]:null;return i&&t&&i[t]?i[t]:i},mergeConfigById:function(e,t,i){var n=i&&this.configData[e][i]?this.configData[e][i]:this.configData[e];if(n)for(var s in t){var o=this.configData[e][i]||this.configData[e];o[s]=t[s]}}});i.CMModel=i.CMModel||n}(window,window.EU,window.EXPO_CREATIVE),function(e,t,i){"use strict";var n=t.ObservableClass.extend({constructor:function(e,t){this.model=e,this.render=t},StatesEnum:t.Enum({enumList:[{"teaser2VPM(teaser-to-vpm)":{destination:["vpm","finalVideo"],onComplete:"teaser2VPM"}},{"teaser2VPMFast(teaser-to-vpm-fast)":{destination:["vpm","finalVideo"],onComplete:"teaser2VPM"}},{"vpm2Teaser(vpm-to-teaser)":{destination:["initialTeaser","initialVideo"],onComplete:"vpm2Teaser"}},{"vpm2TeaserFast(vpm-to-teaser-fast)":{destination:["initialTeaser","initialVideo"],onComplete:"vpm2Teaser"}},{"teaser2Collapsed(teaser-to-collapsed)":{destination:["collapsedTeaser","collapsedVideo"],onComplete:"teaser2Collapsed"}},{"pausedTeaser2pausedCollapsed(pausedTeaser-to-pausedCollapsed)":{destination:["collapsedTeaser","collapsedVideo"],onComplete:"teaser2Collapsed"}},{"collapsedTeaser2vpm(collapsed-teaser-to-vpm)":{destination:["vpm","finalVideo"],onComplete:"teaser2VPM"}},{"collapsedTeaser2vpmFast(collapsed-teaser-to-vpm-fast)":{destination:["vpm","finalVideo"],onComplete:"teaser2VPM"}},{"vpm2collapsedTeaser(vpm-to-collapsed-teaser)":{destination:["collapsedTeaser","collapsedVideo"],onComplete:"vpm2Collapsed"}},{"vpm2collapsedTeaserFast(vpm-to-collapsed-teaser)":{destination:["collapsedTeaser","collapsedVideo"],onComplete:"vpm2Collapsed"}},{"MainUnit2collapsedTeaserFast(MainUnit-to-collapsed-teaser)":{destination:["collapsedTeaser","collapsedVideo"],onComplete:"MainUnit2Collapsed"}},{"MainUnit2TeaserFast(MainUnit-to-teaser-fast)":{destination:["initialTeaser","initialVideo"],onComplete:"MainUnit2TeaserFast"}}],constructor:function(e){this.name=e},getDuration:function(e){return e.getTransitionTimes()[this.getName()]||0}}),transitions:{teaser2VPM:function(e){var t=e?this.StatesEnum.teaser2VPMFast:this.StatesEnum.teaser2VPM;this.notify(t.name),this.startTweenFromState(t)},VPM2Teaser:function(){var e=this.teaserCollapsed?this.StatesEnum.vpm2collapsedTeaser:this.StatesEnum.vpm2Teaser;this.notify(e.name),this.startTweenFromState(e)},teaser2Collapsed:function(){var e=this.StatesEnum.teaser2Collapsed;this.startTweenFromState(this.StatesEnum.teaser2Collapsed),this.notify(e.name)},pausedTeaser2pausedCollapsed:function(){var e=this.StatesEnum.pausedTeaser2pausedCollapsed;this.startTweenFromState(this.StatesEnum.teaser2Collapsed),this.notify(e.name)},collapsed2VPM:function(e){var t=e?this.StatesEnum.collapsedTeaser2vpmFast:this.StatesEnum.collapsedTeaser2vpm;this.notify(t.name),this.startTweenFromState(t)},VPM2Collapsed:function(){var e=this.StatesEnum.vpm2collapsedTeaser;this.notify(e.name),this.startTweenFromState(e)},VPM2TeaserFast:function(){var e=this.teaserCollapsed?this.StatesEnum.vpm2collapsedTeaserFast:this.StatesEnum.vpm2TeaserFast;this.notify(e.name),this.startTweenFromState(e)},VPM2MainUnit:function(){var e=this.StatesEnum.vpm2MainUnit;this.notify(e.name),this.startTweenFromState(e)},MainUnit2TeaserFast:function(){var e=this.teaserCollapsed?this.StatesEnum.MainUnit2collapsedTeaserFast:this.StatesEnum.MainUnit2TeaserFast;this.notify(e.name),this.startTweenFromState(e)},MainUnit2Collapsed:function(){var e=this.StatesEnum.MainUnit2collapsedTeaserFast;this.notify(e.name),this.startTweenFromState(e)}},transitionsComplete:{teaser2VPM:function(){this.model.setIntermediateState(),this.animationClip=!0,this.vpmReached=!0,this.model.setCurrentState(this.model.CONST.AD_STATE_VPM);var e=this.model.getDimensions("teaserCurrent");this.applyTweenDimensions(e),this.notify(this.model.getCurrentState())},teaser2VPMFast:function(){this.model.setIntermediateState(),this.animationClip=!0,this.vpmReached=!0,this.model.setCurrentState(this.model.CONST.AD_STATE_VPM);var e=this.model.getDimensions("teaserCurrent");this.applyTweenDimensions(e),this.notify(this.model.CONST.AD_STATE_VPM_FAST)},vpm2Teaser:function(){this.model.setIntermediateState(),this.animationClip=!0;var e=this.vpmReached?"PAUSED-":"";this.model.setCurrentState(e?this.model.CONST.AD_STATE_PAUSED_TEASER:this.model.CONST.AD_STATE_TEASER),this.applyTweenDimensions(this.model.getDimensions("teaserCurrent")),this.notify(this.model.getCurrentState())},teaser2Collapsed:function(){this.model.setIntermediateState(),this.animationClip=!0,this.teaserCollapsed=!0,this.model.set("closedTeaser",!0);var e=this.vpmReached?"paused-":"";this.model.setCurrentState(e?this.model.CONST.AD_STATE_COLLAPSED_PAUSED_TEASER:this.model.CONST.AD_STATE_COLLAPSED_TEASER),this.applyTweenDimensions(this.model.getDimensions("teaserCurrent")),this.notify(this.model.getCurrentState())},vpm2TeaserFast:function(){this.animationClip=!0,this.model.setCurrentState(this.model.CONST.AD_STATE_PAUSED_TEASER),this.applyTweenDimensions(this.model.getDimensions("teaserCurrent"));var e=this.vpmReached?"paused-":"";this.notify("vpm-to-"+e+"teaser-fast-complete")},MainUnit2TeaserFast:function(){this.model.setIntermediateState(),this.animationClip=!0,this.model.setCurrentState(this.model.CONST.AD_STATE_PAUSED_TEASER),this.applyTweenDimensions(this.model.getDimensions("teaserCurrent")),this.notify(this.model.getCurrentState())},MainUnit2Collapsed:function(){this.model.setIntermediateState(),this.animationClip=!0,this.teaserCollapsed=!0,this.model.set("closedTeaser",!0),this.model.setCurrentState(this.model.CONST.AD_STATE_COLLAPSED_PAUSED_TEASER),this.applyTweenDimensions(this.model.getDimensions("teaserCurrent")),
this.notify(this.model.getCurrentState())},vpm2Collapsed:function(){this.model.setIntermediateState(),this.animationClip=!0,this.teaserCollapsed=!0,this.model.set("closedTeaser",!0);var e=this.vpmReached?"paused-":"";this.model.setCurrentState(e?this.model.CONST.AD_STATE_COLLAPSED_PAUSED_TEASER:this.model.CONST.AD_STATE_COLLAPSED_TEASER),this.applyTweenDimensions(this.model.getDimensions("teaserCurrent")),this.notify(this.model.getCurrentState())}},startTweenFromState:function(e){this.killOngoingTweens(),this.animationClip=!1,this.currentTween=this.createTween(this.generateTweenObject(e)),this.currentTween.start(),this.saveOngoingTween(this.currentTween),this.animateClip()},killOngoingTweens:function(){this.currentTweens&&(this.currentTweens.forEach(function(e){e.stop()}),this.currentTweens=[])},createTween:function(e){var t;return t=new TWEEN.Tween(e.source).to(e.destination,e.duration).easing(TWEEN.Easing.Linear.None).onUpdate(e.onUpdate),t.onComplete(e.onComplete),t},saveOngoingTween:function(e){this.currentTweens||(this.currentTweens=[]),this.currentTweens.push(e)},animateClip:function(){TWEEN.update(),this.animationClip?cancelAnimationFrame(this.clipRequestID):this.clipRequestID=requestAnimationFrame(this.animateClip.bind(this))},generateTweenObject:function(e){return{source:this.model.getDimensions("teaserCurrent"),destination:this.mergeTweenObjects(this.model.getDimensions(e.destination[0]),this.model.getDimensions(e.destination[1])),duration:e.getDuration(this.model),onComplete:this.transitionsComplete[e.onComplete].bind(this),onUpdate:this.onTeaser2VPMUpdate(this)}},mergeTweenObjects:function(e,t){if(!e&&t)return e||t;var i={};for(var n in e)i["container."+n]=e[n],i["video."+n]=t[n];return i},onTeaser2VPMUpdate:function(e){return function(){e.applyTweenDimensions(this)}},applyTweenDimensions:function(e){this.model.saveDimensions({teaserCurrent:e}),this.render.applyTweenDimensions(e)}});t.CreativeAnimationHelper=t.CreativeAnimationHelper||n}(window,window.EU,window.EXPO_CREATIVE),function(e,t,i){"use strict";var n,s=t.utility,o=t.ObserverClass.extend({constructor:function(e,t,s,o){var a=function(){var e=this,t=function(){this.element=!0};return t.prototype.hide=function(){e.communicateToPublisher(e.Messages.CALLPEELMETHOD.eventName,{methodName:"hide"})},t.prototype.show=function(){e.communicateToPublisher(e.Messages.CALLPEELMETHOD.eventName,{methodName:"show"})},t.prototype.reset=function(){e.communicateToPublisher(e.Messages.CALLPEELMETHOD.eventName,{methodName:"reset"})},t.prototype.entryPeelAnimation=function(){e.communicateToPublisher(e.Messages.CALLPEELMETHOD.eventName,{methodName:"entryPeelAnimation"})},t.prototype.exitTeaserAnimation=function(){e.communicateToPublisher(e.Messages.CALLPEELMETHOD.eventName,{methodName:"exitTeaserAnimation"})},t.prototype.updateRemainingTime=function(t){e.communicateToPublisher(e.Messages.CALLPEELMETHOD.eventName,{methodName:"updateRemainingTime",params:[t]})},t.prototype.destroy=function(){e.communicateToPublisher(e.Messages.CALLPEELMETHOD.eventName,{methodName:"destroy"}),this.element=!1},new t};this.sandBox=s,window.EXPO_CREATIVE.scaleObj={},n={},n.attributes={},this.sandBox=s,this.videoPixels={},this.peel=a.call(this),this.domUtility=i.require("domUtility"),this.close=e.requireComponent("Close"),this.rectangleClose=e.requireComponent("RectangClose"),this.video=e.requireComponent("VideoPlayer"),this.events=i.require("events",s),this.tracker=i.require("tracker",s),this.playWrapper=e.requireComponent("PlayWrapper"),this.Messages=i.require("messages",s),this.AssetsLoader=i.require("assetsLoader",s),this.designerAPI=i.require("designerAPI",s),this.VizuWidget=e.requireComponent("VizuWidget"),this.adMessage=e.requireComponent("AdMessage"),this.muse_assetLoaded=!1,this.VPMFastCLick=!1,this.showCloseButtonPending=!1,this.showCloseButtonTimeout=!1,this.lastCurrentTime=0,this.remainingTime=30,this.peelAnimating=!1,this.totalPlayTime=0,this.adVideoCompleted=!1,this.mainunitLoadStarted=!1,this.videoWasPlaying,this.inviewTimeArrayComplete=!1,this.inviewTimeArray="CPV"===t.adConfig.engagementType?t.adConfig.inviewPixelTime:void 0,this.playTimeLimitReached=!1,this.animatedCb=function(){},this.oldVideoId,this.stages={stage1:"Stage1",stage2:"Stage2",stage3:"Stage3",transition:"TRANSITION",mainUnit:"MainUnit"},this.videoDimensions={},this.adUnitClicked=!1,this.dontshowMute=!1,this.deepEngagementTimmer="",this.oldVideoId,this.durationRecieved=!1,this.videoStartConfirmed=!1,this.vpaidInstanceClosed=!1,"ie"===this.getDeviceInfo().browserName?(this.canvas=e.requireComponent("Canvas"),this.canvasAction=function(e){this.canvas[e]()}):this.canvasAction=function(e){},this.variableManager={},this.adWindow=window,this.compManager=e,this.render=o,this.model=t,this.config=this.model.adConfig,this.dimension="instream",this.model.setAdDimension(this.dimension),this.videoRestarted=!1,this.currentEvent=void 0,this.transitionEvent=void 0,this.sandBox.urlConfig=this.config.urlConfig,this.sandBox.config.dynamicData=this.config.dynamicData,this.initTracker(),this.render.setInitialTracker.bind(this.tracker),this.fireTeaserLoaded(),this.sandBox.baseEventManager.add(this.Messages.STARTFROMVPAID.eventName,this.handleStartFromVpaid.bind(this)),this.sandBox.baseEventManager.add(this.Messages.VOLUMEFROMVPAID.eventName,this.handleVolumeChange.bind(this)),this.sandBox.baseEventManager.add(this.Messages.TOGGLEPAUSEFROMVPAID.eventName,this.handleTogglePauseChange.bind(this)),this.sandBox.baseEventManager.add(this.Messages.SENDUNMUTEINTERACTION.eventName,this.handleUnmuteAction.bind(this)),this.sandBox.baseEventManager.add(this.Messages.FIREVIZUCONTROLPIXEL.eventName,this.fireVizuControlPixel.bind(this)),window.EXPO_CREATIVE.applyMuseScale=this.applyMuseScale.bind(this),this.mainunitLoaded=!1,window.EXPO_CREATIVE.renderedCb=function(){var e=document.getElementById("rm-main-unit");e.style.opacity=1;var t=document.getElementsByTagName("rm_video")[0];t.style.zIndex=900,e.style.width=this.model.adConfig.fullscreen.width+"px",e.style.height=this.model.adConfig.fullscreen.height+"px",e.style.overflow="hidden",this.sandBox.baseEventManager.fire(this.Messages.MAINUNITLOAD.eventName,!0),this.communicateToPublisher(this.Messages.MAINUNITLOAD.eventName,{scale:this.adUnitScale}),this.handlePeelVisibility(),this.mainunitLoaded=!0,this.stage2AnimationPending&&(this.stage2AnimationPending=!1,this.onStage2AnimationStart())}.bind(this),window.switchTab=function(){}},handleUnmuteAction:function(e){this.video.handleUnmuteOverlay(e.isUserActionHappened);var t=this.video.getVideoTag().play();void 0!==t&&t.then(function(){}.bind(this))["catch"](function(e){this.video.getVideoTag().muted=!0,this.video.getVideoTag().play()}.bind(this))},handleStartFromVpaid:function(){this.dimension="instream",this.model.setAdDimension(this.dimension),this.helper=new t.CreativeAnimationHelper(this.model,this.render),this.helper.addObserver(this),s.compose(this.showComponents,this.saveInitialProps,this.applyTeaserState,this.getPossibleExpansion,this.registerForComponentEvent,this.startComponentManager,this.render.initializeComponent.bind(this.render),this.render.setInitialTracker.bind(this.tracker),this.initTracker).call(this),this.bindRender(),this.mainunitCloseCB=s.debounce(this.mainunitCloseCB.bind(this),2),this.communicateToPublisher(this.Messages.REQUESTVPAIDATTRS.eventName,{attrName:"volume"}),this.sandBox.baseEventManager.add(this.Messages.GETVPAIDATTRS.eventName,function(){this.video.setVolume(n.attributes.volume)}.bind(this)),this.connectVPAIDMethods(),this.communicateToPublisher(this.Messages.CALLVPAIDMETHOD.eventName,{methodName:"confirmAdStarted"}),this.sendUrlConfig()},sendUrlConfig:function(){var e=!1,e=this.checkForVideoClickUrl();e&&e.toLowerCase().indexOf("replacethisurl.com")==-1&&this.communicateToPublisher(this.Messages.SENDCLICKCONFIG.eventName,{openUrl:this.model.getPlayerClickEnabled(this.currentStage,this),url:e})},isStateValid:function(){return this.model.getCurrentState()===this.model.CONST.AD_STATE_TEASER||this.model.getCurrentState()===this.model.CONST.AD_STATE_STAGE2_PEKABOO||this.model.getCurrentState()===this.model.CONST.AD_STATE_STAGE3_POSTPEKABOO},isInView:function(e){var i=e>=this.config.playVideoInPctView;i!=this.model.getIsInView()&&(this.checkForCPVEngType()&&this.handleTimerLogic(i),t.EventManager.fire("visibilityChanged",i)),this.model.getCurrentState()!==this.model.CONST.AD_STATE_PAUSED_TEASER&&(this.fireInviewPixels(i),this.resetTdValue(i)),this.model.setIsInView(i),this.model.setInFocus(i)},cookCustomPixel:function(e){var t=/\{(.*?)\}/gi;return e.originalcustomPixelStr||(e.originalcustomPixelStr=e.customPixelStr),e.customPixelStr=e.originalcustomPixelStr,e.customPixelStr=e.customPixelStr.replace(t,function(e){var t="get"+e.substr(1,e.length-2).capitalizeFirstLetter();return this.model[t]?this.model[t]():this.video[t]?this.video[t]():""}.bind(this)),e},resetTdValue:function(e){void 0!=this.tracker.getLastcall()&&(e===!1?this.tracker.resetEngagementTime():void 0!==this.tracker.getLastcall()&&"resetEngagementTime"!==this.tracker.getLastcall()||this.tracker.setEngagementTime())},fireInviewPixels:function(e){var t,i,n=this;e?(this.startInviewPixelTimer!=-1&&clearInterval(this.startInviewPixelTimer),this.startInviewPixelTimer=setInterval(function(){i=this.config.teaser.trackers.teaserInview,this.model.getCurrentState()===this.model.CONST.AD_STATE_TEASER&&(t="teaser"),this.model.getCurrentState()===this.model.CONST.AD_STATE_MAINUNIT&&(t="mainunit"),i&&(i.custom1="st:"+t,i.multi=!0,this.firePixel(i))}.bind(n),n.model.getInviewPixelTimer())):clearInterval(this.startInviewPixelTimer)},calculateTotalCumulativeTime:function(){0!==this.model.getInviewStartTime()&&this.model.setTotalTd(this.model.getTotalTd()+(Date.now()-this.model.getInviewStartTime())),this.checkForTdInInviewArray(this.model.getTotalTd()),this.checkForMaxTd()?(this.model.setInviewStartTime(Date.now()),this.createInviewTimeOut()):this.inviewTimeArrayComplete=!0},pauseCumulativeInviewTime:function(){this.model.getInviewStartTime()&&(this.pauseInviewTd(),this.checkForTdInInviewArray(this.model.getTotalTd()))},checkForMaxTd:function(){var e=Math.max.apply(null,this.inviewTimeArray);return Math.floor(this.model.getTotalTd()/1e3)<e},checkForTdInInviewArray:function(e){var t,i,n;this.inviewTimeArray.indexOf(Math.floor(e/1e3))>=0&&(n=this.inviewTimeArray.splice(this.inviewTimeArray.indexOf(Math.floor(e/1e3)),1),t=this.model.getCurrentState(),n[0]===this.config.CPVengagementPixelTime&&(i=this.config.teaser.trackers.billable,i.custom1||(i.custom1=n+"timecomplete"),this.firePixel(i)),i=JSON.parse(JSON.stringify(this.config.teaser.trackers.inviewPixel.inview)),i&&(i.custom1=n+i.custom1,this.firePixel(i)))},calculateTwoSecContinousTime:function(){var e;this.twoSecFired=!0,e=JSON.parse(JSON.stringify(this.config.teaser.trackers.inviewPixel["1inView"])),e&&this.firePixel(e)},handleTimerLogic:function(e){this.inview=e,e?(this.checkForMaxTd()&&(this.model.getInviewStartTime()||this.startInviewTD(),this.createInviewTimeOut()),this.twoSecFired||this.create2secContinousTimmer()):(clearTimeout(this.twoSecTimeoutTimmer),clearTimeout(this.inviewTimmner),this.checkForMaxTd()&&this.pauseCumulativeInviewTime())},create2secContinousTimmer:function(){clearTimeout(this.twoSecTimeoutTimmer),this.twoSecTimeoutTimmer=setTimeout(this.calculateTwoSecContinousTime.bind(this),2e3)},createInviewTimeOut:function(){this.inviewTimmner=setTimeout(this.calculateTotalCumulativeTime.bind(this),1e3)},checkForCPVEngType:function(){return"CPV"===this.config.engagementType},getInviewTd:function(){var e=this.model.getTotalTd();return this.inview&&(this.model.setTotalTd(this.model.getTotalTd()+(Date.now()-this.model.getInviewStartTime())),this.checkForTdInInviewArray(e),this.model.setInviewStartTime(Date.now())),e},startInviewTD:function(){this.model.setInviewStartTime(Date.now())},pauseInviewTd:function(){this.model.getInviewStartTime()&&(this.model.setTotalTd(this.model.getTotalTd()+(Date.now()-this.model.getInviewStartTime())),this.model.setInviewStartTime(0))},handleResizeFromVpaid:function(e){return this.calculateScale(i.VPAID.width,i.VPAID.height,970,546),void this.adMessage.setScaleFactor(1/this.adUnitScale)},adjustTeaserDimensions:function(e){var t=this.calculateScale(i.VPAID.width,i.VPAID.height,970,546),n={};return n.top=t.newTopPos,n.left=t.newLeftPos,n},initTracker:function(){var e={};e.pixel_info=this.config.pixelInfo,e.teaser=this.config.teaser.trackers,e.customTrackers=this.model.adConfig.customTrackers,this.tracker.setProperties(e),this.tracker.setEngagementType(this.config.engagementType),this.tracker.setDefaultCustom1paramsforCPV(this.config.pixelInfo.custom1)},transformDAPIPixelData:function(e,t){var i=[],n={};return Array.isArray(t)?(t.forEach(function(t){i.push({name:e,eventName:t.eventName,type:t.type,multi:!!t.multi&&t.multi,value:t.value,data:t.data||void 0,isBillable:!!t.isBillable&&t.isBillable,legacyJsTag:!!t.legacyJsTag&&t.legacyJsTag})}),i.forEach(function(e){n.custom1?("js"===n.trackers[0].type&&(n.custom1=e.value?e.value:e.name),n.trackers.push({pixel:e.eventName?e.eventName:e.value,type:e.type?e.type:"img",isBillable:!!e.isBillable&&JSON.parse(e.isBillable),legacyJsTag:!!e.legacyJsTag&&JSON.parse(e.legacyJsTag)})):n={custom1:e.value?e.value:e.name,custom4:e.data?"data:"+JSON.stringify(e.data)+";":void 0,multi:!!e.multi&&JSON.parse(e.multi),trackers:[{pixel:e.eventName?e.eventName:e.value,type:e.type?e.type:"img",isBillable:!!e.isBillable&&JSON.parse(e.isBillable),legacyJsTag:!!e.legacyJsTag&&JSON.parse(e.legacyJsTag)}]}}),JSON.parse(JSON.stringify(n))):t},fireDesignerApiPixel:function(e){var t=null,i=null,n=null;this.model.adConfig.customTrackers&&(n=e.isDynamic===!0?(this.model.adConfig.customTrackers[e.pixelId+"_RM_dynamic"]?this.model.adConfig.customTrackers[e.pixelId+"_RM_dynamic"]:[])||[]:this.model.adConfig.customTrackers[e.pixelId]||[],e.data&&(t=void 0===(n&&n.isFirePixel)?this.transformDAPIPixelData(e.pixelId,e.data):n,i=void 0===(n&&n.isFirePixel)?this.transformDAPIPixelData(e.pixelId,n):this.model.adConfig.customTrackers[e.pixelId]),n=e.isDynamic===!0?t:i,n.custom1=n.custom1,void 0===e.multi&&(e.multi=n.multi),n.multi=e.multi,e.isDynamic===!0?this.model.adConfig.customTrackers[e.pixelId+"_RM_dynamic"]=this.firePixel(n):this.model.adConfig.customTrackers[e.pixelId]=this.firePixel(n))},firePixel:function(e,t){return this.sandBox.debug&&(this.custom5=this.custom5||this.buildDebuggingPixel()),e.referrer&&e.trigger&&(e.custom2=";trigger:"+e.trigger+";referrer:"+e.referrer),this.custom5&&(e.custom5=this.custom5),this.checkForCPVEngType()&&(e.td=this.getInviewTd(),e.currentState=this.model.getCurrentState(),e.currentState.toLowerCase().indexOf("pekaboo")>-1&&(e.currentState="teaser")),this.tracker.firePixels(e,t)},buildDebuggingPixel:function(){var e="",t={fl:this.config.frameLevel||0,purl:this.config.pageUrl||"",os:this.sandBox.sniffer.getOsInfo()||"",brInfo:this.sandBox.sniffer.getBrowserInfo()||""};return e="custom5=fl:"+t.fl+";os:"+t.os+";brInfo:"+t.brInfo+";purl:"+t.purl+";"},fireTeaserLoaded:function(){var e={type:"img",pixel:"ready"};this.tracker.firePixel(e),this.communicateToPublisher(this.Messages.CALLVPAIDMETHOD.eventName,{methodName:"confirmAdLoaded"})},bindRender:function(){this.adUnitScale=this.calculateScale(i.VPAID.width,i.VPAID.height,950,546).scale,this._boundEvents={};var e,t,n;n=document.getElementById("rm_peel_container"),this.close.add(this.events.CIRCULARCLICK.getEventName(),this.onCircularClick.bind(this)),this.VizuWidget.isVizu&&this.close.add(this.events.CIRCULARHOVER.getEventName(),this.onCircularHover.bind(this)),this.sandBox.baseEventManager.add(this.Messages.PEELINTERACTION.eventName,function(e){switch(e.type){case"mouseenter":this.onPeelMouseOver.call(this,e.eventContent);break;case"mouseout":this.onPeelMouseOut.call(this,e.eventContent);break;case"click":this.onPeelClick.call(this,e.eventContent);break;case"mousemove":this.onPeelMouseMove.call(this,e.eventContent)}}.bind(this)),this.render.add("click.MAINUNIT",this.videoClickOnMainUnit.bind(this)),this.transitionEvent=["loading"],this.lastStableStage=this.currentStage=this.stages.stage1,this.sendUrlConfig(),this.waitForStage2=setTimeout(this.onStage2AnimationStart.bind(this,!0),this.model.getStage2Delay()),e=document.getElementsByTagName("rm_close")[0],t=document.getElementsByTagName("rm_wrapper_close")[0],e.addEventListener(this.events.CIRCULARCLICK.getEventName(),this.onCircularClickMainUnit.bind(this)),this.VizuWidget.isVizu&&(t.addEventListener(this.events.CIRCULARHOVER.getEventName(),this.onCircularHover.bind(this)),e.addEventListener(this.events.CIRCULARHOVER.getEventName(),this.onCircularHover.bind(this))),this.video.replay.container&&this.video.replay.container.addEventListener(this.events.REPLAYCLICK.getEventName(),this.onVideoReplayClick.bind(this)),e.addEventListener(this.events.PEELHOVER.getEventName(),function(e){this.handleMouseOver(e)}.bind(this)),e.addEventListener(this.events.PEELOUT.getEventName(),function(e){this.handleMouseOut(e)}.bind(this)),this.video.addPlayListener(this.videoPlay.bind(this)),this.video.setInitialListeners(this.handleVideoEvent.bind(this)),this.video.add("renderComplete",function(){this.render.showAd(),this.adUnitClicked||this.dontshowMute||(this.video.showUnmuteOverlay(),this.dontshowMute=!0)}.bind(this)),this.video.add("promiseResolved",function(e){this.video.getVideoPromiseVal()&&0===this.intialVolume&&(this.video.getVideoTag().muted=!0),this.communicateToPublisher(this.Messages.PROMISEEVENT.eventName,{isresolved:e})}.bind(this)),(this.sandBox.sniffer.isSafari()||this.sandBox.sniffer.deviceInfo.isIEEdge||"IE"===this.sandBox.sniffer.getBrowserInfo())&&this.model.isVideoDynamicStreaming()&&this.setDefaultVideoPosterImage(),this.sandBox.baseEventManager.add("muse.playlist.playlistEnd",function(){if(this.designerAPI&&this.designerAPI.getCallBackApi){var e=this.designerAPI.getCallBackApi().playListEndEvent;e&&e.call(this.designerAPI)}}.bind(this)),this.sandBox.baseEventManager.add(this.Messages.OPENURLCALLED.eventName,function(e){this.tracker.allActivePixelsFired()?this.resumeMainVideo():this.sandBox.baseEventManager.add("allActivePixelsFired",function(){this.resumeMainVideo()}.bind(this))}.bind(this)),this.teaserContainer=document.getElementById("teaserContainer_"+this.sandBox.id),this.teaserWrapper=document.createElement("div"),this.teaserWrapper.id="teaserWrapper_"+this.sandBox.id,this.teaserWrapper.style.cssText=this.teaserContainer.children[1].style.cssText,this.teaserWrapper.style.zIndex=5,this.teaserWrapper.style.cursor=this.checkForVideoClickUrl()?"pointer":"",this.teaserWrapper.addEventListener("click",function(e){var t=!1,t=this.checkForVideoClickUrl();t&&t.toLowerCase().indexOf("replacethisurl.com")==-1&&(this.openExternalUrl(t),this.handleClickOnVPM(this.model.getPlayerClickEnabled(this.currentStage,this)))}.bind(this)),this.teaserContainer.insertBefore(this.teaserWrapper,this.teaserContainer.lastChild);this.teaserWrapper.clientHeight,this.teaserContainer.clientHeight;this.onTeaserMouseOutEvt=this.onTeaserMouseOut.bind(this),this.onTeaserMouseMoveEvt=this.onTeaserMouseMove.bind(this),this.onTeaserMouseEnterEvt=this.onTeaserMouseEnter.bind(this),this._boundEvents.onPeelMouseMove=this.onPeelMouseMove.bind(this),this.sandBox.baseEventManager.add(this.Messages.TEASERINTERACTION.eventName,function(e){switch(e.type){case"mouseenter":this.onTeaserMouseEnterEvt.call(this,e.eventContent);break;case"mouseout":this.onTeaserMouseOutEvt.call(this,e.eventContent);break;case"click":this.onTeaserMouseClick.call(this,e.eventContent);break;case"mousemove":this.onTeaserMouseMove.call(this,e.eventContent)}}.bind(this)),this.sandBox.baseEventManager.add(this.Messages.SENDCLOSEINTERACTION.eventName,function(e){switch(e.type){case"click":this.onCircularClick.call(this,e.eventContent)}}.bind(this)),n&&n.addEventListener("mousemove",this._boundEvents.onPeelMouseMove),this.tempPeelContainer=n},setDefaultVideoPosterImage:function(){this.defaultVideoposterImage=document.getElementById("posterImage"),this.defaultVideoposterImage&&(this.defaultVideoposterImage.style.display="block")},handleVolumeChange:function(e){var t;if(this.video.getVideoTag()&&(t=this.video.getVideoTag().paused),this.setPlayerVolume(e.volume),n.attributes.volume=e.volume,this.intialVolume=e.volume,0===e.volume&&this.video.getVideoTag()&&(this.video.getVideoTag().muted=!0),"ie"!==this.getDeviceInfo().browserName&&void 0!=this.video.getVideoPromiseVal()&&!this.video.getVideoPromiseVal()&&e.volume>0){var i=this.video.getVideoTag().play();void 0!==i&&i.then(function(){t&&this.video.pausePlayer(),this.video.hideUnmuteOverlay(),this.video.setVideoPromiseVal(!0),this.communicateToPublisher(this.Messages.PROMISEEVENT.eventName,{isresolved:this.video.getVideoPromiseVal()})}.bind(this))["catch"](function(e){t||(this.video.getVideoTag().muted=!0,this.video.getVideoTag().play())}.bind(this))}},handleTogglePauseChange:function(e){e.pause?this.pausePlayer():this.isVideoTabActive()&&this.resumePlayer()},isVideoTabActive:function(){var e=this.video.getVideoTag(),t=!1;if(this.model.getCurrentState()!==this.model.CONST.AD_STATE_MAINUNIT)return!0;for(;e.parentNode;)e.className&&e.className.indexOf("wp-panel-active")>-1&&(t=!0),e=e.parentNode;return t},onStage2AnimationStart:function(){return this.model.setIntermediateState(this.model.CONST.PHAZE_TRANSITION),this.muse_assetLoaded?(this.startStage=this.stages.stage1,this.finalStage=this.stages.stage2,this.currentStage=this.stages.transition,this.sendUrlConfig(),this.peel.element&&this.peel.exitTeaserAnimation(),void this.resizeVideoIntoMainunit(this.model.getAnimationShrinkDuration(!1))):void(this.stage2AnimationPending=!0)},getScreenType:function(){var e=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement;return e},onStage2AnimationEnd:function(){this.lastStableStage=this.stages.stage2,this.currentStage=this.stages.stage2,this.sendUrlConfig(),this.handlePeelVisibility(),this.startStage=void 0,this.finalStage=void 0,this.tweenIns=void 0,this.model.setIntermediateState(),this.model.setCurrentState(this.model.CONST.AD_STATE_STAGE2_PEKABOO),this.stage3Animation=setTimeout(this.onStage3AnimationStart.bind(this),this.model.getMainunitPreviewDuration())},onStage3AnimationStart:function(){this.model.setIntermediateState(this.model.CONST.PHAZE_TRANSITION),this.currentStage=this.stages.transition,this.sendUrlConfig(),this.startStage=this.stages.stage2,this.finalStage=this.stages.stage3,this.peel.exitTeaserAnimation(),this.resizeVideoIntoTeaser(this.model.getAnimationExpandDuration(!1))},onStage3AnimationEnd:function(){this.model.setIntermediateState(),this.model.setCurrentState(this.model.CONST.AD_STATE_STAGE3_POSTPEKABOO),this.lastStableStage=this.stages.stage3,this.currentStage=this.stages.stage3,this.sendUrlConfig(),this.handlePeelVisibility(),this.checkPlayTimeLimitAction(),this.peel.element&&this.peel.hide(),this.startStage=void 0,this.finalStage=void 0,this.mouseOverTeaser?setTimeout(this.onTeaserMouseEnter.bind(this),1):this.peel.element&&this.peel.show()},forceStage3:function(){if(this.currentStage!=this.stages.mainUnit){this.cancelExistingTween(),this.video.resizePlayer(this.videoDimensions.teaser);var e=that.sandBox.sniffer.getDeviceInfo();"ie"===e.browserName&&that.canvas.resizeCanvas(this.videoDimensions.teaser)}},onMainUnitAnimationStart:function(e){this.resizeVideoIntoMainunit(this.model.getAnimationShrinkDuration(!1))},onMainUnitAnimationEnd:function(){this.mainunitLoadStarted=!0,this.currentStage=this.stages.mainUnit,this.sendUrlConfig(),this.peel.element&&this.peel.hide(),this.mainUnitVideoAnimationEnd()},exitAdunit:function(){this.sandBox.isAdunitExited=!0,this.video.removeDataAttribute(),this.video.pausePlayer(),this.video.showControls(!1),this.video.showReplayIcon(!1);var e=document.getElementById("sound-icon-container");e.style.display="none",this.communicateToPublisher(this.Messages.EVENTSMANAGE.eventName,{evt:this.events.PEELENTER.getEventName(),target:"teaser"}),this.communicateToPublisher(this.Messages.EVENTSMANAGE.eventName,{evt:this.events.PEELOUT.getEventName(),target:"teaser"}),this.cancelExistingTimers(),this.cancelExistingTween(),this.video.resizePlayer(this.model.getDimensions("initialVideo"));var t,i=document.querySelector(this.sandBox.adContainerId),n=document.getElementById("rm-main-unit");i=i||document.body,n.style.opacity=0,t=document.getElementsByTagName("rm_video")[0],i.appendChild(t),window.EXPO_CREATIVE.renderedCb=function(){},n.style.opacity=0,this.video.pausePlayer(),this.video.showControls(!1),this.adMessage.hide(),this.peel.element&&this.peel.hide()},handlePeelVisibility:function(e){this.model.isPeelVisible(e||this.currentStage)?this.peel.element&&(this.peel.show(),this.peel.entryPeelAnimation()):this.peel.element&&this.peel.hide()},handleClickOnVPM:function(e){this.adClicked=!0;var t="";switch(this.currentStage){case this.stages.stage1:t="VPM-Intro";break;case this.stages.stage2:t="VPM-Preview";break;case this.stages.stage3:t="VPM-Outro";break;default:t="VPM-Preview"}this.config.teaser.trackers.clickLive.custom1=t,e?(this.exitAdunit(),this.firePixel(this.config.teaser.trackers.clickLive,function(){delete this.config.teaser.trackers.clickLive.custom1,this.videoClickOnMainUnit(!1),this.tracker.allActivePixelsFired()===!0?this.resumeMainVideo(!0):this.sandBox.baseEventManager.add("allActivePixelsFired",function(){this.resumeMainVideo(!0)}.bind(this))}.bind(this))):setTimeout(function(){this.cancelExistingTween(),this.cancelExistingTimers(),this.startStage=this.currentStage,this.finalStage=this.stages.mainUnit,this.transitionEvent=["click"],this.resizeVideoIntoMainunit(this.model.getAnimationShrinkDuration(!0),!0),this.handleUnmuteAction({isUserActionHappened:!0})}.bind(this),2)},cancelExistingTween:function(){this.tweenIns&&(this.tweenIns.stop(),this.currentVideoAnimation=null,this.tweenIns=void 0)},cancelExistingTimers:function(){this.waitForStage2&&clearTimeout(this.waitForStage2),this.stage3Animation&&clearTimeout(this.stage3Animation),this.showCloseButtonTimeout&&(clearTimeout(this.showCloseButtonTimeout),this.showCloseButtonTimeout=!1)},resizeVideoIntoMainunit:function(e,t){var i,n,s={};i=this.video.getSize(),n=document.getElementById("rm_video_framework_ref").getBoundingClientRect(),this.isMainUnitScaled!==!0&&(n={width:n.width,height:n.height,left:n.left,top:n.top}),this.videoDimensions.teaser||(this.videoDimensions.teaser={width:i.width,height:i.height,left:0,top:0}),this.videoDimensions.mainUnit={width:n.width,height:n.height,left:n.left,top:n.top},s={},s.width=this.videoDimensions.mainUnit.width,s.height=this.videoDimensions.mainUnit.height,s.left=this.videoDimensions.mainUnit.left,s.top=this.videoDimensions.mainUnit.top,this.cancelExistingTween(),this.model.setIntermediateState(this.model.CONST.PHAZE_TRANSITION);var o=this.transitionEvent,a=this.currentEvent;this.update(this),this.transitionEvent=o,this.currentEvent=a,this.currentVideoAnimation={type:"mainunit",duration:e,movedToMainUnit:t,started:(new Date).getTime()},this.animateVideo(i,s,e,function(){t&&this.mainUnitVideoAnimationEnd()})},animateVideo:function(e,t,i,n,s){var o=this,a={};a.source=e,a.destination=t,a.duration=i,a.onUpdate=function(){o.videoAnimationUpdate.call(this,o),s?s.call(o,this):""},a.onComplete=function(){o.currentVideoAnimation=null,o.onTransitionEnd.call(o,this),n&&n.call(o,this)},this.helper.animationClip=!1,this.cancelExistingTween(),this.tweenIns=this.helper.createTween(a),this.tweenIns.start(),this.helper.animateClip()},onTransitionEnd:function(){this.tweenIns=void 0,this.mouseOverOngoing=!1,this.finalStage&&this["on"+this.finalStage+"AnimationEnd"]&&this["on"+this.finalStage+"AnimationEnd"].call(this)},resizeVideoIntoTeaser:function(e,t){this.cancelExistingTween();var i=this.video.getSize();this.currentVideoAnimation={type:"teaser",duration:e,callback:t,started:(new Date).getTime()},this.animateVideo(i,this.videoDimensions.teaser,e,t)},checkWaitOnMouseOut:function(){var e=!1;return this.waitOnMouseOut&&(clearTimeout(this.waitOnMouseOut),this.waitOnMouseOut=null,e=!0),e},onPeelMouseMove:function(e){this.communicateToPublisher(this.Messages.EVENTSMANAGE.eventName,{evt:"mousemove",target:"peel"}),this.communicateToPublisher(this.Messages.EVENTSMANAGE.eventName,{evt:"mousemove",target:"teaser"}),this.initialMouseOverPeel=!0,this.initialMouseOverVideo=!1},onTeaserMouseMove:function(e){this.communicateToPublisher(this.Messages.EVENTSMANAGE.eventName,{evt:"mousemove",target:"peel"}),this.communicateToPublisher(this.Messages.EVENTSMANAGE.eventName,{evt:"mousemove",target:"teaser"}),this._boundEvents.onTeaserMouseMove=null,this._boundEvents.onPeelMouseMove=null,this.initialMouseOverPeel=!1,this.initialMouseOverVideo=!0},onPeelClick:function(e){this.handleClickOnVPM(this.model.getPeelClickEnabled(this.currentStage,this))},onTeaserMouseClick:function(e){this.handleClickOnVPM(this.model.getPlayerClickEnabled(this.currentStage,this))},onPeelMouseOver:function(e){var t=(this.checkWaitOnMouseOut(),e.fromElement||e.relatedTarget),i=this.model.getRollOverPeelEnabled(s.isUndefined(this.startStage)?this.currentStage:this.startStage);this.firstInteraction=!0,t&&(t.toLowerCase().indexOf(!0)||t.toLowerCase().indexOf("wrapperdiv")!=-1)&&(t=null),!this.initialMouseOverVideo&&t&&"null"!=t||!i||(this.transitionEvent=["mouseover"],this.handleMouseOver(e))},onPeelMouseOut:function(e){this.adClicked||(this.firstInteraction&&(this.waitOnMouseOut=setTimeout(this.handleMouseOut.bind(this,e),5)),this.mouseOutInsideIframe=!0)},onTeaserMouseEnter:function(e){this.transitionEvent=["mouseover"];var t=(this.video.getSize(),this.checkWaitOnMouseOut()),i=this.adClicked,n=null,o=this.currentStage===this.stages.stage1,a=this.model.getRollOverPlayerEnabled(s.isUndefined(this.finalStage)?this.currentStage:this.finalStage);e&&(n=e.fromElement||e.relatedTarget),this.firstInteraction=!0,n&&"null"!==n&&n.className&&("string"==typeof n.className?n.className.toLowerCase().indexOf("peel")!=-1&&(n=null):n=null),t&&!o&&!this.initialMouseOverPeel||!this.initialMouseOverPeel&&n&&"null"!=n||i||!a||this.handleMouseOver(e)},teaserContainerHandCursor:function(e){},shouldBehandled:function(e){var t,i,n=!1,o=!1;if(!e)return o=!0;t=e.fromElement,i=e.toElement;this.lastStableStage===this.stages.stage1&&this.currentStage==this.stages.transition;try{return t&&t.indexOf("gridDiv")!==-1&&(t="null"),t&&t.indexOf("teaser_iframe")!==-1&&(t="peel"),i&&i.indexOf("gridDiv")!==-1&&(i="null"),!t||t.indexOf("transform-class")===-1&&t.indexOf("peel")===-1&&t.indexOf("img")===-1&&t.indexOf("rm_peelText")===-1||(t="peel"),(t&&t.indexOf("teaserWrapper")!==-1||t.indexOf("wrapperDiv")!==-1)&&(t="teaser"),!i||i.indexOf("transform-class")===-1&&i.indexOf("peel")===-1&&i.indexOf("img")===-1&&i.indexOf("rm_peelText")===-1||(i="peel"),(i&&i.indexOf("teaserWrapper")!==-1||i.indexOf("wrapperDiv")!==-1)&&(i="teaser"),t&&t.indexOf("rm-close")!==-1&&(t="close"),i&&i.indexOf("rm-close")!==-1&&(i="close"),t&&t.indexOf("rm-closebutton-wrapper")!==-1&&(t="close"),i&&i.indexOf("rm-closebutton-wrapper")!==-1&&(i="close"),t==i&&(o=!1),"peel"==t&&"teaser"==i&&(n=this.model.getRollOverPlayerEnabled(s.isUndefined(this.startStage)?this.currentStage:this.startStage),o=n),"peel"==t&&"null"==i&&(o=!0),"teaser"==t&&"peel"==i&&(o=!0),"teaser"!=t||"null"!=i&&null!=i||(o=!0),"null"==t&&"teaser"==i&&(o=!0),"null"!=t&&null!=t||"peel"!=i||(o=!0),"null"!=t&&null!=t||"close"!=i||(o=!0),"close"==t&&"null"==i&&(o=!0),o}catch(e){return!1}},handleMouseOver:function(e){if(!this.shouldBehandled(e)||!this.mainunitLoaded)return!1;var t;if(this.model.isPeelVisible(this.currentStage)&&this.peel.exitTeaserAnimation(),!this.mouseOverOngoing){switch(this.currentStage){case this.stages.stage1:clearTimeout(this.waitForStage2),this.startStage=this.stages.stage1,this.finalStage=this.stages.mainUnit,
this.currentStage=this.stages.transition,this.sendUrlConfig(),t=this.model.getAnimationShrinkDuration(!1),this.resizeVideoIntoMainunit(t);break;case this.stages.stage3:this.startStage=this.stages.stage3,this.finalStage=this.stages.mainUnit,this.currentStage=this.stages.transition,this.sendUrlConfig(),t=this.model.getAnimationShrinkDuration(!1),this.resizeVideoIntoMainunit(t,!0),this.remainingTime<=3&&this.video.setLoop(!0);break;case this.stages.stage2:t=this.model.getAnimationExpandDuration(!0),this.startStage=this.stages.stage2,this.finalStage=this.stages.stage3,this.mouseOverTeaser=!0,this.resizeVideoIntoTeaser(t);break;case this.stages.transition:this.mouseOutOnTransition?(this.mouseOutOnTransition=!1,this.currentStage=this.stages.stage3,this.sendUrlConfig(),this.onTeaserMouseEnter(e)):(t=this.model.getAnimationExpandDuration(!0),this.startStage="transition",this.finalStage=this.stages.stage3,this.mouseOverTeaser=!0,this.resizeVideoIntoTeaser(t))}this.mouseOverOngoing=!0}this.handlePeelVisibility(this.currentStage)},onTeaserMouseOut:function(e){this.mouseOverOngoing=!1,this.firstInteraction&&!this.adClicked&&(this.waitOnMouseOut=setTimeout(this.handleMouseOut.bind(this,e),5))},handleMouseOut:function(e){if(this.transitionEvent=["mouseout"],this.waitOnMouseOut=null,this.firstInteraction&&this.shouldBehandled(e)&&this.mainunitLoaded){var t;this.mouseOverTeaser=!1,this.cancelExistingTween(),this.currentStage!=this.stages.transition&&this.currentStage!=this.stages.stage3||(t=this.model.getAnimationExpandDuration(!0),this.startStage="transition",this.finalStage=this.stages.stage3,this.firePixel(this.config.teaser.trackers.phaze.transition_vpm_mouseout),this.resizeVideoIntoTeaser(t),this.mouseOutOnTransition=!0,this.video.setLoop(!1)),this.handlePeelVisibility()}},handleVideoEvent:function(e){function i(){s&&(c=l.getCurrentVideoSourceId()||l.config.teaser.trackers.videos.video1.custom1,o=l.config.teaser.trackers.videos[c][s]||null,d=l.config.teaser.trackers.videos[c][s]&&(l.config.teaser.trackers.videos[c][s].custom1||l.config.teaser.trackers.videos[c].custom1||c),o&&(o.custom1=d,o.custom2="video1"===c?";vo:0":";vo:999",l.firePixel(o)),l.checkForCPVEngType()&&l.model.getIsInView()===!0&&"video1"===c&&l.fireInviewPcPixels(s,c))}if(e&&e.type&&!this.vpaidInstanceClosed){var s,o,a=this.model.getCurrentState(),r=e.type,l=this,c="",d=null,h=h||this.video.getVideoDuration(),u=null,c=this.getCurrentVideoSourceId()||this.config.teaser.trackers.videos.video1.custom1;switch(u=h&&c===this.video.getDefaultVideoId()?h:e.target.duration,n.attributes.paused!=e.target.paused&&(this.communicateToPublisher(this.Messages.UPDATEVPAIDATTRS.eventName,{attrName:"paused",attrValue:e.target.paused}),n.attributes.paused=e.target.paused,n.attributes.paused?this.pauseRequested&&(this.communicateToPublisher(this.Messages.CALLVPAIDMETHOD.eventName,{methodName:"confirmAdPaused"}),this.pauseRequested=!1):this.resumeRequested&&(this.communicateToPublisher(this.Messages.CALLVPAIDMETHOD.eventName,{methodName:"confirmAdPlaying"}),this.resumeRequested=!1)),r){case"play":!this.oldState||"pause"!==this.oldState&&"suspend"!==this.oldState||e.hasUserInteractedOnce===!0&&(s="resume"),this.oldState=r;var m=this.getCurrentVideoSourceId();this.oldVideoId!=m&&(this.oldVideoId=m,this.checkForLandingPage()),i();break;case"rewind":s="rewind",i();break;case"pause":var f=Math.floor(e.target.currentTime/u*100);s="paused",this.oldState=r,f>96&&(s=void 0),i();break;case"emptied":s="changed",i();break;case"ended":if(!this.adVideoCompleted||this.video.getDefaultVideoId()!==this.getCurrentVideoSourceId()){if(this.adVideoCompleted=!0,s="complete",this.video.showControls(!1),this.communicateToPublisher(this.Messages.CALLVPAIDMETHOD.eventName,{methodName:"confirmOnceAdVideoComplete"}),this.model.getCurrentState()===this.model.CONST.AD_STATE_MAINUNIT&&this.designerAPI&&this.designerAPI.getCallBackApi){var g=this.designerAPI.getCallBackApi().videoEndedEvent;g&&g.call(this.designerAPI,c,e)}i()}break;case"timeupdate":var p=e.target.currentTime,v=Math.min(u,30),C=v-p;if(this.durationRecieved||(this.adMessage.setScaleFactor(1/this.adUnitScale),this.adMessage.show(),this.durationRecieved=!0),isNaN(C)||(this.adMessage.updateRemainingTime(C),a!==this.model.CONST.AD_STATE_STAGE2_PEKABOO&&a!==this.model.CONST.AD_STATE_STAGE3_POSTPEKABOO&&a!==this.model.CONST.AD_STATE_TEASER||(this.communicateToPublisher(this.Messages.UPDATEVPAIDATTRS.eventName,{attrName:"remainingTime",attrValue:C}),this.communicateToPublisher(this.Messages.CALLVPAIDMETHOD.eventName,{methodName:"confirmAdDurationChange"}))),p>0&&this.model.isVideoDynamicStreaming()&&this.defaultVideoposterImage&&(this.defaultVideoposterImage.style.display="none"),p<this.lastCurrentTime?this.totalPlayTime+=p:this.totalPlayTime+=p-this.lastCurrentTime,this.lastCurrentTime=p,this.remainingTime=C,this.peel.updateRemainingTime(C),a!==this.model.CONST.AD_STATE_STAGE2_PEKABOO&&a!==this.model.CONST.AD_STATE_STAGE3_POSTPEKABOO&&a!==this.model.CONST.AD_STATE_TEASER&&a!==this.model.CONST.AD_STATE_VPM&&a!==this.model.CONST.AD_STATE_MAINUNIT)return;var f=Math.floor(e.target.currentTime/u*100);if(p>=u&&this.video.getDefaultVideoId()===this.getCurrentVideoSourceId()){if(this.adVideoCompleted=!0,s="complete",this.video.showControls(!1),this.communicateToPublisher(this.Messages.CALLVPAIDMETHOD.eventName,{methodName:"confirmOnceAdVideoComplete"}),this.model.getCurrentState()===this.model.CONST.AD_STATE_MAINUNIT&&this.designerAPI&&this.designerAPI.getCallBackApi){var g=this.designerAPI.getCallBackApi().videoEndedEvent;g&&g.call(this.designerAPI,c,e)}i()}if(f>=75?(s="thirdquartile",this.communicateToPublisher(this.Messages.CALLVPAIDMETHOD.eventName,{methodName:"confirmOnceAdVideoThirdQuartile"})):f>=50?(s="secondquartile",this.communicateToPublisher(this.Messages.CALLVPAIDMETHOD.eventName,{methodName:"confirmOnceAdVideoMidpoint"})):f>=25?(s="firstquartile",this.communicateToPublisher(this.Messages.CALLVPAIDMETHOD.eventName,{methodName:"confirmOnceAdVideoFirstQuartile"})):f>=0&&(this.tracker.setEngagementTime(),s="start",this.videoStartConfirmed||(this.communicateToPublisher(this.Messages.CALLVPAIDMETHOD.eventName,{methodName:"confirmOnceAdVideoStart"}),this.videoStartConfirmed=!0)),this.designerAPI&&this.designerAPI.getCallBackApi){var g=this.designerAPI.getCallBackApi().videoProgressEvent;g&&g.call(this.designerAPI,c,e)}i(),a!==this.model.CONST.AD_STATE_TEASER&&a!==this.model.CONST.AD_STATE_STAGE2_PEKABOO&&a!==this.model.CONST.AD_STATE_STAGE3_POSTPEKABOO&&a!==this.model.CONST.AD_STATE_MAINUNIT||(this.totalPlayTime>=30||this.totalPlayTime>=u)&&(this.peel.element&&this.peel.destroy(),this.adMessage&&this.adMessage.hide(),this.video.getDefaultVideoId()===this.getCurrentVideoSourceId()&&("CPCV"==this.model.getEngagementType().toUpperCase()?(this.totalPlayTime>=v&&(this.playTimeLimitReached=!0),this.checkPlayTimeLimitAction(!0),this.firePixel(this.config.teaser.trackers.completeView.completeViewCPCV,function(){this.tracker.allActivePixelsFired()?this.checkPlayTimeLimitAction():this.sandBox.baseEventManager.add("allActivePixelsFired",function(){this.totalPlayTime>=v&&(this.playTimeLimitReached=!0,this.checkPlayTimeLimitAction())}.bind(this))}.bind(this))):(this.totalPlayTime>=v&&(this.playTimeLimitReached=!0),this.checkPlayTimeLimitAction(!0),this.firePixel(this.config.teaser.trackers.completeView.completeView,function(){this.tracker.allActivePixelsFired()?this.totalPlayTime>=v&&this.checkPlayTimeLimitAction():this.sandBox.baseEventManager.add("allActivePixelsFired",function(){this.totalPlayTime>=v&&(this.playTimeLimitReached=!0,this.checkPlayTimeLimitAction())}.bind(this))}.bind(this)))));break;case"volumechange":this.communicateToPublisher(this.Messages.UPDATEVPAIDATTRS.eventName,{attrName:"volume",attrValue:e.target.muted===!0?0:e.target.volume}),n.attributes.volume=e.target.volume,this.communicateToPublisher(this.Messages.CALLVPAIDMETHOD.eventName,{methodName:"confirmAdVolumeChange"}),e.hasUserInteractedOnce===!0&&(e.target.muted?(s="mute",this.video.setMuteStatus(!0)):(this.video.setMuteStatus(!1),s="unmute")),i();break;case"fullscreenchange":case"mozfullscreenchange":case"webkitfullscreenchange":case"MSFullscreenChange":"fullscreen"===this.getScreenType()?this.canvasAction("hide"):(this.applyMainUnit(!0),this.canvasAction("reConfig")),this.handleVideoFullScreen(),i();break;default:i()}this.oldState=r,e&&e.type&&this.model.getCurrentState()===this.model.CONST.AD_STATE_MAINUNIT&&t.EventManager.fire("VideoPlayer_e_"+e.type,e)}},fireInviewPcPixels:function(e,t){var i,n=null;try{n=parseInt(t.split("video")[1],10)}catch(s){console.warn("Invalid Video ID")}var o=null;switch(e){case"start":o="0pcInView";break;case"firstquartile":o="25pcInView";break;case"secondquartile":o="50pcInView";break;case"thirdquartile":o="75pcInView";break;case"complete":o="100pcInView"}var a=this.config.teaser.trackers.inviewPixel[o],r=this.config.teaser.trackers.videos[t].custom1;a&&(this.model.getCurrentState()===this.model.CONST.AD_STATE_TEASER&&(i="teaser"),this.model.getCurrentState()===this.model.CONST.AD_STATE_MAINUNIT&&(i="mainunit"),a.custom3=";vo:"+parseInt(n-1,10),a.custom1=r,a.currentState=i,this.firePixel(a))},checkPlayTimeLimitAction:function(e){(this.playTimeLimitReached&&this.currentStage==this.stages.stage3||this.playTimeLimitReached&&this.stage2AnimationPending===!0)&&(this.exitAdunit(),e||setTimeout(function(){this.resumeMainVideo()}.bind(this),0))},checkForLandingPage:function(){this.checkForVideoClickUrl()?(this.teaserContainerHandCursor(!0),this.video.showHandCursor()):(this.teaserContainerHandCursor(!1),this.video.hideHandCursor())},videoPlay:function(){this.firePixel(this.config.teaser.trackers.impression),this.communicateToPublisher(this.Messages.CALLVPAIDMETHOD.eventName,{methodName:"confirmOnceAdImpression"}),this.renderVideoToCanvas()},handleTransition:function(e){switch(e){case"teaser-to-vpm":this.vpmStateReached||this.applyTeaser2VPMVideo();break;case"teaser-to-vpm-fast":this.applyVPMVideo();break;case"vpm-to-teaser":clearTimeout(this.teaserVideoTimeout),this.teaserVideoTimeout="";break;case"vpm-to-mainunit":break;case"vpm-to-teaser-fast":break;case"MainUnit-to-teaser-fast":}},fireDeepEngagement:function(e,t){var i,n="CPE+";this.model.getCurrentState()===this.model.CONST.AD_STATE_MAINUNIT&&(i=this.config.teaser.trackers.deepEngagement.eng,this.model.getEngagementType().toUpperCase()!==n&&1!=t||(i.isBillable=!0),i&&this.tracker.firePixels(i),this.model.getEngagementType().toUpperCase()===n&&this.fireBillablePixels())},handleChangeState:function(e){var t,i="CPM",n="CPME",s=!1;switch(clearTimeout(this.teaserVideoTimeout),this.teaserVideoTimeout="",e){case this.model.CONST.AD_STATE_MAINUNIT:this.peel.element&&this.peel.hide();var o=document.getElementsByTagName("rm_close")[0];if(this.teaserWrapper.style.display="none",o.style.display="block",this.close.hide(),this.communicateToPublisher(this.Messages.CHANGECLOSEDISPLAY.eventName,{display:"none"}),this.showCloseButtonPending=!1,t=this.config.teaser.trackers.engagement.eng,t&&this.firePixel(t),t=null,this.transitionEvent&&this.transitionEvent.indexOf("mouseover")>-1&&this.firePixel(this.config.teaser.trackers.phaze.transition_mainunit_mouseover),this.transitionEvent&&this.transitionEvent.indexOf("click")>-1&&this.firePixel(this.config.teaser.trackers.phaze.transition_mainunit_click),this.checkForCPVEngType()||(t=this.config.teaser.trackers.deepEngagement.eng,t&&(this.model.getEngagementType().toUpperCase()!==i&&this.model.getEngagementType().toUpperCase()!==n||(s=!0),this.deepEngagementTimmer=setTimeout(this.fireDeepEngagement.bind(this,s),5e3))),this.checkForCPVEngType()){var a=this.config.teaser.trackers.billable;a&&this.firePixel(a)}this.model.getEngagementType().toUpperCase()!==i&&this.model.getEngagementType().toUpperCase()!==n||this.fireBillablePixels(),this.peel.destroy();break;case this.model.CONST.AD_STATE_VPM:var r=document.getElementsByTagName("rm_video")[0];r.style.zIndex=999,this.canvasAction("hide"),this.render.hideWrapperContainer(),this.video.setLoop(),this.video.addDataAttribute("vpm"),this.video.showControls(!1);var o=document.getElementsByTagName("rm_close")[0],l=document.getElementsByTagName("rm_wrapper_close")[0];if(this.VizuWidget.isVizu&&(document.body.insertBefore(l,document.body.firstChild),l.style.display="block"),document.body.insertBefore(o,document.body.firstChild),o.style.display="block",this.close.show(),this.clearTimmer)return;this.vpmStateReached=!0,this.clearTimmer=this.applyMainUnit(),this.communicateToPublisher(this.Messages.CHANGEWRAPPERDISPLAY.eventName,{display:"none"}),this.communicateToPublisher(this.Messages.SETHIGHZINDEXTOCONTAINER.eventName,{setHigh:!0}),this.communicateToPublisher(this.Messages.SETHIGHZINDEXTOCONTAINER.eventName,{setHigh:!0}),t=null;break;case this.model.CONST.AD_STATE_TEASER:this.canvasAction("show"),this.video.showControls(!1),this.peel.reset(),this.peel.entryPeelAnimation()}},onVizuStarted:function(){var e=100/this.adUnitScale;this.VizuWidget.applyScale(e)},update:function(e,t){var i,n;return this.model.getIntermediateState()===this.model.CONST.PHAZE_TRANSITION||this.model.getIntermediateState()===this.model.CONST.PHAZE_TRANSITION_FAST?(this.transitionEvent&&s.isArray(this.transitionEvent)&&this.transitionEvent.forEach(function(e){n="transition_"+this.model.getCurrentState()+"_"+e,i=this.config.teaser.trackers.phaze[n.toLowerCase()],i&&this.firePixel(i)}.bind(this)),this.video.showControls(!1),this.handleTransition(t),void(this.transitionEvent=void 0)):(this.currentEvent&&s.isArray(this.currentEvent)&&this.currentEvent.forEach(function(e){n=this.model.getCurrentState()+"_"+this.model.getPreviousState()+"_"+e,i=this.config.teaser.trackers.phaze&&this.config.teaser.trackers.phaze[n.toLowerCase()],i&&this.firePixel(i)}.bind(this)),this.canvasAction("hide"),this.handleChangeState(t),void(this.currentEvent=void 0))},getDeviceInfo:function(){return this.sandBox.sniffer.getDeviceInfo()},renderVideoToCanvas:function(){this.canvasAction("renderVideo")},showComponents:function(){},startComponentManager:function(){"undefined"!=typeof dynamicCreative&&dynamicCreative.renderTeaser(this.model.adConfig,i.ConfigModel.getComponentsConfig()),this.compManager.init(this.sandBox,this.model)},registerForComponentEvent:function(){window.addEventListener("DesignerAPI",function(e,t){this.fireDesignerApiPixel(e.message)}.bind(this),!0),this.sandBox.baseEventManager.add(this.Messages.SETPOSSIBLEEXPANSION.eventName,function(e){this.setPossibleExpansion(e.eventObj)}.bind(this)),this.sandBox.baseEventManager.add(this.Messages.ISINVIEW.eventName,function(e){this.isInView(e.eventObj)}.bind(this))},communicateToPublisher:function(e,t){this.sandBox.baseEventManager.fire(this.Messages.SENDTOPUBLISHER.eventName,{eventName:e,message:t})},setPossibleExpansion:function(e){var t={};this.destinationPosition=e.mainUnitClip,this.sourcePosition=e.possibleExpansion,t.top=e.mainUnitClip.top,this.model.adConfig.teaser.height>this.model.adConfig.fullscreen.height&&(t.top=0),t.left=e.mainUnitClip.left,t.width=this.config.fullscreen.width,t.height=this.config.fullscreen.height,this.model.saveDimensions({vpm:t}),e.expansionData&&(this.config.expansionData=e.expansionData),this.render.initializeComponent.call(this.render),this.video.resizePlayer(this.model.getDimensions("initialVideo")),this.saveInitialProps()},setStyle:function(e,t){for(var i in t)e.style[i]=t[i]},checkForRectangleClose:function(){return"970x250"===this.dimension},getPossibleExpansion:function(){var e={action:"getPossibleExpansion",adId:this.adId,target:{width:this.config.fullscreen.width,height:this.config.fullscreen.height}};this.communicateToPublisher(this.Messages.GETPOSSIBLEEXPANSION.eventName,e)},saveInitialProps:function(){this.model.saveDimensions({teaserCurrent:this.helper.mergeTweenObjects(this.model.getDimensions("initialTeaser"),this.model.getDimensions("initialVideo"))})},applyTeaser2VPMVideo:function(){this.teaserVideoTimeout||(this.teaserVideoTimeout=setTimeout(this.applyVPMVideo.bind(this),2e3))},applyVPMVideo:function(){this.doNotRestartVideo||(this.setPlayerTime(0),this.videoRestarted=!0),this.resumePlayer()},applyPausedVideo:function(){this.pausePlayer()},pausePlayer:function(){CM.requireComponent("VideoPlayer").pausePlayer()},resumePlayer:function(){CM.requireComponent("VideoPlayer").resumePlayer()},setPlayerVolume:function(e){CM.requireComponent("VideoPlayer").setVolume(e)},setPlayerTime:function(e){CM.requireComponent("VideoPlayer").setTime(e)},getCurrentVideoSourceId:function(){return CM.requireComponent("VideoPlayer").getVideoSourceId()},getAllVideos:function(){return CM.requireComponent("VideoPlayer").getAllVideos()},applyTeaserState:function(){var e=document.getElementsByTagName("rm_close")[0];this.showCloseButtonTimeout=setTimeout(function(){this.showCloseButtonPending&&(this.showCloseButtonPending=!1,e.style.display="block")}.bind(this),this.model.getTeaserCloseButtonDelay()),this.showCloseButtonPending=!0,this.resizeClose(),this.canvasAction("show"),this.model.setCurrentState(this.model.CONST.AD_STATE_TEASER),this.startTracking(),this.firePixel(this.config.teaser.trackers.phaze.transition_loading_loaded),this.video.showControls(!1),this.videoWasPlaying=!0;var t=function(e){this.muse_assetLoaded=e,this.clearTimmer||n.call(this)},i=!1;this.replacePriorityTitles(),setTimeout(function(){this.museAssetLoader(t.bind(this),i)}.bind(this),this.model.getAssetLoaderDelay());var n=function(){document.getElementById("rm-main-unit");this.communicateToPublisher(this.Messages.MAINUNITBACKGROUNDDIV.eventName,{action:!0}),this.VPMFastCLick=!1}},startTracking:function(){this.communicateToPublisher(this.Messages.STARTTRACKING.eventName,{})},resizeClose:function(){var e=this.calculateScale(i.VPAID.width,i.VPAID.height,970,546),t=document.getElementsByTagName("rm_close")[0];this.domUtility.hasClass(t,"resized")||(t.classList.add("rm-closebutton-resize"),t.style.webkitTransform="scale("+e+")",t.style.transform="scale("+e+")",this.domUtility.addClass(t,"resized"))},showPeelAfterMainUnitLoaded:function(){this.peel.element&&(this.peel.reset(),this.peel.entryPeelAnimation())},resumeMainVideo:function(e){this.peel.destroy();var t=this.model.getCloseDelay();this.communicateToPublisher(this.Messages.DETACHEVENTS.eventName),this.mainunitLoaded&&this.sandBox.baseEventManager._data("close.mainunit").handlers.length?this.sandBox.baseEventManager.fire("close.mainunit",function(){this.mainunitCloseCB(),e===!0?setTimeout(this.vpaidClosed.bind(this),t):this.vpaidClosed()}.bind(this)):(this.mainunitCloseCB(),e===!0?setTimeout(this.vpaidClosed.bind(this),t):this.vpaidClosed()),this.video.setLoop(!1),this.cancelExistingTween(),this.cancelExistingTimers(),this.adMessage.hide()},onCircularClick:function(){this.exitAdunit(),this.model.setCurrentEvent("circular_"+this.events.CIRCULARCLICK.getEventName()),this.currentEvent=["closebtnclick"],clearTimeout(this.clearTimmer),this.clearTimmer="";var e=this.config.teaser.trackers.close_teaser;e.custom1=this.model.getCurrentState().toLowerCase(),e.custom1.indexOf("pekaboo")>-1&&(e.custom1=this.model.CONST.AD_STATE_TEASER.toLowerCase()),this.firePixel(e,function(){this.tracker.allActivePixelsFired()===!0?this.resumeMainVideo(!0):this.sandBox.baseEventManager.add("allActivePixelsFired",function(){this.resumeMainVideo(!0)}.bind(this))}.bind(this))},onCircularClickMainUnit:function(){document.getElementsByTagName("rm_close")[0];this.VPMFastCLick=!1,this.exitAdunit();var e=this.config.teaser.trackers.close_mainunit;e.custom1=this.model.getCurrentState().toLowerCase(),this.firePixel(e,function(){this.tracker.allActivePixelsFired()===!0?this.resumeMainVideo(!0):this.sandBox.baseEventManager.add("allActivePixelsFired",function(){this.resumeMainVideo(!0)}.bind(this))}.bind(this))},mainunitCloseCB:function(){this.video.getVideoTag().src="",this.exitAdunit();var e,t=document.querySelector(this.sandBox.adContainerId),i=document.getElementById("rm-main-unit");t=t||document.body,i.style.opacity=0,e=document.getElementsByTagName("rm_video")[0],t.appendChild(e),document.querySelector("#appsnack_innerContainer_"+this.sandBox.id).style.display="block",this.model.setCurrentEvent("circular_"+this.events.CIRCULARCLICK.getEventName()),this.currentEvent=["closebtnclick"],clearTimeout(this.clearTimmer),this.clearTimmer="",this.hideMainUnit(),this.video.hideHandCursor(),this.video.removeDataAttribute("mainUnit"),this.canvasAction("renderPosterImage")},vizuCloseWidget:function(){var e;this.VizuWidget.isVizu&&(this.VizuWidget.closeWidget(),e=document.getElementsByTagName("rm_wrapper_close")[0],e.style.display="none")},onCircularHover:function(e){var t=this.model.getCurrentState(),i=this.video.checkPauseStatus();t!==this.model.CONST.AD_STATE_VPM&&t!==this.model.CONST.AD_STATE_MAINUNIT||this.VizuWidget.isVizuAvailable()&&(this.VizuWidget.displayWidget(),i||(this.pausePlayer(),this.VizuWidget.add("resumeVideo",this.resumeVideo.bind(this))))},resumeVideo:function(e){this.VizuWidget.remove("resumeVideo"),this.resumePlayer()},fireVizuControlPixel:function(e){var t=this.config.teaser.trackers.vizuPixel;t.multi=!0,t.custom3=";display:"+e.display+";state:control;",this.firePixel(t)},fireVizuExposedPixel:function(e){var t=this.config.teaser.trackers.vizuPixel;t.multi=!0,t.custom3=";display:"+e.display+";state:exposed;",this.firePixel(t)},fireVizuPixel:function(e){var t,i=this.VizuWidget.getVizuPixel(),n={};n.trackers=[],t={type:"img",src:i},n.pixelUrl=i,n.trackers.push(t),this.tracker.firePixels(n)},vpaidClosed:function(){this.tracker.allActivePixelsFired()?(this.communicateToPublisher(this.Messages.CALLVPAIDMETHOD.eventName,{methodName:"confirmOnceAdStopped"}),this.vpaidInstanceClosed=!0):this.sandBox.baseEventManager.add("allActivePixelsFired",function(){this.communicateToPublisher(this.Messages.CALLVPAIDMETHOD.eventName,{methodName:"confirmOnceAdStopped"}),this.vpaidInstanceClosed=!0}.bind(this))},connectVPAIDMethods:function(){var e=this;n.setAdVolume=this.video.setVolume.bind(this.video),n.pauseAd=function(){e.pauseRequested=!0,e.video.pausePlayer()},n.resumeAd=function(){e.resumeRequested=!0,e.video.resumePlayer()}},pixelHack:function(e){for(var t=e,i=[],n=0;n<t.length;n++)i[n]=t[n];return i},onTeaser2VPMClick:function(){this.model.getIntermediateState()!==this.model.CONST.PHAZE_TRANSITION_FAST&&(this.peel.hide(),this.currentEvent=["closebtnclick"],this.transitionEvent=["click"],this.model.setIntermediateState(this.model.CONST.PHAZE_TRANSITION_FAST),this.helper.transitions.teaser2VPM.call(this.helper,!0))},openExternalUrl:function(e){var e=e||this.checkForVideoClickUrl();if(e&&e.toLowerCase().indexOf("replacethisurl.com")==-1)return window.open(e,"_blank"),!1},videoClickOnMainUnit:function(e){e=void 0===e;var t,i=this.checkForVideoClickUrl(),n=this.video.getVideoSourceId();i&&(this.videoPixels[n]||(this.videoPixels[n]=s.extend({},this.model.adConfig.teaser.trackers.videos.trackers.click||null)),t=this.videoPixels[n],i.toLowerCase().indexOf("replacethisurl.com")==-1&&(t&&(t.custom1=this.config.teaser.trackers.videos[n].custom1||t.custom1||n,this.model.getCurrentState()===this.model.CONST.AD_STATE_MAINUNIT&&this.firePixel(t)),this.pausePlayer(),e===!0&&(this.openExternalUrl(i),this.exitAdunit(),this.tracker.allActivePixelsFired()?this.resumeMainVideo():this.sandBox.baseEventManager.add("allActivePixelsFired",function(){this.resumeMainVideo()}.bind(this)))))},getTeaserURL:function(){var e=this.model.getTeaserCTA();return e},checkForVideoClickUrl:function(){var e=this.model.getCurrentState()===this.model.CONST.AD_STATE_MAINUNIT?this.video.getVideoLandingURL():this.getTeaserURL();if(e&&e.toLowerCase().indexOf("replacethisurl.com")==-1)return!(!e||!s.isString(e)||""===e.trim())&&e},lazyAssetLoader:function(e){var t={baseUrl:this.model.getMuseLocation(),query:{img:"img[data-expo-src]:not([data-priority*=VDXPriorityContainer])"}},i=new this.AssetsLoader(t);i.once("loaded",function(){e.call(this)}),i.load()},replacePriorityTitles:function(){var e,t=[],i=document.querySelectorAll("div[title*=VDXPriorityContainer],img[title*=VDXPriorityContainer]");i=Array.prototype.slice.call(i),i.forEach(function(i){i.getAttribute("title")&&(e=i.getAttribute("title").split(" "),t=[],e=e.filter(function(e){return!(e.indexOf("VDXPriorityContainer")>-1)||(t.push(e),!1)}),i.setAttribute("title",e.join(" ")),i.setAttribute("data-priority",t.join(" ")))})},museAssetLoader:function(e){if(this.assetsloader)this.assetsloader.load();else{var t={baseUrl:this.model.getMuseLocation(),query:{js:'script[type="text/xjavascript"]',link:'link[rel="xstylesheet"]',img:function(){var e=document.querySelectorAll("[data-priority*=VDXPriorityContainer]"),t=[];return e=Array.prototype.slice.call(e),e.forEach(function(e){t=t.concat(Array.prototype.slice.call(e.querySelectorAll("img")))}),t=t.concat(Array.prototype.slice.call(document.querySelectorAll("img[data-expo-src][data-priority*=VDXPriorityContainer]")))}()}},i=function(){$(document).ready(function(){this.model.getCurrentState()===this.model.CONST.AD_STATE_TEASER&&e(!0)}.bind(this)),$("html").css({height:"100%",overflow:"visible"})}.bind(this);this.assetsloader=new this.AssetsLoader(t),this.assetsloader.add("loaded",i),this.assetsloader.once("loaded",function(){var e,t;try{e=new Event("load"),t=new Event("DOMContentLoaded")}catch(i){e=document.createEvent("Event"),e.initEvent("load",!0,!0),t=document.createEvent("Event"),t.initEvent("DOMContentLoaded",!0,!0)}window.dispatchEvent(e),document.dispatchEvent(t)}.bind(this)),this.assetsloader.load()}},applyMainUnit:function(e){var t=(document.getElementsByTagName("rm_video")[0],document.getElementById("rm-main-unit"));if(this.VPMFastCLick=e,this.model.getIntermediateState()!==this.model.CONST.PHAZE_TRANSITION&&this.model.getIntermediateState()!==this.model.CONST.PHAZE_TRANSITION_FAST){e&&(clearTimeout(this.clearTimmer),this.clearTimmer="");var i=function(){var e;s||(clearTimeout(this.clearTimmer),this.clearTimmer="");var i,n,s=(document.getElementsByTagName("rm_video")[0],this.VPMFastCLick);this.muse_assetLoaded&&this.model.getIntermediateState()!==this.model.CONST.PHAZE_TRANSITION&&this.model.getIntermediateState()!==this.model.CONST.PHAZE_TRANSITION_FAST&&(this.model.getCurrentState()!==this.model.CONST.AD_STATE_VPM&&this.model.getCurrentState()===this.model.CONST.AD_STATE_MAINUNIT||(document.querySelector("#appsnack_innerContainer_"+this.sandBox.id).style.display="none",this.model.setIntermediateState(this.model.CONST.PHAZE_TRANSITION),this.update(this,"vpm-to-mainunit"),n=document.getElementsByTagName("rm_close")[0],n.style.display="block",this.VizuWidget.isVizu&&(e=document.getElementsByTagName("rm_wrapper_close")[0],e.style.display="block"),s?this.transitionEvent=["click"]:(this.currentEvent=["timecomplete"],i=this.config.teaser.trackers.phaze.transition_vpm_timecomplete,i&&this.firePixel(i)),this.communicateToPublisher(this.Messages.MAINUNITBACKGROUNDDIV.eventName,{action:!0}),t.style.opacity=1,t.style.width=this.model.adConfig.fullscreen.width+"px",t.style.height=this.model.adConfig.fullscreen.height+"px",t.style.overflow="hidden",this.VPMFastCLick=!1,this.videoAnimation()))},n=setTimeout(i.bind(this),e?0:this.model.adConfig.Core.states[this.model.CONST.AD_STATE_VPM].delayTime);return n}},calculateScale:function(e,t,i,n){var s={},o=1,a=1;o=e/i,a=t/n,s.width=i,s.height=n,s.scaleX=o,s.scaleY=a,s.scale=o>a?a:o,this.adUnitScale=s.scale;var r=Math.abs(Math.floor((s.width*s.scale-e)/2)),l=Math.abs(Math.floor((s.height*s.scale-t)/2));return{newLeftPos:r,newTopPos:l,scale:s.scale}},applyMuseScale:function(e){this.museScaleApplied=!0},applyScale:function(e){var t=i.VPAID.width,n=i.VPAID.height,s=this.calculateScale(t,n,e.offsetWidth,e.offsetHeight);this.scaleObj=s,window.EXPO_CREATIVE.scaleObj=s,this.adUnitScale=s.scale,e&&(e.style.webkitTransform="scale("+s.scale+")",e.style.transform="scale("+s.scale+")",e.style.left=s.newLeftPos+"px",e.style.top=s.newTopPos+"px",this.isMainUnitScaled=!0),document.body.style.minWidth="0px"},showMainUnit:function(){this.adMessage.hide(),this.VizuWidget.isVizuShown()||(this.VizuWidget.add("firePixel",this.fireVizuPixel.bind(this)),this.VizuWidget.add("vizuPixel",this.fireVizuExposedPixel.bind(this)),this.VizuWidget.fireVizuPixel(this.onVizuStarted.bind(this))),this.communicateToPublisher(this.Messages.UPDATEVPAIDATTRS.eventName,{attrName:"duration",attrValue:-2}),this.communicateToPublisher(this.Messages.UPDATEVPAIDATTRS.eventName,{attrName:"remainingTime",attrValue:-2}),this.communicateToPublisher(this.Messages.CALLVPAIDMETHOD.eventName,{methodName:"confirmOnceAdDurationChange"});var e=document.getElementById("rm-main-unit"),t=Array.prototype.slice.call(e.querySelectorAll(".rm-display-none"));t.forEach(function(e){e.classList.remove("rm-display-none")}),this.model.setIntermediateState(),this.model.setCurrentState(this.model.CONST.AD_STATE_MAINUNIT),this.handleVideoFullScreen(),this.update(this,this.model.CONST.AD_STATE_MAINUNIT),this.video.showControls(!0),this.checkForVideoClickUrl()?this.video.showHandCursor():this.video.hideHandCursor(),this.video.addDataAttribute("mainUnit"),this.communicateToPublisher(this.Messages.CHANGEWRAPPERDISPLAY.eventName,{display:"none"}),document.querySelector("#appsnack_innerContainer_"+this.sandBox.id).style.display="none"},handleVideoFullScreen:function(){setTimeout(function(){this.getScreenType()||this.model.getCurrentState()!==this.model.CONST.AD_STATE_MAINUNIT||this.communicateToPublisher(this.Messages.MAINUNITBACKGROUNDDIV.eventName,{action:!0})}.bind(this),500)},videoAnimationUpdate:function(e){e.video.resizePlayer(this);var t=e.sandBox.sniffer.getDeviceInfo();"ie"===t.browserName&&e.canvas.resizeCanvas(this)},resetVideoComponentPosition:function(){var e,t=document.querySelector(this.sandBox.adContainerId),i=document.getElementById("rm-main-unit");t=t||document.body,i.style.opacity=0,e=document.getElementsByTagName("rm_video")[0],t.appendChild(e),document.querySelector("#appsnack_innerContainer_"+this.sandBox.id).style.display="block",this.video.removeDataAttribute("mainUnit"),this.canvasAction("renderPosterImage"),this.hideMainUnit()},mainUnitVideoAnimationEnd:function(){this.sandBox.isMaiunitEntered=!0;var e=this.getAllVideos();e&&e.length<2?this.video.setLoop(!0):this.video.setLoop(!1);var i,n,s,o=document.getElementsByTagName("rm_video")[0];this.video.getSize();this.peel.element&&this.peel.hide(),s=this.video.checkPauseStatus(),this.showMainUnit(),i=document.getElementById("rm_video_framework_ref"),i.appendChild(o),setTimeout(function(){s||this.video.resumePlayer()}.bind(this),0),i.parentNode.style.zIndex="9999",n={width:this.videoDimensions.mainUnit.width+"px",height:this.videoDimensions.mainUnit.height+"px",top:0,left:0},this.video.resizePlayer(n),this.lazyAssetLoader(function(){var e=document.querySelectorAll("iframe[data-expo-src] , iframe[id*=animation]");e=Array.prototype.slice.call(e),e.forEach(function(e){e.setAttribute("src",e.dataset.expoSrc)});var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=this.model.adConfig.museUrl+"css/index-original.css",document.getElementsByTagName("head")[0].appendChild(t);var i=document.getElementById("sound-icon-container");i.style.display="block"}.bind(this)),t.EventManager.fire("VDX_Mainunit_Shown")},hideMainUnit:function(){var e=document.getElementById("rm-main-unit"),t=document.getElementsByTagName("rm_video")[0];e.style.width="100%",e.style.height="100%",e.style.left="0%",e.style.top="0%",t.style.width="100%",t.style.height="100%",this.communicateToPublisher(this.Messages.MAINUNITHIDE.eventName,!0)},fireBillablePixels:function(){var e=this.config.teaser.trackers.PixelDepOnEngType;e&&this.tracker.firePixels(e),e=null},onVideoReplayClick:function(e){e.preventDefault(),e.stopPropagation(),this.video.resumePlayer(),this.video.showReplayIcon(!1),this.fireVideoReplayPixel(),this.video.getVideoTag().manualMute||this.video.setVolume(1);
},fireVideoReplayPixel:function(){var e,t=this.getCurrentVideoSourceId()||"video1";e=this.config.teaser.trackers.videos[t].replay||null,e&&(e.custom1=this.config.teaser.trackers.videos[t].replay&&(this.config.teaser.trackers.videos[t].replay.custom1||this.config.teaser.trackers.videos[t].custom1||"video1"),e.custom2=";vo:0",this.firePixel(e))},setPercentage:function(){var e,t,i,n=document.getElementById("rm-main-unit");e=s.getViewportwidth(),t=s.getViewportHeight(),e<this.model.adConfig.fullscreen.width&&(i=this.model.adConfig.initialPosition.left-this.model.adConfig.adPositon.x,n.style.width=e+"px",n.style.left=i+"px"),t<this.model.adConfig.fullscreen.height&&console.log("height not handled ")}});i.Controller=i.Controller||o}(window,window.EU,window.EXPO_CREATIVE),function(e,t,i){"use strict";var n=t.BaseModel.extend({init:function(e){this.adConfig={},this.CONST={AD_STATE_TEASER:"TEASER",AD_STATE_STAGE2_PEKABOO:"STAGE2_PEKABOO",AD_STATE_STAGE3_POSTPEKABOO:"STAGE3_POSTPEKABOO",AD_STATE_VPM:"VPM",AD_STATE_MAINUNIT:"MAINUNIT",AD_STATE_COLLAPSED_TEASER:"COLLAPSED-TEASER",AD_STATE_COLLAPSED_PAUSED_TEASER:"PAUSED-COLLAPSED-TEASER",AD_STATE_PAUSED_TEASER:"PAUSED-TEASER",PHAZE_TRANSITION:"transition",PHAZE_TRANSITION_FAST:"transitionFast",PHAZE_STATIC:"static",TRIGGER_TRANSITION_COMPLETE:"transitionComplete",TRIGGER_MOUSEOVER:"mouseover",TRIGGER_MOUSEOUT:"mouseout",TRIGGER_CLICK:"click",TRIGGER_LOADED:"loaded",TRIGGER_TIME_COMPLETE:"timecomplete",TRIGGER_CLOSE:"close"},this.adUnitStates={},this.currentState="",this.previousState="",this.currentEvent="",this.previousEvent="",this.AdDimension="",this.intermediateState="",this.totalTd=0,this.cookData(e)},parse:function(e){return e},getAssetLocation:function(){return this.adConfig.location},getCommonAssetLocation:function(){return this.adConfig.assetUrl},getMuseLocation:function(){return this.adConfig.museUrl},getInFocus:function(){return this.infocus},setInFocus:function(e){this.infocus=e},getCurrentState:function(){return this.currentState},getIntermediateState:function(){return this.intermediateState},setIntermediateState:function(e){this.intermediateState=e},setCurrentEvent:function(e){this.currentEvent&&this.setPreviousEvent(this.currentEvent),this.currentEvent=e},getCurrentEvent:function(){return this.currentEvent},getPreviousEvent:function(){return this.previousEvent},setPreviousEvent:function(e){this.previousEvent=e},setCurrentState:function(e){this.currentState&&this.setPreviousState(this.currentState),this.currentState=e},getPreviousState:function(){return this.previousState},setPreviousState:function(e){this.previousState=e},saveDimensions:function(e){this.dimensions||(this.dimensions={});for(var t in e)this.dimensions[t]=e[t]},cookData:function(e){for(var t in e)this.adConfig[t]=e[t];this.adConfig.Core=EXPO_CREATIVE_CONFIG_JSON.Core,this.adConfig.Localization=EXPO_CREATIVE_CONFIG_JSON.Localization},getTransitionTimes:function(){if(this.stateTransitionTimes)return this.stateTransitionTimes;var e={},t=i.ConfigModel.getConfigById("Core").transitions;for(var n in t)e[n]=t[n].duration;return this.stateTransitionTimes=e,e},getTextDirection:function(){return this.adConfig.Localization.locales[this.getLocale()].direction},getTextTranslation:function(e){return this.adConfig.Localization.translations[this.getLocale()][e]},getDimensions:function(e){try{if(!this.dimensions[e])return}catch(t){return}return this.dimensions[e]},updateCurrentVideo:function(e){this.currentVideo&&(this.previousVideo=this.currentVideo),this.currentVideo=e,this.currentVideo.currentTime=-1},updateCurrentVideoTime:function(e){this.currentVideo&&(this.currentVideo.currentTime=e)},getPreviousVideo:function(){return this.previousVideo?this.previousVideo:null},getCurrentVideo:function(){return this.currentVideo?this.currentVideo:null},mergeModelInfo:function(e,i){var n={};return t.utility.extend(n,i),t.utility.extend(n,e),n},getConfigInJSON:function(){return JSON.stringify(this.adConfig)},getVideoPlayerConfig:function(e,t){var i=this.getDimensions("initialVideo"),n=(this.adConfig.teaser[this.getAdDimension().dimension].standard,this.getAssetLocation(),!1);return null!=this.adConfig.templateJson&&(n=!0),i.videos=t&&t.videos||null,i.teaserCta=t&&t.teaserCta,i.prop={videoID:"videoID",autoplay:!0,isMuted:!0,loop:!0,controlTimeOut:3e3,unmuteIcon:this.getCommonAssetLocation()+"/animatedMuteIcon.png",controlBarFontConfig:{fontName:"icomoon",fontBaseLoc:this.getCommonAssetLocation(),files:{eot:"icomoon.eot",ttf:"icomoon.ttf",woff:"icomoon.woff",svg:"iconmoon.svg"},versionStr:"po37ye"}},i.museLocation=this.getMuseLocation(),i.isVideoDynamicStreaming=this.adConfig.isVideoDynamicStreaming,i.loopDuration=this.adConfig.videoLoopDuration,i.fromVdxStudio=n,"init"==e?i:t},isVideoDynamicStreaming:function(){return this.adConfig.isVideoDynamicStreaming},getPeelConfig:function(){var e,t={explore:"Explore","rollover-to-explore":"Rollover to explore","click-to-replay":"Click to replay","content-starting-in":"content starting in","click-to-explore-now":"click to explore now"};return t=this.cookDataForLang(t),e={dimension:this.getAdDimension(),languageStr:t,branding:this.getBrandingText(),location:this.getCommonAssetLocation(),duration:this.adConfig.peelBrandingDuration||0,logo:this.getAssetLocation()+(this.adConfig.wizardConfig.teaser.execution.instream&&this.adConfig.wizardConfig.teaser.execution.instream.logo||this.adConfig.wizardConfig.teaser.execution.display.logo),cssText:this.adConfig.teaser.cssText||"",dynamicPeelConfig:this.getDynamicPeelConfig(),dynamicPeelData:this.getDynamicPeelData()}},getDynamicPeelConfig:function(){return this.adConfig.wizardConfig.teaser.dynamicPeelConfig},getDynamicPeelData:function(){var e=this.adConfig.dynamicData,i=null;return e&&e.rawData&&t.utility.isObject(this.adConfig.dynamicData.rawData)&&(i=e.rawData),i},cookDataForLang:function(e){return Object.keys(e).forEach(function(t){this.getTextTranslation(t)&&(e[t]=this.getTextTranslation(t))}.bind(this)),e},getTeaserTrackers:function(){var e={};return this.adConfig?this.adConfig.teaser["default"].trackers:e},getTeaserConfig:function(){return this.adConfig},getLocale:function(){return this.adConfig.locale},getTeaserCTA:function(){var e=this.adConfig.wizardConfig.teaser.execution.instream&&this.adConfig.wizardConfig.teaser.execution.instream.teaserlandingPageUrl||this.adConfig.wizardConfig.teaser.execution.display.teaserlandingPageUrl;return e},getBrandingText:function(){var e=this.adConfig.branding;return"default"===e&&(e="VDX BY EXPONENTIAL"),e},getCloseConfig:function(){var e={},t={display:"none",position:"absolute",top:"10px",right:"10px","z-index":10};return e.src=this.adConfig.fullscreen.closeBtnImg.src,e.style=t,e.className="closeContainer",e},getRectangCloseConfig:function(){var e={},t={close:"Close"},i={display:"none","z-index":3001,position:"absolute",top:"10px",right:"10px",width:"45px",height:"16px",backgroundColor:"#333333",color:"white",fontSize:"11px",fontStyle:"bold",textAlign:"center",border:"1px solid white",paddingTop:"2px",opacity:".7"};return t=this.cookDataForLang(t),e.style=i,e.className="rm-rectangCloseContainer",e.src="CLOSE",e.languageStr=t,e},getVizuWidgetConfig:function(){var e={};return e.wrapper={id:"rm-vizuwidget_wrapper_container",classname:"rm-vizuwidget_wrapper_container"},e.innerContainer={id:"rm-vizuwidget_peel_container",classname:"rm-vizuwidget_peel_container",displaywidget:"rm-expand_vizu_widget",removewidget:"rm-remove_vizu_widget",closewidget:"rm-close_vizu_widget",invisiblewidget:"rm-close_vizu_widget_invisible",src:this.getCommonAssetLocation()+"/peelbg_vizu.png"},e.dimWrapper={classname:"rm-dim_wrapper",id:"rm-dim_wrapper_id",showClassname:"rm-dim_wrapper_show"},e.mainUnitDiv={id:"rm-main-unit"},e.iframeWrapper={id:"iframediv",classname:"rm-vizuwidget_Iframe_show"},e.dummyButton={buttonCover:"rm-dummyButton_Wrapper"},e},getReplayConfig:function(){var e={},t={replay:"Replay"},i={display:"none","z-index":3e3,position:"absolute",margin:"auto",top:0,left:0,right:0,bottom:0};return e.className="replay",e.style=i,e.src=this.getCommonAssetLocation()+"/replay.png",t=this.cookDataForLang(t),e.languageStr=t,e},getPrerollConfig:function(){return{polite:this.adConfig.polite,closeBtnDelay:this.adConfig.closeBtnDelay,advText:{position:this.adConfig.message.position,text:this.adConfig.message.text,style:this.adConfig.message.style},video:{id:"video1"}}},getAdvertiserTextConfig:function(){var e={advertisertext:"Advertisement. Your video will begin in [#] seconds."};return e=this.cookDataForLang(e),{advText:{position:"top",text:e.advertisertext.text,fontSize:e.advertisertext.fontSize}}},getAdMessageConfig:function(){var e=this.getAdvertiserTextConfig().advText;return e.className="rm-align-horizontal-center",e},getPlayWrapperConfig:function(){var e={};return e.style={width:"510px",height:"27px",position:"absolute",bottom:"6px","z-index":"10",left:"53px",display:"none"},e.className="playWrapper",e},setAdDimension:function(e){this.AdDimension=e},getAdDimension:function(){return{dimension:this.AdDimension}},getIsInView:function(){return this.isInview},setIsInView:function(e){this.isInview=e},getCanvasConfig:function(){var e=this.getDimensions("initialVideo");return e},getMainUnit_client_logo:function(){var e=this.adConfig.mainunit.panels[0].logo,i={src:this.getAssetLocation()+e.src,landingurl:e.landingurl,style:e.style?t.utility.ObjToStyleString(e.style):""};return i},getMainUnit_cta:function(){var e=this.adConfig.mainunit.panels[0].CTA,t={text:e.text,style:e.style,fontStyle:{max:12,min:10},"white-space":"nowrap"};return t},getMainUnit_tag_line:function(){var e=this.adConfig.mainunit.panels[0].tagLine,t={text:e.text?e.text:"",style:e.style,fontStyle:{max:17,min:11}};return t},getMainUnit_close:function(){var e={close:this.adConfig.fullscreen.closeBtnImg.src};return e},getMainUnit_brand:function(){var e={brand:"VDX BY EXPONENTIAL"};return e},getEngagementType:function(){return this.adConfig.engagementType||"CPM"},getRollOverPlayerEnabled:function(e){return this.adConfig.instreamConfig[e.toLowerCase()]&&this.adConfig.instreamConfig[e.toLowerCase()].isEnableRollOverPlayer||!1},getRollOverPeelEnabled:function(e){var t=!1;return"stage2"!==e.toLowerCase&&(t=this.adConfig.instreamConfig[e.toLowerCase()]&&this.adConfig.instreamConfig[e.toLowerCase()].isEnableRollOverPeel||!1),t},getPlayerClickEnabled:function(e,t){var i=e;"transition"===e.toLowerCase()&&(i="stage1"==t.lastStableStage.toLowerCase()?"stage2":t.lastStableStage);try{return this.adConfig.instreamConfig[i.toLowerCase()].isEnablePlayerClickThrough}catch(n){return console.log(n),!1}},getPeelClickEnabled:function(e,t){var i=!1,n=e;return"transition"===e.toLowerCase()&&(n="stage1"==t.lastStableStage.toLowerCase()?"stage2":t.lastStableStage),"stage2"!==e.toLowerCase&&(i=this.adConfig.instreamConfig[n.toLowerCase()].isEnablePeelClickThrough),i},getStage2Delay:function(){return this.adConfig.instreamConfig.previewTeaser},getCloseDelay:function(){return this.adConfig.instreamConfig.closeDelay},getMainunitPreviewDuration:function(){return this.adConfig.instreamConfig.previewMainUnit},setInviewStartTime:function(e){this.inviewStartTime=e},getInviewStartTime:function(){return this.inviewStartTime},setTotalTd:function(e){this.totalTd=e},getTotalTd:function(){return this.totalTd},getAnimationShrinkDuration:function(e){return e?this.adConfig.instreamConfig.fastShrinkDuration:this.adConfig.instreamConfig.shrinkDuration},getAnimationExpandDuration:function(e){return e?this.adConfig.instreamConfig.fastExpandDuration:this.adConfig.instreamConfig.expandDuration},getInviewPixelTimer:function(){return this.adConfig.inviewPixelTimer},getAssetLoaderDelay:function(){return this.adConfig.instreamConfig.loadMainUnitDelay},isPeelVisible:function(e){return this.adConfig.instreamConfig[e.toLowerCase()]&&this.adConfig.instreamConfig[e.toLowerCase()].isPeelVisible||!1},getCustomPixel:function(e){return this.adConfig?this.adConfig.customPixel[e]:""},getTeaserCloseButtonDelay:function(){return this.adConfig.instreamConfig.teaserCloseButtonDelay}});e.EXPO_CREATIVE.Model=e.EXPO_CREATIVE.Model||n}(window,window.EU,window.EXPO_CREATIVE),function(e,t,i){"use strict";var n=t.BaseModel.extend({init:function(e){this.configData={},this.cookData(e),this.excludeConfigs=["Core","Localization"]},parse:function(e){return e},cookData:function(e){for(var t in e)this.configData[t]=e[t]},getComponentsConfig:function(){var e={};for(var t in this.configData)this.excludeConfigs.indexOf(t)==-1&&(e[t]=this.configData[t]);return e},setConfigById:function(e,t,i){if(e&&t&&i)return void(this.configData[e][i]=t);if(!e||!t)throw"Insufficient/Invalid parameters";this.configData[e]=t},getConfigById:function(e,t){var i=t&&this.configData&&this.configData[e]&&this.configData[e][t]?this.configData[e][t]:this.configData[e];return i||{}}});i.ConfigModel=i.ConfigModel||new n(EXPO_CREATIVE_CONFIG_JSON)}(window,window.EU,window.EXPO_CREATIVE),function(e){"use strict";function t(){this.store={client_logo:[],tag_line:[],cta:[],close:[],brand:[]}}t.prototype={getDirectives:function(){return this.store}},e.DirectiveStore=new t}(window),function(e,t,i,n){"use strict";function s(e){var i=e.config.id,n=t.Enum({enumList:[{GETCREATIVECONFIG:{name:"getCreativeConfig"}},{CREATIVECONFIG:{name:"creativeConfig"}},{ISINVIEW:{name:"isInView"}},{SHOWVIZU:{name:"showVizu"}},{LOADVIZU:{name:"loadVizu"}},{FIREVIZUCONTROLPIXEL:{name:"fireVizuControlPixel"}},{STARTTRACKING:{name:"startTracking"}},{MAINUNITLOAD:{name:"mainUnitLoad"}},{DIMENSIONCHANGE:{name:"dimensionChange"}},{STARTFROMVPAID:{name:"startFromVpaid"}},{VOLUMEFROMVPAID:{name:"volumeFromVpaid"}},{TOGGLEPAUSEFROMVPAID:{name:"togglepauseFromVpaid"}},{GETINITIALDIMENSIONS:{name:"getDimensions"}},{SETINITIALDIMENSIONS:{name:"setInitialDimensions"}},{SENDTOCREATIVE:{name:"sendToCreative"}},{SENDTOPUBLISHER:{name:"sendToPublisher"}},{VIDEOPLAY:{name:"videoPlay"}},{VIDEOPLAY:{name:"videoPlay"}},{"GETID(true)":{name:"getId"}},{"SENDID(true)":{name:"sendId"}},{"CONFIGUREID(true)":{name:"configureId"}},{"CREATIVELOADED(true)":{name:"creativeLoaded"}},{"RENDERPROGRESSSTATUS(true)":{name:"renderProgressStatus"}},{GETPOSSIBLEEXPANSION:{name:"getPossibleExpansion"}},{SETPOSSIBLEEXPANSION:{name:"setPossibleExpansion"}},{SETEXPOCONTAINERCLIP:{name:"expandExpoContainer"}},{CREATIVEINTREACTION:{name:"creativeIntreaction"}},{HANDLETEASERINTERACTION:{name:"handleTeaserInteraction"}},{MAINUNITBACKGROUNDDIV:{name:"mainunitBackgroundDiv"}},{CHANGEWRAPPERDISPLAY:{name:"changeWrapperDisplay"}},{CHANGECLOSEDISPLAY:{name:"changeCloseDisplay"}},{SETHIGHZINDEXTOCONTAINER:{name:"setHighZIndexToContainer"}},{CHANGEIFRAMEDIMENSION:{name:"changeIframeDimension"}},{RESETIFRAMEDIMENSION:{name:"resetIframeDimension"}},{MAINUNITHIDE:{name:"mainUnitHide"}},{IFRAMERESIZECLICK:{name:"iframeResizeClick"}},{CALLVPAIDMETHOD:{name:"callVpaidMethod"}},{UPDATEVPAIDATTRS:{name:"updateVpaidAttrs"}},{REQUESTVPAIDATTRS:{name:"updateVpaidAttrs"}},{GETVPAIDATTRS:{name:"updateVpaidAttrs"}},{PEELANIMATING:{name:"peelAnimating"}},{OPENURLCALLED:{name:"openUrlCalled"}},{ALLACTIVEPIXELSFIRED:{name:"allActivePixelsFired"}},{GETPEELCONFIG:{name:"getPeelConfig"}},{CALLPEELMETHOD:{name:"callPeelMethod"}},{PEELINTERACTION:{name:"peelInteraction"}},{TEASERINTERACTION:{name:"teaserInteraction"}},{SENDCLICKCONFIG:{name:"sendClickConfig"}},{SENDCLOSEINTERACTION:{name:"sendCloseInteraction"}},{SENDUNMUTEINTERACTION:{name:"sendUnmuteInteraction"}},{EVENTSMANAGE:{name:"eventsManage"}},{DETACHEVENTS:{name:"detachEvents"}},{PROMISEEVENT:{name:"promisevent"}},{PEELEVENTSBOUND:{name:"pp"}}],constructor:function(e){this.eventName=e?this.name:this.name+"."+i},getEventName:function(){return this.eventName}});return n}var o="1.0.0";n&&n.registerPlugin("messages",s,o),i&&i.registerPlugin("messages",s,o)}(window,window.EU,window.EXPO_CREATIVE,window.EXPO_PUB),function(e,t,i){"use strict";function n(e){var t={ms:"ms",moz:"Moz",webkit:"Webkit"},i=EU.CreateClass({pfx:["webkit","moz","MS","o",""],customEvent:function(e,t){function i(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}try{return new CustomEvent("test"),CustomEvent(e,t)}catch(n){}return i.prototype=window.Event.prototype,new i(e,t)},hasClass:function(e,t){return e.classList?e.classList.contains(t):-1<e.className.indexOf(t)},addClass:function(e,t){if(e.classList)return e.classList.add(t);if(!this.hasClass(e,t)){var i=e.className.split(" ");i.push(t),e.className=i.join(" ")}return e},removeClass:function(e,t){if(e.classList)return e.classList.remove(t);var i=e.className.split(" ");return i.push(t),e.className=i.join(" "),e},addPrefixedEventListener:function(e,t,i){var n=0;for(n=0;n<this.pfx.length;n++)this.pfx[n]||(t=t),e.addEventListener(this.pfx[n]+t,i,!1)},removePrefixedEventListener:function(e,t,i){for(var n=0;n<this.pfx.length;n++)this.pfx[n]||(t=t.toLowerCase()),e.removeEventListener(this.pfx[n]+t,i,!1)},show:function(e){e.style.display=""},hide:function(e){e.style.display="none"},vendorPrefix:function(){var e=window.getComputedStyle(document.documentElement,""),i=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return t[(i||"").toLowerCase()]},addCssRules:function(e,t,i){var n=document.styleSheets[document.styleSheets.length-1];if(i)for(var s in document.styleSheets)if(document.styleSheets[s].href&&document.styleSheets[s].href.indexOf(i)>-1){n=document.styleSheets[s];break}if("undefined"==typeof n||null===n){var o=document.createElement("style");o.type="text/css",document.head.appendChild(o),n=o.sheet}if(n)if(n.insertRule){var a=e+"{"+t+"}";n.insertRule(a,n.cssRules?n.cssRules.length:0)}else n.addRule&&n.addRule(e,t)},isWebkitBrowser:function(){return/WebKit/.test(navigator.userAgent)},attachEvent:function(e,t,i){e.addEventListener(t,i,!1)},detachEvent:function(e,t,i){e.removeEventListener("type",i,!1)},injectFont:function(e,t){var i={eot:"embedded-opentype",woff:"woff",ttf:"truetype",svg:"svg"},n=[],s="@font-face {\n",o=e.fontBaseLoc;s=s+"font-family:'"+e.fontName+"';\n";for(var a=e.files,r=Object.keys(a),l=0;l<r.length;l++){var c="";c=0===l?c+"src:":"";var d="url('"+o+a[r[l]]+"?"+e.versionStr;c=0===l?c+d+"');\nsrc:"+d+"#iefix')":c+d+"')",c=c+" format('"+i[r[l]]+"')",n.push(c)}s+=n.join(",\n"),s+=";\nfont-weight: normal;\nfont-style: normal; \n}";var h=document.createElement("style");h.type="text/css",h.styleSheet?h.styleSheet.cssText=s:h.appendChild(document.createTextNode(s)),document.getElementsByTagName("head")[0].appendChild(h)},calculateFontSize:function(e,t,i,n){var s=document.createElement("span");s.id="dummyid",s.style.opacity="0";var o=document.createTextNode(e);for(document.body.appendChild(s),s.appendChild(o);s.offsetWidth>t&&(i--,s.style.fontSize=i+"px",i!==n););return document.body.removeChild(s),i}});return new i}var s="1.0.0";t&&t.registerPlugin("domUtility",n,s),i&&i.registerPlugin("domUtility",n,s)}(window,window.EXPO_CREATIVE,window.EXPO_PUB),function(e,t,i,n){"use strict";function s(e){var t={},i=EU.CreateClass({constructor:function(){},tmpl:function n(e,i){var s=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):t[e]=t[e]||n(document.getElementById(e).innerHTML);return i?s(i):s}});return new i}var o="1.0.0";t&&t.registerPlugin("templateEngine",s,o),i&&i.registerPlugin("templateEngine",s,o)}(window,window.EXPO_CREATIVE,window.EXPO_PUB,window.CM),function(e,t,i){"use strict";function n(e){var t=(navigator.userAgent,EU.CreateClass({deviceInfo:{},constructor:function(){this.UAParser=new UAParser,this.setParsedUA(),this.parsedUA,this.setDeviceInfo()},setDeviceInfo:function(){var e={},t=navigator.userAgent;e.deviceType=this.isTablet(t)||this.checkIsMobile(t)||this.isDesktop(t)||"unknown",e.osName=this.getOsInfo(t,e.deviceType),e.name=this.getDeviceName(t),e.browserName=this.getBrowserName(t),e.browserVersion=this.getBrowserVersion(t),e.isIEEdge=this.isIEEdge(t),e.isChrome=this.isChrome(),e.isSafari=this.isSafari(),e.isIE=this.isIE(),this.deviceInfo=e},isTablet:function(e){var e=e.toLowerCase(),t=!!(e.match(/ipad/)||e.match(/tablet/)||e.match(/linux/)&&e.match(/android/)&&!e.match(/mobile/)||e.match(/kindle/)||e.match(/kfot/)||e.match(/silk/))&&"tablet";return t},isDesktop:function(e){var t=!!(e.match(/Windows.(NT|XP|ME|9)/)&&!e.match(/Phone/i)||e.match(/Win(9|.9|NT)/i)||e.match(/Macintosh|PowerPC/i)&&!e.match(/Silk/i)||e.match(/Linux/i)&&e.match(/X11/i)||e.match(/Solaris|SunOS|BSD/i))&&"desktop";return t},getBrowserName:function(e){return e.match(/Trident/i)&&e.match(/Trident/i)[0]||e.match(/Edge/i)&&e.match(/Edge/i)[0]?"ie":"unknown"},isChrome:function(){return"chrome"===this.parsedUA.browser.name.toLowerCase()},isSafari:function(){return"safari"===this.parsedUA.browser.name.toLowerCase()},isSafariGreaThanEqualTo11:function(){return"safari"===this.parsedUA.browser.name.toLowerCase()&&parseInt(this.parsedUA.browser.major)>=11},isIEEdgeGreaThanEqualTo15:function(){return"edge"===this.parsedUA.browser.name.toLowerCase()&&parseInt(this.parsedUA.browser.major)>=15},isIE:function(){return"ie"===this.parsedUA.browser.name.toLowerCase()||"edge"===this.parsedUA.browser.name.toLowerCase()},isIEEdge:function(e){return!(!e.match(/Edge/i)||!e.match(/Edge/i)[0])},getDeviceInfo:function(){return this.deviceInfo},checkForSameOrign:function(){try{return top.location.href}catch(e){return!1}},getOsInfo:function(){var e="Unknown OS";return navigator.appVersion.indexOf("Win")!=-1&&(e="Windows"),navigator.appVersion.indexOf("Mac")!=-1&&(e="MacOS"),navigator.appVersion.indexOf("X11")!=-1&&(e="UNIX"),navigator.appVersion.indexOf("Linux")!=-1&&(e="Linux"),e},getDeviceName:function(e){var t=e.toLowerCase(),i={safari:"samsung tablet","mobile safari":"samsung mobile",ipod:"ipod",iphone:"iphone",ipad:"ipad","nexus 7":"nexus7",kfot:"kindle fire",htc_one_v:"htc one","nexus 10":"nexus10"},n=/mobile safari|safari|ipad|ipod|iphone|nexus 7|kfot|htc_one_v|nexus 10/;return i[t.match(n)]},getBrowserVersion:function(e){return this.parsedUA.browser.major},getBrowserInfo:function(){var e="";return(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))!=-1?e="Opera":navigator.userAgent.indexOf("Chrome")!=-1?e="Chrome":navigator.userAgent.indexOf("Safari")!=-1?e="Safari":navigator.userAgent.indexOf("Firefox")!=-1?e="Firefox":navigator.userAgent.indexOf("MSIE")==-1&&1!=!!document.documentMode||(e="IE"),e},isMobile:function(){return this.deviceInfo.isMobile=navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/iPhone|iPad|iPod/i)||navigator.userAgent.match(/Opera Mini/i)||navigator.userAgent.match(/IEMobile/i)},checkIsMobile:function(e){var e=e.toLowerCase(),t=e.indexOf("mobile")>0&&e.indexOf("ipad")==-1&&"mobile";return t},getParsedUA:function(){return this.parsedUA},setParsedUA:function(){this.parsedUA=this.UAParser.getResult()}}));return new t}var s="1.0.0";t&&t.registerPlugin("sniffer",n,s),i&&i.registerPlugin("sniffer",n,s)}(window,window.EXPO_CREATIVE,window.EXPO_PUB),function(e,t){"use strict";var i=t.utility,n=t.CreateClass({constructor:function(e){this.directive=e},cookData:function(e){var t;for(var i in e)t[i]=e[i];return t},compile:function(e){i.assert(e&&i.isString(e),"expected type a non-empty String for template string");var t,n=this.createVirtualElement(e);return t=this.createStore(n,this.directive),{virtualElement:n,store:t}},createVirtualElement:function(e){var t=document.createElement("div");return t.innerHTML=e,t},createStore:function(e,t){var i,n=Array.prototype.slice.call(e.getElementsByTagName("*"),0);return n.forEach(function(e){i=e.tagName.toLowerCase().split("_"),i.shift(),i=i.join("_"),t[i]&&t[i].push(this.directiveSystem(i,e))}.bind(this)),t},directiveSystem:function(e,t){return{id:"expo_"+e,tag:t}}});t.Template=t.Template||new n(e.DirectiveStore.getDirectives())}(window,window.EU),function(e,t,i,n){"use strict";function s(e,i){function n(t){var n=function(i,n){function s(){document.hidden?n.call(this,0,!0):n.call(this,o,!0)}var o=0,l=null,c=0,h=!1,u={top:{inview:!0},center:{inview:!0},bottom:{inview:!0}},m=this,f=function(t){var i;i=(e.config.assetUrl||"")+"safariViewabilityTemplate.html",g(t,i,"top"),g(t,i,"center"),g(t,i,"bottom")},g=function(e,t,i){var n,s;switch(t=t+"?id="+i+"&rnd="+r,n=document.createElement("iframe"),n.id=i,n.setAttribute("frameBorder","0"),n.setAttribute("marginheight","0"),n.setAttribute("marginwidth","0"),n.setAttribute("scrolling","no"),n.setAttribute("hspace","0"),n.setAttribute("vspace","0"),n.setAttribute("src",t),n.setAttribute("allowfullscreen","true"),i){case"top":s="top:0px";break;case"center":s="top:50%;left:50%";break;case"bottom":s="bottom:0px;right:0px;"}n.style.cssText="position:absolute;width:1px;height:1px;"+s,e.appendChild(n)},p=function(e){var t=e.data;r===t.rnd&&"viewabilityChanged"===t.eventName&&(u[t.id].inview=t.inview,u.top.inview||u.bottom.inview||u.center.inview||(o=0),!u.top.inview&&!u.bottom.inview||u.center.inview||(o=1),(u.top.inview&&u.center.inview||u.bottom.inview&&u.center.inview)&&(o=50),u.top.inview&&u.center.inview&&u.bottom.inview&&(o=100),o!==l&&(h?(l=o,d(i,o)&&n.call(m,o)):(clearTimeout(c),c=setTimeout(function(){l=o,h=!0,d(i,o)&&n.call(m,o)}.bind(this),1e3))))};return f(t),a.addEventListener("message",p,!1),a.document.addEventListener("visibilitychange",s,!1),{stopTracking:function(){a.removeEventListener("message",p,!1)},stopHandlingVisibilityChange:function(){a.document.removeEventListener("visibilitychange",s,!1)}}},o=function(e,i){function n(){document.hidden?i.call(this,0,!0):i.call(this,r,!0)}var o=s.isArray(e)?e.map(function(e){return e/100}):[e/100],r=0,l={rootMargin:"0px",threshold:o},c=null;return"IntersectionObserver"in window?(c=new IntersectionObserver(function(e){e.forEach(function(e){r=100*e.intersectionRatio,i.call(this,r)})},l),c.observe(t),a.document.addEventListener("visibilitychange",n,!1),{stopTracking:function(){c.unobserve(t)},stopHandlingVisibilityChange:function(){a.document.removeEventListener("visibilitychange",n,!1)}}):(console.log("Intersection observer not supported"),i(!1))},l=function(e,i){function n(){document.hidden?y.stop(!0):y.start(!0)}var s=null,o=!0,l=null,h=null,u=null,m={offset:10,dispatched:null},f=function(){c()?(m.width=a.innerWidth,m.height=a.innerHeight):(g(t),m.width=parseInt(t.style.width,10),m.height=parseInt(t.style.height,10),l=document.getElementById("expo_point1"+r),h=document.getElementById("expo_point2"+r),u=document.getElementById("expo_point3"+r))},g=function(e){l=document.createElement("div"),h=document.createElement("div"),u=document.createElement("div"),l.id="expo_point1"+r,h.id="expo_point2"+r,u.id="expo_point3"+r,l.style.cssText=h.style.cssText=u.style.cssText="position: absolute; width: 10px; height: 10px; opacity: 0; z-index: 100;",e.appendChild(l),e.appendChild(h),e.appendChild(u)},p=function(e,t){return a.document.elementFromPoint(e,t)},v=function(){return c()?E():C()},C=function(){var e=parseInt(m.width/2,10),t=null,i=null,n=null;return l.style.top=m.offset+"px",l.style.left=e+"px",h.style.left=e+"px",h.style.top=parseInt(m.height/2)+"px",u.style.left=e+"px",u.style.top=parseInt(m.height-m.offset)+"px",t=l.getBoundingClientRect(),i=h.getBoundingClientRect(),n=u.getBoundingClientRect(),{top:p(t.left,t.top),middle:p(i.left,i.top),bottom:p(n.left,n.top)}},E=function(){var e=parseInt(m.width/2,10);return{top:p(e,m.offset),middle:p(e,parseInt(m.height/2),10),bottom:p(e,parseInt(m.height-m.offset),10)}},T=function(t){var n=v(),a=0;!n.top&&!n.bottom||n.middle?n.top&&n.middle&&n.bottom?a=100:n.middle?a=50:n.top||n.middle||n.bottom||(a=0):a=1,null==s?(s=a,d(e,a)&&i.call(this,a,t)):s!==a&&(s=a,d(e,a)&&i.call(this,a,t)),o&&y.start()},y={id:!1,start:function(e){o=!0,this.id&&a.cancelAnimationFrame(this.id),this.id=a.requestAnimationFrame.call(a,T.bind(null,e))},stop:function(e){this.id&&a.cancelAnimationFrame(this.id),s=null,o=!1,i.call(this,0,e)}};return f(),y.start(),a.document.addEventListener("visibilitychange",n,!1),{stopHandlingVisibilityChange:function(){a.document.removeEventListener("visibilitychange",n,!1)},stopTracking:function(){y.stop()}}},c=function(){try{return window.self!==window.top}catch(e){return!0}},d=function(e,t){return s.isArray(e)?e.some(function(e){return t>=parseInt(e,10)}):t>=parseInt(e,10)};this.track=function(e,t){if(!t)throw new Error("Start callback is not defined");if(!e)throw new Error("inViewPercentages is not defined");return i.deviceInfo.isSafari?n.call(this,e,t.bind(this)):i.deviceInfo.isIE&&!i.isIEEdgeGreaThanEqualTo15()?l.call(this,e,t.bind(this)):o.call(this,e,t.bind(this))}}var s=t.utility,o={},a=s.getWindowContext(),r=e.config.id,l=t.CreateClass({subscribeElem:function(e,t,i,s){var a=new n(e);o[t+r]=a.track(i,s)},unsubscribeElem:function(e){var t=e+r;o[t]&&(o[t].stopTracking(),o[t].stopHandlingVisibilityChange(),delete o[t])},getElementsInViewport:function(e,t){function i(t,n){var s=t.getBoundingClientRect();s.bottom<=r&&s.top>=0&&(o.push(t.id),t[n]&&t[n].className===e&&i(t[n],n))}var n=s.getWindowContext(),o=[],t=t||n,a=t.innerWidth,r=t.innerHeight,l=document.elementFromPoint(a/2,r/2);return i(l,"nextElementSibling"),i(l.previousElementSibling,"previousElementSibling"),o},isElemInView:function(e,t){t=void 0===t?0:t;var i=e.getBoundingClientRect(),n=100-t;return i.top>=-(n/100*i.height)&&i.left>=-(n/100*i.width)&&i.bottom<=(window.innerHeight||document.documentElement.clientHeight)+n/100*i.height&&i.right<=(window.innerWidth||document.documentElement.clientWidth)+n/100*i.width}});return new l}var o="1.0.0";i&&i.registerPlugin("InView",["sniffer"],s,o),n&&n.registerPlugin("InView",["sniffer"],s,o)}(window,window.EU,window.EXPO_CREATIVE,window.EXPO_PUB),function(e,t,i){"use strict";function n(e){var t='video/mp4; codecs="avc1.64001f,mp4a.40.02"',i=null,n=null,s=null,o=null,a=0,r=0,l=[],c=0,d=!1,h=null,u=!1,m="",f=EU.CreateClass({init:function(e,t){i=this,i.resetFlags(),a=e.loopDuration,m=e.fromVdxStudio?e.assetLocation:e.assetLocation+"assets/",h=t,u||(u=!0,i.fetchMpdMetaData(e.mpdMetaFileSrc,function(e){u=!1,i.parseMpdDOM(e)}))},resetFlags:function(){n=null,s=null,r=0,c=0,l=[],d=!1},isMediaoSourceOpen:function(){return n&&"open"===n.readyState},isSourceBufferUpdating:function(){return s&&!s.updating},fetchMpdMetaData:function(e,t){var i=this,n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="text",n.send(),n.onreadystatechange=function(){n.readyState==n.DONE&&i.parseMpdFileData(n.response,t)}},parseMpdFileData:function(e,t){var i=new DOMParser,n=i.parseFromString(e,"text/xml",0),s=n.querySelectorAll("Representation")[0];t(s)},parseMpdDOM:function(e){var t=e.querySelectorAll("SegmentList")[0].childNodes;l=[];for(var n=0;n<t.length;n++)1===t[n].nodeType&&l.push(t[n]);o=Number(e.querySelectorAll("SegmentList")[0].getAttribute("duration")),a=o,i.initMediaSource()},initMediaSource:function(){var e;i.isMSESupported()&&MediaSource.isTypeSupported(t)?(n=new MediaSource,e=URL.createObjectURL(n),n.addEventListener("sourceopen",i.sourceOpen.bind(i)),h(e,o)):console.error("Unsupported MIME type or codec: ",t)},isMSESupported:function(){return"MediaSource"in window},sourceOpen:function(){0===c&&i.isMediaoSourceOpen()&&(s=n.addSourceBuffer(t),s.addEventListener("updateend",i.nextSegment.bind(i)),i.fetchSegment())},fetchSegment:function(){if(i.isMediaoSourceOpen()&&l.length>0){var e;e=0===c?l[c].getAttribute("sourceURL"):l[c].getAttribute("media"),i.fetchRange(e)}},fetchRange:function(e){e=m+e;var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(){i.appendSegment(t.response),l[c]&&(r+=Number(l[c].getAttribute("chunkTime")));
},t.send()},appendSegment:function(e){i.isMediaoSourceOpen()&&i.isSourceBufferUpdating()&&s.appendBuffer(e)},fetchPendingChunks:function(){i=this,d=!0,i.isMediaoSourceOpen()&&i.nextSegment()},nextSegment:function(e){i.isMediaoSourceOpen()&&"ended"!==n.readyState&&(c===l.length-1?n.endOfStream():(r<a||d)&&(c+=1,i.fetchSegment()))}});return new f}var s="1.0.0";t&&t.registerPlugin("VideoDynamicStreaming",n,s),i&&i.registerPlugin("VideoDynamicStreaming",n,s)}(window,window.EXPO_CREATIVE,window.EXPO_PUB),function(e,t,i,n){"use strict";var s="1.0.0",o={},a=e.top!==e;i.registerPlugin("render",["events","videoPlayer","close","adMessage","rectangClose","replay","canvas","sniffer","templateEngine","messages","playWrapper","customHandlers","vizuWidget","InView"],function(s,r,l,c,d,h,u,m,f,g,p,v,C,E,T){var y,w=(s.baseEventManager,s.utility),S=t.BaseEventManager.extend({constructor:function(){this.compManager=n,this.directiveObj="",this.initializeComponent=w.compose(this.setConfig,this.createInnerContainerDiv),this.currentListeners={},this.inviewTarget=void 0},renderTheme:function(e){var i=document.getElementById("expo_template_mainUnit").innerHTML;this.directiveObj=t.Template.compile(i),e.appendChild(this.directiveObj.virtualElement),e.appendChild(this.directiveObj.virtualElement.querySelector("rm_video"))},calculateScale:function(e,t,i,n){var s={},o=1,a=1;o=e/i,a=t/n,s.width=i,s.height=n,s.scaleX=o,s.scaleY=a,s.scale=o>a?a:o,this.adUnitScale=s.scale;var r=Math.abs(Math.floor((s.width*s.scale-e)/2)),l=Math.abs(Math.floor((s.height*s.scale-t)/2));return{newLeftPos:r,newTopPos:l,scale:s.scale}},renderMainUnitComponent:function(e){Object.keys(e).forEach(function(t){if(e[t][0]){var i=this.creativeModel["getMainUnit_"+t](),n=this.generateElement(g.tmpl(e[t][0].id,i));e[t][0].tag.appendChild(n)}}.bind(this))},checkForCharectorLimitMainUnit:function(){var e=this.directiveObj.store;Object.keys(e).forEach(function(t){var i=this.creativeModel["getMainUnit_"+t]();if(e[t][0]&&e[t][0].tag.dataset.character){var n={max:i.fontStyle.max,min:i.fontStyle.min,text:i.text,container:e[t][0].tag,"white-space":i["white-space"]};w.charectorLimit(n)}}.bind(this))},generateElement:function(e){var t=document.createElement("div");return t.innerHTML=e,t.children[0]},initRender:function(){var e=this.getHandler(a);s.sniffer=f,s.baseEventManager.add(p.CREATIVELOADED.eventName,e);var t=document.querySelector(s.adContainerId);t=t||document.body,this.creativeOuterContainer=t,this.renderTheme(this.creativeOuterContainer);var i=t.getElementsByTagName("rm_video")[0];this.createContainerDiv(i||document.body),this.createWrapperContainer(i||document.body),this.bindCommunications(e),s.baseEventManager.fire(p.SENDTOPUBLISHER.eventName,{eventName:p.GETCREATIVECONFIG.eventName},!0),C.setCustomHandlerss()},createContainerDiv:function(e){this.teaserContainer=document.createElement("div"),this.teaserContainer.id="teaserContainer_"+s.id.replace(/\$/g,""),this.teaserContainer.style.position="absolute",this.teaserContainer.style.width="100%",this.teaserContainer.style.height="100%",e.appendChild(this.teaserContainer)},createWrapperContainer:function(){this.wrapperContainer=document.createElement("div"),this.wrapperContainer.className="rm-wrapper-container",this.hideWrapperContainer(),this.teaserContainer.appendChild(this.wrapperContainer)},showWrapperContainer:function(){this.wrapperContainer.style.display="block"},hideWrapperContainer:function(){this.wrapperContainer.style.display="none"},getHandler:function(t){var i,n;return i=t?function(t,i){n=document.referrer?document.referrer||window.customReferrer:window.customReferrer||"",t.trust="erm",("about:blank"===n||n.indexOf("javascript:")>-1)&&(n="*"),e.parent.postMessage(JSON.stringify(t),n)}:function(e,t){s.baseEventManager.fire(e.eventName,e)}},initComponents:function(e){this.config=this.creativeModel.adConfig,this.controller=new i.Controller(n,this.creativeModel,s,this),this.registerEventHandlers()},bindCommunications:function(e){s.baseEventManager.add(p.SENDTOPUBLISHER.eventName,e),s.baseEventManager.add(p.DIMENSIONCHANGE.eventName,this.handleDimensionChange.bind(this)),s.baseEventManager.add(p.SETINITIALDIMENSIONS.eventName,this.handleDimensionChange.bind(this)),s.baseEventManager.fire(p.SENDTOPUBLISHER.eventName,{eventName:p.GETINITIALDIMENSIONS.eventName},!0),s.baseEventManager.add(p.CREATIVECONFIG.eventName,function(e){var t=i.Model;this.creativeModel=new t(e),this.applyMainUnitBGColor(),this.renderMainUnitComponent(this.directiveObj.store),this.compManager.registerForComponentLoaded(this.initComponents.bind(this)),s.baseEventManager.fire(p.SENDTOPUBLISHER.eventName,{eventName:p.GETPEELCONFIG.eventName,eventObj:this.getPeelconfig()},!0),this.inviewTarget=document.getElementById("rm-main-unit")}.bind(this)),s.baseEventManager.add(p.CREATIVEINTREACTION.eventName,this.handleIntractions.bind(this))},getPeelconfig:function(){if(this.creativeModel.adConfig.templateJson){var e={explore:"Explore","rollover-to-explore":"Rollover to explore","click-to-replay":"Click to replay","content-starting-in":"content starting in","click-to-explore-now":"click to explore now"};this.creativeModel.adConfig.locale=this.creativeModel.adConfig.templateJson["1x10"].locale||"en",e=this.creativeModel.cookDataForLang(e);var t=this.creativeModel.getPeelConfig();t.languageStr=e,this.creativeModel.adConfig.templateJson["1x10"].peelConfig&&this.creativeModel.adConfig.templateJson["1x10"].peelConfig.branding&&(t.branding=this.creativeModel.adConfig.templateJson["1x10"].peelConfig.branding);var i=this.getState(this.creativeModel.adConfig.templateJson["1x10"].states,"teaser");return this.creativeModel.adConfig.templateJson.baseUrl||this.creativeModel.adConfig.e9.creativeBuilderCfg||(this.creativeModel.adConfig.templateJson.baseUrl=this.creativeModel.adConfig.location),this.overridePeelLogo(i.elements,t,this.creativeModel.adConfig.templateJson.baseUrl)}return this.creativeModel.getPeelConfig()},getState:function(e,t){var i;for(var n in e)if(e[n].name==t){i=e[n];break}return i},overridePeelLogo:function(e,t,i){for(var n in e)if("peel"===e[n].name){var s=e[n].elements;for(var o in s)if("peel-logo"===s[o].name){var a=s[o].properties.style;for(var r in a)if("background-image"===r){var l=this.parseBackgroundImage(a[r]);t.logo=this.constructPath(l,i)}else t.cssText=r+":"+a[r]}}return t},parseBackgroundImage:function(e){return e},constructPath:function(e,t){e=e.trim();var i=e.indexOf("//")!=-1?e:t+e;return i},applyMainUnitBGColor:function(){var e=document.getElementById("rm-main-unit");this.creativeModel.adConfig.fullscreen&&this.creativeModel.adConfig.fullscreen.mainUnitBGColor&&(e.style.backgroundColor=this.creativeModel.adConfig.fullscreen.mainUnitBGColor),this.inviewTarget=e},registerEventHandlers:function(){s.baseEventManager.once(p.MAINUNITLOAD.eventName,function(){this.registerMainunitEvents()}.bind(this)),n.requireComponent("Replay").registerEventHandler(this.handleIntractions.bind(this)),this.teaserContainer.addEventListener(r.TEASERCLICK.getEventName(),this.handleIntractions.bind(this))},registerMainunitEvents:function(){var e=document.getElementsByClassName("videoInnerContainer")[0];e&&e.addEventListener(r.TEASERCLICK.getEventName(),this.handleIntractions.bind(this))},handleDimensionChange:function(e){i.VPAID||(i.VPAID={}),i.VPAID.width=e.width,i.VPAID.height=e.height,this.creativeOuterContainer.style.width="970px",this.creativeOuterContainer.style.height="546px",this.creativeOuterContainer.style.overflow="hidden",this.scale=this.calculateScale(e.height,e.width,970,546),this.setConfig(),this.innerContDiv&&(this.innerContDiv.style.width="970px",this.innerContDiv.style.height="546px"),this.controller&&this.controller.handleResizeFromVpaid(e.viewMode||"normal")},handleIntractions:function(e){if(e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.name&&~e.name.indexOf("rectangClose"))this.fire(e.name);else{this.creativeModel.setCurrentEvent(this.creativeModel.getCurrentState()+"_"+e.type);var t=e.type+"."+this.creativeModel.getCurrentState();this.fire(t)}},handleTeaserInteractions:function(e){e.name="teaser_"+e.type,this.handleIntractions(e)},applyStateListeners:function(e,t){this.currentListeners=e},removeStateListeners:function(e,t){delete(this.currentListeners[t]||o)[e]},setInitialTracker:function(){},createInnerContainerDiv:function(){this.innerContDiv||(this.innerContDiv=document.createElement("div"),this.innerContDiv.id="appsnack_innerContainer_"+this.config.id.replace(/\$/g,""),this.teaserContainer.appendChild(this.innerContDiv)),this.innerContDiv.style.width="970px",this.innerContDiv.style.height="546px",this.innerContDiv.style.left="0px",this.innerContDiv.style.top="0px",this.innerContDiv.style.position="absolute",this.innerContDiv.style.position="absolute"},getInstreamDimension:function(){return i.VPAID},resizeInnerContainer:function(){this.innerContDiv.style.width="100%",this.innerContDiv.style.height="100%",this.innerContDiv.style.left="",this.innerContDiv.style.top=""},setConfig:function(){this.creativeModel&&this.creativeModel.saveDimensions({initialTeaser:{width:970,height:546,left:0,top:0},initialVideo:{left:0,top:0,width:970,height:546},finalVideo:{left:0,top:0,width:i.VPAID.width,height:i.VPAID.height}})},applyTweenDimensions:function(e){var t,i,o,a,r,l=["width","height","top","left"],c={},d={};a=this.creativeModel.getCurrentState(),r=this.creativeModel.CONST;for(var h in l)c[l[h]]=e["container."+l[h]],d[l[h]]=e["video."+l[h]];this.creativeModel.getIntermediateState()!==r.PHAZE_TRANSITION&&(t=this.innerContDiv,t.style.width=c.width+"px",t.style.height=c.height+"px",t.style.top=c.top+"px",this.config.teaser.height>this.config.fullscreen.height&&(t.style.top=c.top+"px"),t.style.left=c.left+"px"),i={},i.right=c.left+c.width,i.bottom=c.top+c.height,i.top=c.top,i.left=c.left;var u="rect("+i.top+"px "+i.right+"px "+i.bottom+"px "+i.left+"px)";n.requireComponent("VideoPlayer").resizePlayer(d),o=s.sniffer.getDeviceInfo(),"ie"===o.browserName&&n.requireComponent("Canvas").resizeCanvas(d),this.setIframeClip(u)},setIframeClip:function(e,t){var i={action:"setIframeClip",adId:this.adId,gridDiv:"appsnack_teaser_iframe_"+this.config.id.replace(/\$/g,""),teaserDiv:this.config.divid,clip:e,currentState:this.creativeModel.getCurrentState(),previousState:this.creativeModel.getPreviousState(),transition:this.creativeModel.getIntermediateState()};s.baseEventManager.fire(p.SENDTOPUBLISHER.eventName,{eventName:p.SETEXPOCONTAINERCLIP.eventName,message:i})},showAd:function(){document.documentElement.style.visibility="visible"}});return y=new S},s)}(window,window.EU,window.EXPO_CREATIVE,window.CM),function(e,t,i){"use strict";var n,s="1.0.0";t.registerPlugin("tracker",function(e){function t(){this.engagementTime=0,this.activePixels={},this.appendCustomvalue="",this.isEngFired=!1,this.previousTdValue=0,this.engagementType="",this.custom1CPV=""}var i,s=e.utility,o=function(e){function t(t){t.src=e.url}var i="tf_thirdparty_iframe_pixel_";s.createSameDomainIframeNode(i,0,0,t)},a=function(t,i,n,o){function a(i,s){var a,r,l=i,c=function(){t.activePixels[o]&&t.activePixels[o].pop(),t.activePixels[o]&&0===t.activePixels[o].length&&("function"==typeof n?n.call(this):"",t.allActivePixelsFired()===!0&&e.baseEventManager.fire("allActivePixelsFired",!0))};e.baseEventManager.once("scriptcbsuccess",c),r=document.createElement("script"),r.classList.add("scriptLoader"),r.type="text/javascript";var d={trust:"erm",eventName:"scriptcbsuccess"};r.innerHTML="window.parent.postMessage("+JSON.stringify(d)+",'*')",/^https?:\/\//i.test(s.pixel)||0===s.pixel.indexOf("//")?(a=document.createElement("script"),a.src=s.pixel,a.type="text/javascript",l.contentWindow.document.write(a.outerHTML)):0===s.pixel.indexOf("<scr")||0===s.pixel.indexOf("%3C")?l.contentWindow.document.write(s.pixel):(a=document.createElement("script"),a.innerHTML=s.pixel,a.type="text/javascript",l.contentWindow.document.write(a.outerHTML)),l.contentWindow.document.write(r.outerHTML)}var r="tf_thirdparty_js_pixel_";s.createSameDomainIframeNode(r,0,0,a,i)},r=function(t,i,n,s){"function"==typeof s&&0==i.isBillable?s.call(this):"",this.allActivePixelsFired()===!0&&e.baseEventManager.fire("allActivePixelsFired",!0);var o=function(i,n){this.activePixels[t]&&this.activePixels[t].pop(),this.activePixels[t]&&0===this.activePixels[t].length&&("function"==typeof s?s.call(this):"",this.allActivePixelsFired()===!0&&e.baseEventManager.fire("allActivePixelsFired",!0))},a=document.createElement("img");a.addEventListener("load",function(e){o.call(this,e,i)}.bind(this)),a.addEventListener("error",function(e){o.call(this,e,i)}.bind(this)),a.src=t},l=[],c=t.prototype;return c.allActivePixelsFired=function(){var e=!0;return!(!this.activePixels||0!=Object.keys(this.activePixels).length)||(Object.keys(this.activePixels).forEach(function(t){this.activePixels[t].length>0&&(e=!1)}.bind(this)),e)},c.queued=function(e){l.push(e)},c.resetQueue=function(){l=[]},c.setDefaultCustom1paramsforCPV=function(e){this.custom1CPV=e},c.setEngagementType=function(e){this.engagementType=e},c.unqueued=function(){for(var e=l.length,t={},i=0;i<e;i++)t=l.shift(),this.firePixels(t)},c.setProperties=function(e){for(var t in e)this[t]=e[t]},c.setHost=function(e){this.pixelInfo.host=e},c.resetEngagementTime=function(){"resetEngagementTime"!=i&&(this.previousTdValue=this.previousTdValue+this.getSessionTime(),this.engagementTime=0,i="resetEngagementTime")},c.setEngagementTime=function(){i&&"setEngagementTime"==i||(this.engagementTime=(new Date).getTime(),this.isEngFired=!0,i="setEngagementTime")},c.resetEngagementTime=function(){"resetEngagementTime"!=i&&(this.previousTdValue=this.previousTdValue+this.getSessionTime(),this.engagementTime=0,i="resetEngagementTime")},c.setEngagementTime=function(){i&&"setEngagementTime"==i||(this.engagementTime=(new Date).getTime(),this.isEngFired=!0,i="setEngagementTime")},c.getLastcall=function(){return i},c.getSessionTime=function(){var e=(new Date).getTime()-this.engagementTime;return e},c.getTimeDifference=function(){var e;return e=0===this.engagementTime?this.previousTdValue:this.previousTdValue+((new Date).getTime()-this.engagementTime)},c.replaceTimeDifference=function(e,t){return e=e.replace(/@TIMEDIFFERENCE@/g,t)},c.replaceIncustom1=function(e,t){var i="";return i=this.custom1CPV.replace(/@FROM@/g,e?e:"@FROM@"),i=i.replace(/@STATE@/g,t?t:"@STATE@")},c.replaceActualDomain=function(e,t){return t=t&&t.split("?")[0],e=e.replace(/@ACTUAL_DOMAIN@/g,t)},c.replaceParamInurlFrag=function(e,t,i,n,s){for(var o,a=t,r=e.split("&"),l=0;l<r.length;l++)r[l].match(new RegExp(a,"g"))&&(o=r[l].split("="),n||(o[1]=s),n===!0&&(o[1]=o[1]+i+s),r[l]=o.join("="));return r.join("&")},c.getPixelUrl=function(e){var t,i,n,s,o=this.pixel_info,a=o.insSuffixUrl,r="implive"===e.pixel.toLowerCase()?o.custom3impLive:o.custom3;if(/^https?:\/\//i.test(e.pixel))return e.pixel;e.currentState&&(e.currentState=e.currentState.toLowerCase()),t="undefined"==typeof e.custom1?"CPV"===this.engagementType?"&custom1="+this.replaceIncustom1(e.custom1,e.currentState):"":"CPV"===this.engagementType?"&custom1="+this.replaceIncustom1(e.custom1,e.currentState):"&custom1="+e.custom1,"undefined"==typeof e.custom2&&(i=""),"undefined"!=typeof e.custom3&&(r+=e.custom3),n="undefined"==typeof e.custom4?"":a.match("custom4")?e.custom4:"&custom4="+e.custom4,s="undefined"==typeof e.custom5?"":"&"+e.custom5,a+=r,a=this.splitinsSuffixUrl(a,e),a=this.replaceParamInurlFrag(a,"custom4",";",!0,n);var l="//"+o.host+o.insPrefixUrl+o.campaignName+o.insMidUrl+e.pixel+t+a+s,c=void 0===e.td?this.getTimeDifference():e.td;return l=this.replaceTimeDifference(l,c),l=this.replaceActualDomain(l,o.currentDomain)},c.splitinsSuffixUrl=function(e,t){for(var i=e.split("&"),n=0;n<i.length;n++)"undefined"!=typeof t.custom2&&i[n].match(/custom3=/)&&(i[n]+=t.custom2);return e=i.join("&")},c.getAppendCustomValue=function(){return this.appendCustomvalue},c.firePixelsById=function(e,t,i){if(this.customTrackers&&this.customTrackers[e]){var n=this.customTrackers[e];void 0===t&&(t=n.multi),n.multi=t,"CPV"===this.engagementType&&(n.currentState="mainunit"),this.firePixels(n,i)}},c.firePixel=function(e,t,i){var n=this;switch(e.type){case"img":var s=t||this.getPixelUrl(e);e.isBillable&&(this.activePixels[s]=this.activePixels[e.pixel]||[],this.activePixels[s].push(e.pixel)),r.call(n,s,e,t,i);break;case"js":e.isBillable&&(this.activePixels[e.pixel]=this.activePixels[e.pixel]||[],this.activePixels[e.pixel].push(e.pixel)),a(n,e,i,e.pixel);break;case"iframe":o(e)}},c.firePixels=function(e,t){try{var i=e.trackers,n=i.length,s={};if(n>0&&(e.multi||!e.isFirePixel)){for(var o=0;o<n;o++)s.custom1=e.custom1&&e.custom1.length>0&&e.custom1 instanceof Array?e.custom1[o]:e.custom1,s.custom2=e.custom2,s.custom4=e.custom4,e.custom3&&(s.custom3=e.custom3),e.custom5&&(s.custom5=e.custom5),void 0!==e.td&&(s.td=e.td),e.currentState&&(s.currentState=e.currentState),s.pixel=i[o].pixel,s.type=i[o].type,s.legacyJsTag=i[o].legacyJsTag,s.isBillable=e.isBillable||i[o].isBillable||!1,this.firePixel(s,e.pixelUrl,t);e.isFirePixel=!0}return e}catch(a){throw a}},n?n:n=new t},s)}(window,window.EXPO_CREATIVE,window.CM),function(e,t,i){"use strict";var n="1.0.0";t.registerPlugin("rectangClose",function(e){var t=EU.BaseComponent.extend({constructor:function(){},config:{},element:{},wrapperElement:{},init:function(e){i.requestConfig(e),this.handleInteractions()},prepareHtml:function(){this.element=document.createElement("div"),this.element.className=this.config.className,Object.keys(this.config.style).forEach(function(e){this.element.style[e]=this.config.style[e]}.bind(this)),this.element.innerHTML=this.config.src,this.element.innerHTML=this.config.languageStr.close.text.toUpperCase(),this.element.style.fontSize=this.config.languageStr.close.fontSize+"px"},render:function(e){this.wrapperElement=document.createElement("div"),this.wrapperElement.className="rm-rectangular-close-wrapper";var t=document.querySelector(e);t.appendChild(this.element),t.appendChild(this.wrapperElement)},hide:function(){this.element.style.display="none",this.wrapperElement.style.display="none"},show:function(){this.element.style.display="block",this.wrapperElement.style.display="block"},handleInteractions:function(){this.element.addEventListener("click",this.handler.bind(this)),this.element.addEventListener("mouseover",this.handler.bind(this)),this.element.addEventListener("mouseout",this.handler.bind(this)),this.wrapperElement.addEventListener("mouseover",function(e){e.stopImmediatePropagation()}),this.wrapperElement.addEventListener("mouseout",function(e){e.stopImmediatePropagation()})},registerEventHandler:function(e){},handler:function(e){e.stopImmediatePropagation(),this.fire(e.type)},onConfig:function(e,t){this.config=e,this.prepareHtml(),this.render(t)}});i.registerComponent(new t,"RectangClose")},n)}(window,window.EXPO_CREATIVE,window.CM),function(e,t,i){"use strict";var n="1.0.0";t.registerPlugin("close",function(e){var t=EU.BaseComponent.extend({constructor:function(){},config:{},element:{},init:function(e,t){i.requestConfig(e),this.creativeModel=t},prepareHtml:function(){this.element=document.createElement("div"),this.element.className=this.config.className,Object.keys(this.config.style).forEach(function(e){this.element.style[e]=this.config.style[e]}.bind(this)),this.element.innerHTML=this.config.src},render:function(e){var t=document.querySelector(e);t.appendChild(this.element),this.registerEventHandler()},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display="block"},registerEventHandler:function(e){this.element.addEventListener("click",this.handleClick.bind(this)),this.element.addEventListener("mouseover",this.handleMouseOver.bind(this))},handleClick:function(e){e.stopImmediatePropagation(),this.fire(e.type)},handleMouseOver:function(e){e.stopImmediatePropagation(),this.fire(e.type)},onConfig:function(e,t){this.config=e,this.prepareHtml(),this.render(t)}});i.registerComponent(new t,"Close")},n)}(window,window.EXPO_CREATIVE,window.CM),function(e,t,i){"use strict";var n="1.0.0";t.registerPlugin("adMessage",function(e){var t=EU.BaseComponent.extend({constructor:function(){},config:{},element:{},textElement:{},init:function(e,t){i.requestConfig(e),this.creativeModel=t},prepareHtml:function(){this.element=document.createElement("div"),this.textElement=document.createTextNode(this.config.text),this.element.id="advertiser-text-id",this.element.className="rm-Advertiser-text"},render:function(e){var t=document.getElementById("rm-ad-text-wrapper");this.element.appendChild(this.textElement),t.appendChild(this.element),document.getElementById("advertiser-text-id").style.fontSize=this.config.fontSize+"px",this.hide()},setScaleFactor:function(e){this.element.style.webkitTransform="scale("+e+")",this.element.style.transform="scale("+e+")"},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display="block"},updateRemainingTime:function(e){this.textElement.textContent=this.config.text.replace("[#]",Math.ceil(e))},onConfig:function(e,t){this.config=e,this.prepareHtml(),this.render(t)}});i.registerComponent(new t,"AdMessage")},n)}(window,window.EXPO_CREATIVE,window.CM),function(e,t,i){"use strict";var n="1.0.0";t.registerPlugin("playWrapper",function(e){var t=EU.BaseComponent.extend({constructor:function(){},config:{},element:{},init:function(e,t){i.requestConfig(e),this.creativeModel=t},prepareHtml:function(){this.element=document.createElement("div"),this.element.className=this.config.className,Object.keys(this.config.style).forEach(function(e){this.element.style[e]=this.config.style[e]}.bind(this))},render:function(e){var t=document.querySelector(e);t.appendChild(this.element)},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display="block"},onConfig:function(e,t){this.config=e,this.prepareHtml(),this.render(t)}});i.registerComponent(new t,"PlayWrapper")},n)}(window,window.EXPO_CREATIVE,window.CM),function(e,t,i){"use strict";var n="1.0.0";t.registerPlugin("canvas",function(e){var n=EU.CreateClass({constructor:function(){},config:{},element:"",init:function(n,s,o){this.Messages=t.require("messages",e),"ie"===e.sniffer.getDeviceInfo().browserName&&(i.requestConfig(n,o||"init"),this.creativeModel=s,e.baseEventManager.add(this.Messages.MAINUNITLOAD.eventName,function(){this.reConfig()}.bind(this)))},prepareHtml:function(){this.element=document.createElement("canvas"),this.element.className="canvasID",Object.keys(this.config).forEach(function(e){"prop"!==e&&(this.element.style[e]=this.config[e])}.bind(this)),this.element.style.position="absolute",this.element.style.top=0,this.element.style.left=0,this.renderPosterImage()},renderPosterImage:function(){var e,t,i,n,s=document.getElementById("videoID");this.creativeModel&&(i=parseInt(this.creativeModel.dimensions.initialVideo.width),n=parseInt(this.creativeModel.dimensions.initialVideo.height),e=this.element.getContext("2d"),this.element.width=i,this.element.height=n,t=new Image,t.onload=function(){e.drawImage(t,0,0,i,n)},t.src=s.getAttribute("poster"))},renderVideo:function(){function e(){function i(e,t,n,s){return!e.paused&&!e.ended&&(t.drawImage(e,0,0,n,s),void setTimeout(i,20,e,t,n,s))}t=this.element&&!t?this.element.getContext("2d"):t,t?(this.element.width=s.width,this.element.height=s.height,i(o,t,s.width,s.height)):e.call(this)}var t,n=i.requireComponent("VideoPlayer"),s=n.getSize(),o=document.getElementById("videoID");this.video=n,e.call(this)},resizeCanvas:function(e){this.element.style.width=e.width+"px",this.element.style.height=e.height+"px",this.element.style.top="0px",this.element.style.left="0px"},render:function(e){var t=(document.querySelector(e),i.requireComponent("VideoPlayer").getVideoTag());t.parentNode.insertBefore(this.element,t.nextSibling)},hide:function(){var e=document.getElementById("videoID");e.classList.remove("hide"),this.element.style.display="none"},show:function(){var e=document.getElementById("videoID");e.classList.add("hide"),this.element.style.display="block"},onConfig:function(e,t,i){this.config=e,this.prepareHtml(),this.render(t)},reConfig:function(){this.video&&this.video.getSize()&&this.resizeCanvas(this.video.getSize())}});i.registerComponent(new n,"Canvas")},n)}(window,window.EXPO_CREATIVE,window.CM),function(e,t,i){"use strict";var n="1.0.0";t.registerPlugin("replay",["templateEngine"],function(e,t){var n=EU.BaseComponent.extend({constructor:function(){},config:{},init:function(e){i.requestConfig(e)},prepareHtml:function(){var e,i,n,s="";Object.keys(this.config.style).forEach(function(e){s+=e+": "+this.config.style[e]+";"}.bind(this)),e={cssStyle:s,langulageStr:{replay:this.config.languageStr.replay.text.toLocaleUpperCase()},replayFontSize:this.config.languageStr.replay.fontSize+"px",replaySrc:this.config.src},i=t.tmpl("expo_replay",e),n=document.createElement("div"),n.innerHTML=i,this.element=n.children[0]},render:function(e){var t=document.querySelector(e);t.appendChild(this.element),this.registerEventHandlerPending&&(this.registerEventHandler(),this.registerEventHandlerPending=!1)},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display="block"},registerEventHandler:function(e){return this.element?void this.element.addEventListener("click",this.handleClick.bind(this)):void(this.registerEventHandlerPending=!0)},handleClick:function(e){e.stopImmediatePropagation(),this.fire(e.type)},onConfig:function(e,t){this.config=e,this.prepareHtml(),this.render(t)}});i.registerComponent(new n,"Replay")},n)}(window,window.EXPO_CREATIVE,window.CM),function(e,t,i){"use strict";i.registerPlugin("events",["sniffer"],function(e,i){var n=i.isMobile(),s=t.Enum({enumList:[{TEASERHOVER:{desktop:"mouseover",mobile:""}},{TEASEROUT:{desktop:"mouseout",mobile:""}},{TEASERCLICK:{desktop:"click",mobile:""},RECTANGLECLICK:{desktop:"click",mobile:""},RECTANGLEHOVER:{desktop:"mouseover",mobile:""},RECTANGLEOUT:{desktop:"mouseout",mobile:""},CIRCULARCLICK:{desktop:"click",mobile:"click"},REPLAYCLICK:{desktop:"click",mobile:""},CTACLICK:{desktop:"click",mobile:""},MAINUNITCLIENTLOGO:{desktop:"click",mobile:""},VIDEOPLAYERCLICK:{desktop:"click",mobile:""},VIDEOPLAYERMOVE:{desktop:"mousemove",mobile:""},VIDEOPLAYERLEAVE:{desktop:"mouseleave",mobile:""},VIDEOREWIND:{desktop:"rewind",mobile:""},CIRCULARHOVER:{desktop:"mouseover",mobile:""},VIZUDIMCLICK:{desktop:"click",mobile:""},PEELCLICK:{desktop:"click",mobile:""},PEELHOVER:{desktop:"mouseenter",mobile:""},PEELENTER:{desktop:"mouseenter",mobile:""},PEELOUT:{desktop:"mouseleave",mobile:""}}],constructor:function(){this.eventName=n?this.mobile:this.desktop},getEventName:function(){return this.eventName}});return s},"1.0.0")}(window,window.EU,window.EXPO_CREATIVE),function(e,t,i,n){"use strict";function s(){var e;return e="RANDOM_NUMBER"==arguments[1]?""+(1e4*Math.random()>>0):u[arguments[1]],"="+e}var o,a,r,l="1.0.0",c="//secure-gl.imrworldwide.com/u/ad?ca=VIZU_CAMPAIGN&cr=AD_IDENTIFIER&ce=SITE_ID&pc=PLACEMENT_IDENTIFIER&#WILDCARD_PARAMS#ci=nlsnci174&am=3&aa=1&at=view&rt=banner&tt=5&r=RANDOM_NUMBER",d="//secure-gl.imrworldwide.com/u/t/##path##/video_tag.html?cr=AD_IDENTIFIER&ce=SITE_ID&am=3&show=1&view=300x300&#WILDCARD_PARAMS#r=RANDOM_NUMBER",h=/\=([A-Z_]+)/g,u={VIZU_CAMPAIGN:28621,AD_IDENTIFIER:"TestAd",PLACEMENT_IDENTIFIER:"placementIdMacro",SITE_ID:"exponential"},m=!1;i.registerPlugin("vizuWidget",["events"],function(e,i){var l=t.BaseComponent.extend({constructor:function(){},config:{},element:{},wrapperElement:{},appendElement:{},dimWrapper:{},iframeDiv:{},vizuConfig:{},peelContainer:{},iframe:{},isVizu:!1,buttoncover:{},widgetWidth:362,widgetHeight:410,init:function(e,t){n.requestConfig(e),this.creativeModel=t,this.vizuConfig=this.creativeModel.adConfig.vizu,this.isVizu=this.isVizuEnabled(),this.isVizu&&(this.vizuConfig.vizuCampaign&&(u.VIZU_CAMPAIGN=this.vizuConfig.vizuCampaign),this.vizuConfig.adId&&(u.AD_IDENTIFIER=this.vizuConfig.adId),this.vizuConfig.placementId&&(u.PLACEMENT_IDENTIFIER=this.vizuConfig.placementId),this.vizuConfig.siteId&&(u.SITE_ID=this.vizuConfig.siteId),c=this.replaceQueryParams(c),d=this.createSurveyURL(),d=d.replace(h,s),this.vizuConfig&&this.vizuConfig.enabled&&(this.prepareHtml(),this.render()))},createSurveyURL:function(){for(var e,t=this.vizuConfig.vizuCampaign;t.length<8;)t="0"+t;return e=t.match(/.{1,2}/g).join("/"),d=d.split("##path##").join(e),this.replaceQueryParams(d)},replaceQueryParams:function(e){var t;return t=void 0!==this.vizuConfig.queryParam?this.vizuConfig.queryParam?e.replace("#WILDCARD_PARAMS#",this.vizuConfig.queryParam+"&"):e.replace("#WILDCARD_PARAMS#",this.vizuConfig.queryParam):e.replace("#WILDCARD_PARAMS#","")},prepareHtml:function(){this.element=document.createElement("div"),this.element.id=this.config.innerContainer.id,this.element.className=this.config.innerContainer.classname},render:function(){this.appendElement=document.getElementById("rm-vizu-wrapper"),this.dimWrapper=document.createElement("div"),this.iframeDiv=document.createElement("div"),this.buttoncover=document.createElement("div"),this.buttoncover.className=this.config.dummyButton.buttonCover,this.dimWrapper.id=this.config.dimWrapper.id,this.dimWrapper.className=this.config.dimWrapper.classname,this.iframeDiv.className=this.config.iframeWrapper.classname,this.iframeDiv.id=this.config.iframeWrapper.id,this.appendElement.appendChild(this.dimWrapper),this.element.appendChild(this.iframeDiv),this.element.appendChild(this.buttoncover),this.appendElement.appendChild(this.element),o=document.getElementById(this.config.innerContainer.id),a=document.getElementById(this.config.iframeWrapper.id),r=document.getElementById(this.config.dimWrapper.id),document.getElementById("rm-vizuwidget_peel_container").style.backgroundImage="url("+this.config.innerContainer.src+")",r.addEventListener(i.VIZUDIMCLICK.getEventName(),this.dimWrapperListener.bind(this)),r.style.display="none",this.closeWidget()},applyScale:function(e){var t=35;this.background=o.style.backgroundImage,this.vizuScale=e,this.newTopOut=-Math.floor(this.widgetHeight*e/100),this.newTopIn=-Math.floor(t*e/100),this.newRightOut=-Math.floor(this.widgetWidth*e/100),this.newRightIn=Math.floor(this.widgetWidth*e/100-this.widgetWidth),this.cssTextOut="position:absolute;background-image:"+this.background+";transform: scale("+this.vizuScale/100+");width:"+this.widgetWidth+"px;height:"+this.widgetHeight+"px;z-index:10001;-webkit-transition: ease 1s;-moz-transition: ease 1s;-ms-transition: ease 1s;top:"+this.newTopOut+"px;right:"+this.newRightOut+"px;",this.cssTextOutFast="position:absolute;background-image:"+this.background+";transform: scale("+this.vizuScale/100+");width:"+this.widgetWidth+"px;height:"+this.widgetHeight+"px;z-index:10001-webkit-transition: ease 0s;-moz-transition: ease 0s;-ms-transition: ease 0s;top:"+this.newTopOut+"px;right:"+this.newRightOut+"px;",this.cssTextIn="position:absolute;background-image:"+this.background+";transform: scale("+this.vizuScale/100+");width:"+this.widgetWidth+"px;height:"+this.widgetHeight+"px;z-index:10001;-webkit-transition: ease 1s;-moz-transition: ease 1s;-ms-transition: ease 1s;top:"+this.newTopIn+"px;right:"+this.newRightIn+"px;",o.style.cssText=this.cssTextOut},displayWidget:function(){this.isVizu&&(this.ifWidgetExist()||this.hoverAnimation())},isVizuAvailable:function(){return this.vizuAdStarted&&!this.vizuAdStopped},dimWrapperListener:function(){o.style.cssText=this.cssTextOut,r.style.display="none",this.fire("resumeVideo")},closeWidget:function(){this.isVizu&&(r.classList.remove(this.config.dimWrapper.showClassname),r.style.display="none")},hoverAnimation:function(){this.isVizu&&(this.peelExtended=!0,o.style.cssText=this.cssTextIn,r.style.display="block")},ifWidgetExist:function(){var e=document.getElementById("rm-vizuwidget_peel_container"),t=window.getComputedStyle(e),i=t.getPropertyValue("right");
return"0px"==i},fireVizuPixel:function(e){this.isVizu&&("function"==typeof e&&(this.vizuStartedCallback=e),this.fire("firePixel"),this.initVizuParams(),this.createIframe(),this.iframeDiv.appendChild(this.iframe),window.addEventListener("message",this.receiveVizuMsg.bind(this),!1),m=!0)},getVizuPixel:function(){return this.vizuConfig.exposedPixelUrl?this.vizuConfig.exposedPixelUrl:c.replace(h,s)},isVizuShown:function(){return m},isVizuEnabled:function(){return!(!this.vizuConfig||!this.vizuConfig.enabled)},createIframe:function(){this.iframe=document.createElement("iframe"),this.iframe.setAttribute("src",this.replaceQueryParams(this.getVizuSurveyURL())),this.iframe.setAttribute("width",this.vizuConfig.width||"300px"),this.iframe.setAttribute("height",this.vizuConfig.height||"300px"),this.iframe.setAttribute("marginheight",this.vizuConfig.marginheight||"0px"),this.iframe.setAttribute("marginwidth",this.vizuConfig.marginwidth||"0px"),this.iframe.setAttribute("frameborder",this.vizuConfig.frameborder||"0px"),this.iframe.setAttribute("scrolling",this.vizuConfig.scrolling||"0"),this.iframe.setAttribute("top","-1500px")},getVizuSurveyURL:function(){return(this.vizuConfig.src||d)+"&timer=0"},initVizuParams:function(){this.vizuAdStarted=!1,this.vizuAdStopped=!1},receiveVizuMsg:function(e){e.data.toLowerCase().indexOf('"type":"')>-1&&(e.data.toLowerCase().indexOf("adready")>-1&&(this.vizuAdReady=!0,this.vizumessageInitAd()),e.data.toLowerCase().indexOf("adstopped")>-1&&(this.peelExtended&&this.dimWrapperListener(),this.iframe.style.display="none",this.vizuAdStopped=!0,this.vizuAdStarted||this.fire("vizuPixel",{display:0})),e.data.toLowerCase().indexOf("adstarted")>-1&&(this.vizuStartedCallback&&this.vizuStartedCallback.apply(null),this.vizuAdStarted=!0,this.fire("vizuPixel",{display:1}),o.classList.remove(this.config.innerContainer.invisiblewidget),o.classList.add(this.config.innerContainer.closewidget)),e.data.toLowerCase().indexOf("adloaded")>-1&&(this.vizuAdLoaded=!0,o.classList.remove(this.config.innerContainer.closewidget),o.classList.add(this.config.innerContainer.invisiblewidget),this.vizuMessageStartAd()))},vizumessageInitAd:function(){this.iframe.contentWindow.postMessage('{"type":"initad","uuid":""}',"*"),this.vizuAdReady=!0},vizuMessageStartAd:function(){this.iframe.contentWindow.postMessage('{"type":"startad","uuid":""}',"*")},onConfig:function(e,t){this.config=e,this.appendElement=t}});return n.registerComponent(new l,"VizuWidget"),l},l)}(window,window.EU,window.EXPO_CREATIVE,window.CM),function(e,t,i){"use strict";var n="1.0.0";t.registerPlugin("assetsLoader",function(e){function t(e){this.autoLoad=!!e.autoLoad,this.root=e.root||this.root,c.doesExists(e.js)&&(this.js=this.js.concat(c.toArray(e.js))),c.doesExists(e.img)&&(this.img=this.img.concat(c.toArray(e.img))),c.doesExists(e.link)&&(this.link=this.link.concat(c.toArray(e.link))),e.query&&(this.query=e.query),e.baseUrl&&(this.baseUrl=e.baseUrl)}function n(){var e="string"==typeof this.query.js?this.root.querySelectorAll(this.query.js):this.query.js,t="string"==typeof this.query.img?this.root.querySelectorAll(this.query.img):this.query.img,i="string"==typeof this.query.link?this.root.querySelectorAll(this.query.link):this.query.link;this.query&&(this.query.js&&(this.js=this.js.concat(c.toArray(e))),this.query.img&&(this.img=this.img.concat(c.toArray(t))),this.query.link&&(this.link=this.link.concat(c.toArray(i))))}function s(){v=this.js.length+this.img.length+this.link.length,(E=!(m=this.js.length))||this.loadJsFiles(this.js),(C=!(h=this.img.length))||this.loadImages(this.img),(T=!(f=this.link.length))||this.loadCssFiles(this.link),a.call(this)}function o(){d=0,u=0,g=0,p=0}function a(){C&&E&&T&&(this.fire("loaded"),this.__loaded=!0)}function r(e){return 0!==e.trim().indexOf("http")&&(e=this.baseUrl+e),e}function l(){this.fire("progress",{loadedFileCount:p,totalFileCount:v})}var c=e.utility,d=0,h=0,u=0,m=0,f=0,g=0,p=0,v=0,C=!1,E=!1,T=!1,y=document.write,w=i.BaseEventManager.extend({autoLoad:!1,root:document,js:null,img:null,link:null,query:null,baseUrl:"",inProgress:!1,__loaded:!1,constructor:function(e){c.assert(c.doesExists(e),"Configuration not set"),o(),this.js=[],this.img=[],this.link=[],this.lazyImg=[],t.call(this,e),this.autoLoad&&this.load()},load:function(){this.__loaded?this.fire("loaded"):this.inProgress||(this.inProgress=!0,n.call(this),s.call(this))},loadImages:function(t){for(var i=t,n=[],s=function(t){e.baseEventManager.fire("muse_mainunit_image_error",t)},o=function(){++d,++p,l.call(this),h===d&&(C=!0,a.call(this))}.bind(this),c=0;c<i.length;c++)i[c].dataset&&i[c].dataset.width&&(i[c].width=i[c].dataset.width),i[c].dataset&&i[c].dataset.height&&(i[c].height=i[c].dataset.height),n[c]=new Image,n[c].addEventListener("load",o),n[c].src=r.call(this,i[c].dataset.expoSrc),i[c].src=r.call(this,i[c].dataset.expoSrc),n[c].onerror=s},loadJsFiles:function(e){var t=e,i=function(){l.call(this),m===u&&(E=!0,document.write=y,a.call(this))}.bind(this);document.write=function(e){var i=document.createElement("div");i.innerHTML=e,e=i.childNodes[0],t.splice(n,0,e),m++,v++};var n=0,s=function(){var e=t[n];if(e){n++;var o,a=document.createElement("script"),l=e.attributes,c=l.length;for(o=0;o<c;o++)a.setAttributeNode(l[o].cloneNode(!0));if(a.type="text/javascript",e.dataset.expoSrc||e.src){var d;e.attributes.onload&&(d=new Function(e.getAttribute("onload"))),a.src=r.call(this,e.dataset.expoSrc||e.getAttribute("src",2)),a.dataset.main&&(a.dataset.main=r.call(this,a.dataset.main)),a.onload=function(e){d&&d.call(this,e),u++,p++,i(),s()},document.body.appendChild(a)}else a.innerHTML=e.innerHTML,document.body.appendChild(a),u++,p++,i(),s();e.parentNode.removeChild(e)}}.bind(this);s()},loadCssFiles:function(e){for(var t=e,i=function(){g++,p++,l.call(this),f===g&&(T=!0,a.call(this))}.bind(this),n=0;n<t.length;n++)t[n].href&&(t[n].href=r.call(this,t[n].getAttribute("href",2))),t[n].rel="stylesheet",t[n].onload=i}});return w},n)}(window,window.EXPO_CREATIVE,window.EU),function(e,t,i,n){"use strict";var s="1.0.0",o="designerAPI",a=["VideoPlayer"];i.registerPlugin(o,a,function(e,t){var s,o=e.utility,t=n.requireComponent("VideoPlayer"),a=(i.require("tracker",e),{openUrl:function(t,i,n){t=e.urlConfig&&e.urlConfig[i]||t,t&&(n===!0?window.open(t,"_blank"):window.open(t),e.baseEventManager.fire("openUrlCalled",t))},resume:function(){t.resumePlayer()},pause:function(){t.pausePlayer()},setVideoPresent:function(e){t.setVideoPresent(e)},switchPlayerInTab:function(e,i){var n,s;o.isString(i)&&(s=document.querySelector("."+i),n=document.querySelector(".videoInnerContainer"),s&&n&&s.appendChild(n)),e&&t.setVideo(null,e,!0)},mute:function(){t.setVolume(0)},unmute:function(){t.setVolume(.2)},getDynamicData:function(){return e.config.dynamicData},setVideo:function(e){t.setVideo(null,e)},showReplayIcon:function(e){t.showReplayIcon.call(t,e)},setDesignerAPIObject:function(t){t&&(e.config.designerEditable=t)},getDesignerApiObject:function(){return e.config.designerEditable},firePixel:function(e,t){var i={};if(!e||"string"!=typeof e)throw new Error("PixelId has to be a string");try{i=new Event("DesignerAPI")}catch(n){i=document.createEvent("Event"),i.initEvent("DesignerAPI",!0,!0)}i.message={pixelId:e,data:t},window.dispatchEvent(i)},fireDynamicPixel:function(e,t){var i={};if(!e||"string"!=typeof e)throw new Error("PixelId has to be a string");try{i=new Event("DesignerAPI")}catch(n){i=document.createEvent("Event"),i.initEvent("DesignerAPI",!0,!0)}i.message={pixelId:e,data:t,isDynamic:!0},window.dispatchEvent(i)},fireInteractionPixel:function(e,t){this.firePixel(e,t)},fireClickPixel:function(e,t){this.firePixel(e,t)},getCallBackApi:function(){return e.config.designerEditable}});if(s=a.getDesignerApiObject())for(var r in s)a[r]=s[r];return a},s)}(window,window.EU,window.EXPO_CREATIVE,window.CM),function(W,EXPO_CREATIVE,CM){"use strict";var version="1.0.0",customHandlers;EXPO_CREATIVE.registerPlugin("customHandlers",["designerAPI"],function(sandBox,designerAPI){function stringToJSON(jsonString){return JSON.parse(JSON.stringify(eval("("+jsonString.split("=")[1]+")")))}function setCallBacks(e){return function(){for(var t=0;t<e.length;t++)try{designerAPI.getDesignerApiObject()[e[t]].apply(designerAPI)}catch(i){console.log(i)}}}var _utility=sandBox.utility,video=CM.requireComponent("VideoPlayer"),CustomHandlers=EU.CreateClass({setCustomHandlerss:function(){var e=document.querySelectorAll("div[title*='VDXEvents']");if(e.length>0)for(var t=0;t<e.length;t++){e[t].setAttribute("data-title",e[t].title);var i=stringToJSON(e[t].title);e[t].removeAttribute("title"),e[t].addEventListener(i.event.toLowerCase(),setCallBacks(i.callbacks),!1)}}});return sandBox.baseEventManager.add("close.mainunit",function(e){return;var t="video1";if(designerAPI&&designerAPI.getCallBackApi){var i=designerAPI.getCallBackApi().mainUnitCloseCallback;t=video.getDefaultVideoId(),i&&i.call(designerAPI,e,t)}}),customHandlers?customHandlers:customHandlers=new CustomHandlers},version)}(window,window.EXPO_CREATIVE,window.CM),function(e,t,i,n){"use strict";var s="1.0.0",o="videoPlayer",a=["VideoModel","VideoView","VideoController"];i.registerPlugin(o,a,function(e,s,o,a){var r=t.BaseComponent.extend({init:function(t,s,a){o.setRenderCompleteCallback(function(){this.fire("renderComplete")}.bind(this)),o.setPromiseResolvedCallback(function(e){this.fire("promiseResolved",e)}.bind(this)),this.Messages=i.require("messages",e),this.componentKey=t,n.requestConfig(t,a||"init"),this.mute=!1,this.museVideoPresent=!1,this.replay={container:document.getElementById("video-replay-container"),icon:document.getElementById("video-replay-icon")}},setVideoPresent:function(e){this.museVideoPresent=e},getVideoPresent:function(){return this.museVideoPresent},fetchPendingChunks:function(){o.fetchPendingChunks()},isVideoDynamicStreaming:function(){o.fetchPendingChunks()},setInitialListeners:function(e){a.setInitialListeners(e)},onConfig:function(e,t,i){s.onConfig(e,i),o.onConfig(s,t,i),a.onConfig(o,s,i),this.addPlayListener(function(){n.setPlayPixel()})},bindListeners:function(){},getDefaultVideoId:function(){return s.getDefaultVideoId()},reConfig:function(){n.requestConfig(this.componentKey,"mainunit"),this.resizePlayer(s.getPlayerDimensions())},showHandCursor:function(){a.showHandCursor()},hideHandCursor:function(){a.hideHandCursor()},addDataAttribute:function(e){a.addDataAttribute(e)},removeDataAttribute:function(e){a.removeDataAttribute(e)},setMuteStatus:function(e){this.mute=e},getMuteStatus:function(){return this.mute},resizePlayer:function(e){a.resizePlayer(e)},showControls:function(e){a.showControls(e)},hideControls:function(){a.hideControls()},showReplayIcon:function(e){e?(this.hideUnmuteOverlay(),this.unmuteElement&&(this.unmuteElement.style.display="none"),this.replay.container.style.display="block"):this.replay.container.style.display="none"},setLoop:function(e){a.setLoop(e)},setTime:function(e){a.setTime(e)},getSize:function(){return a.getSize()},setVolume:function(e){a&&a.setVolume(e)},pausePlayer:function(){a.pausePlayer()},addPlayListener:function(e){a.addPlayListener(e)},resumePlayer:function(){a.resumePlayer()},resetPlayer:function(){a.reset(),o.reset()},getAllVideos:function(){a.getAllVideos()},setVideo:function(t,i,n){e.isMaiunitEntered&&(t||i)&&(a.reset(),this.resetPlayer(),e.isAdunitExited||(i===s.getDefaultVideoId()?o.setVideoSrc(null,!n):o.setSrc(t||s.getVideoSrc(i))),o.setPosterImage(t||s.getPosterImage(i)),o.unmuteOverlayClicked===!0&&o.handleUnmuteOverlay(),n||o.resume())},getVideoDuration:function(){return o.getVideoDuration()},getVideoSrc:function(e){return s.getVideoSrc(e)},togglePosition:function(e){o.togglePosition(e)},getVideoTag:function(){return o.getVideoTag()},getVideoSourceId:function(){return a.getVideoSourceId()},getVideoLandingURL:function(e){return a.getVideoLandingURL(e)},checkPauseStatus:function(){return a.checkPauseStatus()},getTeaserCtaURL:function(){return a.getTeaserCtaURL()},showUnmuteOverlay:function(){o.showUnmuteOverlay()},hideUnmuteOverlay:function(){o.hideUnmuteOverlay()},handleUnmuteOverlay:function(e){o.handleUnmuteOverlay(!1,e)},getVideoPromiseVal:function(){return s.getVideoPromiseValue()},setVideoPromiseVal:function(e){s.setVideoPromiseValue(e)}});n.registerComponent(new r(e),"VideoPlayer")},s)}(window,window.EU,window.EXPO_CREATIVE,window.CM),function(e,t,i){"use strict";var n="1.0.0";i.registerPlugin("VideoView",["domUtility","templateEngine","events","VideoDynamicStreaming"],function(e,i,n,s,o){var a=["loadstart","progress","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","play","pause","ratechange","resize","volumechange"],r=e.utility,l=t.CreateClass({init:function(){this.handCursorEnabled=!1,this.userMuted=!1,this.unmuteOverlayClicked=!1},setRenderCompleteCallback:function(e){this.renderCompleteCallback=e},setPromiseResolvedCallback:function(e){this.promiseResolvedCallback=e},setHandCursorFlag:function(e){this.handCursorEnabled=e},getHandCursorFlag:function(){return this.handCursorEnabled},onConfig:function(e,t,n){this.model=e,this.container=document.querySelector(t),i.injectFont(e.config.prop.controlBarFontConfig,e),this.videoContainer||this.renderVideoPlayer()},renderVideoPlayer:function(){var e="";this.videoContainer=this.createVideoPlayer(),e=this.videoInnerContainer=this.videoContainer.querySelector(".videoInnerContainer")||this.videoContainer,this.container.appendChild(this.videoContainer),this.controls=e.querySelector(".inframe-controls"),this.btnPlay=e.querySelector(".btnPlay"),this.sound=e.querySelector(".sound"),this.soundIcon=e.querySelector(".sound span"),this.rewindButton=e.querySelector(".btnRewind"),this.progressbar=e.querySelector(".progress-bar"),this.unmuteoverlay=e.querySelector(".clicktounmute"),this.userInteraction={status:!1,name:null}},handleControlsClick:function(e){e.stopPropagation()},videoPromiseApproach:function(){if(!this.promise){this.videoTag.muted=!1;var e=this.videoTag.play();void 0!==e&&e.then(function(){this.hideUnmuteOverlay(),this.promise=!0,this.model.setVideoPromiseValue(!0),this.promiseResolvedCallback(!0)}.bind(this))["catch"](function(e){this.enableMutedAttribute=!0,this.showUnmuteOverlay(),this.videoTag.muted=!0,this.videoTag.play(),this.promise=!0,this.model.setVideoPromiseValue(!1),this.promiseResolvedCallback(!1)}.bind(this))}},renderComplete:function(){this.renderCompleteCallback&&this.renderCompleteCallback(),"IE"===e.sniffer.getBrowserInfo()||this.videoPromiseApproach()},addPlayListener:function(e){this.videoTag.addEventListener("play",e)},createVideoPlayer:function(){var e,t,i,n,s,o,a;t={src:this.model.getVideoSrc(),id:this.model.getVideoId(),posterSrc:this.model.getPosterSrc()},this.enableMutedAttribute=!1,this.muteattribute=!1,this.userMuted=!1,this.unmuteOverlayClicked=!1;var r='                        <div class="videoContainer">                            <div class="videoInnerContainer">                            <img id="posterImage"/>                                <video id="'+t.id+'" preload="auto" autoplay playsinline  '+this.enableMutedAttribute+' >                                    <source src="" type="video/mp4" />                                    <p>Your browser does not support the video tag.</p>                                </video>                                <div class="sound-icon playing sound" id="sound-icon-container" style="display: none;">                    <div class="sound-icon-wrapper">                        <div class="playing">                            <svg xmlns:x="//ns.adobe.com/Extensibility/1.0/" xmlns:i="//ns.adobe.com/AdobeIllustrator/10.0/" xmlns:graph="//ns.adobe.com/Graphs/1.0/" xmlns="//www.w3.org/2000/svg" xmlns:xlink="//www.w3.org/1999/xlink" xmlns:a="//ns.adobe.com/AdobeSVGViewerExtensions/3.0/" version="1.1" x="0px" y="0px" width="22px" height="18px" viewBox="0 0 22 18" enable-background="new 0 0 22 18" xml:space="preserve"><g><path fill="#FFFFFF" d="M5.843,5.786H1.398v6.43h4.444l5.556,4.284v-15L5.843,5.786z"/><path fill="#FFFFFF" d="M17.211,13.542l0.917,0.918c3.289-3.28,3.302-8.627,0.021-11.92L17.23,3.456     C20.006,6.242,19.996,10.766,17.211,13.542z"/><path fill="#FFFFFF" d="M15.382,11.704l0.913,0.917c2.281-2.271,2.288-5.97,0.017-8.25l-0.919,0.916     C17.159,7.058,17.152,9.938,15.382,11.704z"/><path fill="#FFFFFF" d="M13.55,9.866l0.917,0.918c1.266-1.261,1.269-3.316,0.009-4.583l-0.92,0.916     C14.312,7.877,14.31,9.109,13.55,9.866z"/></g></svg>                        </div>                        <div class="muted">                            <svg xmlns:x="//ns.adobe.com/Extensibility/1.0/" xmlns:i="//ns.adobe.com/AdobeIllustrator/10.0/" xmlns:graph="//ns.adobe.com/Graphs/1.0/" xmlns="//www.w3.org/2000/svg" xmlns:xlink="//www.w3.org/1999/xlink" xmlns:a="//ns.adobe.com/AdobeSVGViewerExtensions/3.0/" version="1.1" x="0px" y="0px" width="22px" height="18px" viewBox="0 0 22 18" enable-background="new 0 0 22 18" xml:space="preserve"><g><path fill="#FFFFFF" d="M5.46,6.286H1.016v6.43H5.46L11.016,17V2L5.46,6.286z"/><path fill="#FFFFFF" d="M20.984,6.028l-0.99-0.867l-2.848,2.972l-2.971-2.972l-0.99,0.867L16.156,9l-2.971,2.972l0.99,0.867     l2.971-2.973l2.848,2.973l0.99-0.867L18.014,9L20.984,6.028z"/></g></svg>                        </div>                    </div>                </div>                <div class="replay-container" id="video-replay-container" style="display: none;">                    <div class="replay-icon" id="video-replay-icon">                        <svg id="Layer_1" data-name="Layer 1" xmlns="//www.w3.org/2000/svg" viewBox="0 0 70 70"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#4764af;}</style></defs><title>vdx_tv_icon</title><circle class="cls-1" cx="35" cy="35" r="34.44"/><path class="cls-2" d="M35,0A35,35,0,1,0,70,35,35,35,0,0,0,35,0ZM58.63,38.28,25.42,59.08a3.8,3.8,0,0,1-5.81-3.23V36.69h9.68v6.2a1.44,1.44,0,0,0,2.19,1.2l12.41-7.8a1.44,1.44,0,0,0,0-2.43l-12.41-7.8a1.42,1.42,0,0,0-2.19,1.2v6.2H19.61V14.2A3.8,3.8,0,0,1,25.42,11l33.21,20.8A3.91,3.91,0,0,1,58.63,38.28Z"/></svg>                    </div>                </div>                <div class="inframe-controls hidden-controls opec-controls">                    <div class="progress-bar">                        <span class="bufferBar"></span>                        <span class="timeBar"></span>                        <span class="fullBar"></span>                    </div>                </div>                                <div class="control">                                    <div class="btmControl">                                        <div class="btnPlay btn rm-align-vertical-center" title="Play/Pause video"><span class="icon-play"></span></div>                                        <div class="btnRewind btn rm-align-vertical-center" title="Rewind video"><span class="icon-step-backward"></span></div>                                        <div class="sound sound2 btn rm-align-vertical-center" title="Mute/Unmute sound"><span class="icon-volume-up"></span></div>                                        <div class="timerTextHolder rm-align-vertical-center">                                            <span class="elapsedTime ">00:00</span>                                            <span class="seperator ">/</span>                                            <span class="totalTime ">00:00</span>                                        </div>                                        <div class="progress-bar rm-align-vertical-center">                                            <div class="progress">                                                <span class="bufferBar"></span>                                                <span class="timeBar"></span>                                            </div>                                        </div>                                    </div>                                </div>                                <div class="clicktounmute">                                    <div class="clickonunmutecontent ">                                        <img src="'+this.model.getUnmuteIconPath()+'">                                    </div>                                </div>                            </div>                        </div>';return e=r,n=document.createElement("div"),n.innerHTML=e,s=n.querySelector(".videoContainer"),o=s.querySelector("#videoID"),i=this.model.getPosterImage(),a=n.querySelector("#posterImage"),s.style.cssText=this.model.getInitialStyle(),i&&(a.src=i,o.setAttribute("poster",i)),o.id=this.model.getVideoId(),o.volume=this.model.getVideoMuted()?0:1,this.videoTag=o,this.setVideoSrc(),s},setVideoSrc:function(e,t){var i=this.model;if(this.model.isVideoDynamicStreaming()&&o.isMSESupported()){var n=this.model.getDynamicVideoInfo();this.setDynamicVideoSrc(n,t)}else this.setSrc(e||i.getVideoSrc())},setDynamicVideoSrc:function(e,t){e&&e.mpdMetaFileSrc?o.init(e,function(e,i){this.model.setVideoDuration(i),this.setSrc(e),t&&setTimeout(function(){this.setPosterImage(this.model.getPosterImage(null)),this.videoTag.pause()}.bind(this),0)}.bind(this)):this.setSrc(this.video.getVideoSrc())},getVideoDuration:function(){return this.model.getVideoDuration()},isVideoDynamicStreaming:function(){return this.model.isVideoDynamicStreaming()},fetchPendingChunks:function(){o.fetchPendingChunks()},pause:function(){this.videoTag.pause()},resume:function(){this.videoTag.play()},showUnmuteOverlay:function(){this.enableMutedAttribute&&(this.unmuteoverlay.style.display="block")},hideUnmuteOverlay:function(){this.unmuteoverlay.style.display="none"},handleUnmuteOverlay:function(e,t){t===!0||e&&"clicktounmute"===e.currentTarget.className?this.userInteraction.volumechange=!0:this.userInteraction.volumechange=!1,this.unmuteOverlayClicked=!0,e&&(e.stopPropagation(),e.preventDefault()),this.videoTag.removeAttribute("muted"),this.videoTag.muted=!1,this.hideUnmuteOverlay(),this.model.setVideoPromiseValue(!0),this.userMuted=this.videoTag.muted,this.videoTag.muted?this.addMuteClass():(this.removeMuteClass(),this.setVolume(.25))},handleFullScreen:function(e){e.stopImmediatePropagation(),this.videoTag.webkitRequestFullscreen?this.videoTag.webkitRequestFullscreen():this.videoTag.mozRequestFullScreen?this.videoTag.mozRequestFullScreen():this.videoTag.requestFullscreen?this.videoTag.requestFullscreen():this.videoTag.msRequestFullscreen&&this.videoTag.msRequestFullscreen()},exitFullscreen:function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},handlePlayBut:function(e){e.stopImmediatePropagation(),this.playPause()},handleRewind:function(e){e.stopImmediatePropagation();var t=i.customEvent("rewind",{type:"rewind",status:"rewind"});this.setTime(0),this.rewindButton.dispatchEvent(t),this.videoTag.paused&&this.videoTag.play()},playPause:function(){this.videoTag.paused||this.videoTag.ended?(this.videoTag.ended&&!this.model.isVideoDynamicStreaming()&&this.videoTag.load(),this.videoTag.play()):(this.videoTag.setAttribute("data-pause",!0),this.videoTag.pause())},handleVolume:function(e){this.hideUnmuteOverlay(),e&&e.stopImmediatePropagation(),this.videoTag.muted=!this.videoTag.muted,this.videoTag.muted?this.addMuteClass():(this.removeMuteClass(),this.setVolume(this.cachedVolumeValue||.25))},addMuteClass:function(){this.sound.classList.add("muted"),this.soundIcon.classList.remove("icon-volume-up"),this.soundIcon.classList.add("icon-volume-off")},removeMuteClass:function(){this.sound.classList.remove("muted"),this.soundIcon.classList.add("icon-volume-up"),this.soundIcon.classList.remove("icon-volume-off")},addPauseIcon:function(){var e;e=this.btnPlay.querySelector(".icon-play"),e&&(e.classList.add("icon-pause"),e.classList.remove("icon-play"))},addPlayIcon:function(){var e;e=this.btnPlay.querySelector(".icon-pause"),e&&(e.classList.add("icon-play"),e.classList.remove("icon-pause"))},handleVideoMoveEvent:function(){var e=this,t=e.videoInnerContainer.getAttribute("data-state");"block"!==e.controls.style.display&&t?(e.showControls(!0),i.removeClass(e.videoInnerContainer,"rm-cursor-none"),1==e.getHandCursorFlag()&&i.addClass(e.videoTag,"rm-hover-hand-cursor")):t&&(this.timmer&&clearTimeout(this.timmer),this.timmer=setTimeout(function(){"block"===e.controls.style.display&&t&&(e.showControls(!1),i.addClass(e.videoInnerContainer,"rm-cursor-none"),i.removeClass(e.videoTag,"rm-hover-hand-cursor"))}.bind(e),e.model.config.prop.controlTimeOut))},addDataAttribute:function(e){"mainUnit"===e&&this.handleVideoMoveEvent(),this.videoInnerContainer.setAttribute("data-state",e)},removeDataAttribute:function(e){this.videoInnerContainer.removeAttribute("data-state")},handleVideoLeaveEvent:function(){this.showControls()},handleProgressEvent:function(e){e.stopImmediatePropagation()},setInitialListeners:function(t){function i(){function e(e){n.call(this,e)}var t=["MSFullscreenChange","fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange"];t.forEach(function(t){document.addEventListener(t,e.bind(this))}.bind(this))}function n(i){var n=this.model.getVideoSourceId()===this.model.getDefaultVideoId();this.videoTag.removeAttribute("controls");var s,o=i.type;switch(this.videoTag.muted||0==this.videoTag.volume?this.addMuteClass():this.removeMuteClass(),o){case"playing":this.timmer&&clearTimeout(this.timmer),this.timmer=setTimeout(function(){"block"===this.controls.style.display&&this.showControls(!1)}.bind(this),this.model.config.prop.controlTimeOut);break;case"ended":e.isMaiunitEntered&&(this.showControls(!0),"fullscreen"===this.checkForFullScreen()&&(this.exitFullscreen(),this.showControls(!0)),this.videoTag.pause());break;case"loadedmetadata":u=this.videoInnerContainer.querySelector(".totalTime");var a;a=this.model.isVideoDynamicStreaming()&&n?this.getVideoDuration():this.videoTag.duration;var d=Math.round(Math.floor(a/60)),h=Math.round(a-60*d);u.textContent=d+":"+h,setTimeout(c.bind(this),150),this.renderComplete();break;case"timeupdate":var u,m=this.videoTag.currentTime,d=Math.round(Math.floor(m/60)),h=Math.round(m-60*d),f=null;f=this.model.isVideoDynamicStreaming()&&n?this.getVideoDuration():this.videoTag.duration;var g=100*m/f;l.innerText=d+":"+h,r.style.width=g+"%";break;case"fullscreenchange":case"mozfullscreenchange":case"webkitfullscreenchange":case"MSFullscreenChange":s=this.checkForFullScreen(),"fullscreen"===s?(this.videoTag.removeAttribute("controls"),this.showControls(!0)):(this.showControls(!0),this.videoTag.muted?(this.sound.classList.add("muted"),this.soundIcon.classList.remove("icon-volume-up"),this.soundIcon.classList.add("icon-volume-off")):(this.sound.classList.remove("muted"),this.soundIcon.classList.add("icon-volume-up"),this.soundIcon.classList.remove("icon-volume-off")),this.videoTag.paused||this.videoTag.ended?this.addPlayIcon():this.addPauseIcon());break;case"play":this.addPauseIcon(),this.userInteraction.play===!0&&(i.hasUserInteractedOnce=!0);break;case"pause":this.addPlayIcon(),this.videoTag.getAttribute("data-pause")||(i=null),this.videoTag.removeAttribute("data-pause");break;case"volumechange":this.userInteraction.volumechange===!0&&(i.hasUserInteractedOnce=!0)}t(i)}var o=s;this.eventsProxy(this.sound,o.VIDEOPLAYERCLICK.getEventName(),this.handleVolume,"volumechange"),this.eventsProxy(this.btnPlay,o.VIDEOPLAYERCLICK.getEventName(),this.handlePlayBut,"play"),this.progressbar.addEventListener(o.VIDEOPLAYERCLICK.getEventName(),this.handleProgressEvent.bind(this)),this.controls.addEventListener(o.VIDEOPLAYERCLICK.getEventName(),this.handleControlsClick.bind(this)),this.eventsProxy(this.unmuteoverlay,o.VIDEOPLAYERCLICK.getEventName(),this.handleUnmuteOverlay,"volumechange"),this.videoInnerContainer.addEventListener(o.VIDEOPLAYERMOVE.getEventName(),function(e){this.oldClientX&&this.oldClientY||(this.oldClientX=e.clientX,this.oldClientY=e.clientY),e.clientX===this.oldClientX&&e.clientY===this.oldClientY||this.handleVideoMoveEvent.call(this),this.oldClientX=e.clientX,this.oldClientY=e.clientY}.bind(this)),this.videoInnerContainer.addEventListener(o.VIDEOPLAYERLEAVE.getEventName(),this.handleVideoLeaveEvent.bind(this)),this.rewindButton.addEventListener(o.VIDEOPLAYERCLICK.getEventName(),this.handleRewind.bind(this)),this.rewindButton.addEventListener(o.VIDEOREWIND.getEventName(),n.bind(this));var r=this.videoInnerContainer.querySelector(".timeBar"),l=(this.videoInnerContainer.querySelector(".current"),this.videoInnerContainer.querySelector(".elapsedTime"));i.call(this);var c=function(){var e=this.model.getVideoSourceId()===this.model.getDefaultVideoId();if(this.videoTag.buffered.length>0){var t,i=this.videoTag.buffered.end(0),n=null;n=this.model.isVideoDynamicStreaming()&&e?this.getVideoDuration():this.videoTag.duration;var s=100*i/n;t=this.videoInnerContainer.querySelector(".bufferBar"),t.style.width=s+"%",i<n&&setTimeout(c.bind(this),500)}};a.forEach(function(e){this.videoTag.addEventListener(e,n.bind(this))}.bind(this))},eventsProxy:function(e,t,i,n){var s=function(){this.userInteraction=this.userInteraction||{},this.userInteraction[n]=!0,i.apply(this,Array.prototype.slice.call(arguments))}.bind(this);e.addEventListener(t,s)},checkForFullScreen:function(){var e=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement?"fullscreen":"fullscreenOff";return e},resizePlayer:function(e){e.width&&(!r.isNumber(e.width)&&e.width.indexOf("%")>1?this.videoContainer.style.width=e.width:this.videoContainer.style.width=parseInt(e.width,10)+"px"),e.height&&(!r.isNumber(e.height)&&e.height.indexOf("%")>1?this.videoContainer.style.height=e.height:this.videoContainer.style.height=parseInt(e.height,10)+"px"),r.isNumber(e.top)&&(this.videoContainer.style.top=e.top+"px"),r.isNumber(e.left)&&(this.videoContainer.style.left=e.left+"px")},getSize:function(){return{width:this.videoContainer.clientWidth,height:this.videoContainer.clientHeight,left:this.videoContainer.offsetLeft,top:this.videoContainer.offsetTop}},showControls:function(e){e?(this.controls.classList.contains("hidden-controls")&&this.controls.classList.remove("hidden-controls"),i.removeClass(this.controls,"opec-controls")):i.addClass(this.controls,"opec-controls")},hideControls:function(){i.addClass(this.controls,"hidden-controls")},setLoop:function(e){e?this.videoTag.setAttribute("loop","loop"):this.videoTag.removeAttribute("loop")},setTime:function(e){this.videoTag.src&&(this.videoTag.currentTime=e)},showHandCursor:function(){this.setHandCursorFlag(!0),i.addClass(this.videoTag,"rm-hover-hand-cursor")},hideHandCursor:function(){this.setHandCursorFlag(!1),i.removeClass(this.videoTag,"rm-hover-hand-cursor")},reset:function(){this.videoTag.pause(),this.videoTag.removeAttribute("src")},setSrc:function(e){if(!e)throw"Src must be specfied";this.videoTag.setAttribute("src",e)},setPosterImage:function(e){e&&this.videoTag.setAttribute("poster",e)},setVolume:function(e){e.toFixed(2)>0?(this.removeMuteClass(),this.muteattribute||(this.videoTag.muted=!1),this.cachedVolumeValue=e):this.addMuteClass(),this.videoTag.volume=e},getVideoTag:function(){return this.videoTag},checkPauseStatus:function(){return this.videoTag.paused},togglePosition:function(e){e?(this.container.parentNode.style.setProperty("position",e,"important"),this.videoContainer.style.top=0,this.container.parentNode.style.left=e?"1px":""):(this.container.parentNode.style.removeProperty("position"),this.videoContainer.style.removeProperty("top"),this.container.parentNode.style.left="")}});return new l},n)}(window,window.EU,window.EXPO_CREATIVE),function(e,t,i){"use strict";var n="1.0.0";i.registerPlugin("VideoModel",function(e){var i=t.BaseModel.extend({init:function(){},onConfig:function(e){this.maintainAspectRatio=!1,this.controlsVisible=!1,
this.cookData(e),this.defaultVideoID=void 0},getPlayerDimensions:function(){return{top:this.config.top||0,left:this.config.left||0,width:this.config.width||"100%",height:this.config.height||"100%"}},cookData:function(e){this.config=e},getVideoId:function(){return this.config.prop.videoID},setVideoDuration:function(e){this.videoDuration=e},getVideoDuration:function(e){return this.videoDuration},getVideoSourceId:function(){return this.currentVideoId},getAllVideos:function(){return this.config.videos},getVideoLandingURL:function(e){var t=e||this.currentVideoId;return this.config.videos&&this.config.videos[t]&&this.config.videos[t].landingURL||""},getPosterSrc:function(){var e=null;if(this.config.videos){var t=this.config.videos;Object.keys(t).forEach(function(i){t[i]["default"]===!0&&(e=this.getPath()+t[i].poster)}.bind(this))}return e},getVideoSrc:function(e){if(!e&&!this.config.prop.src){var t=null;if(this.config.videos){var i=this.config.videos;Object.keys(i).forEach(function(e){i[e]["default"]===!0&&(this.currentVideoId=e,t=i[e].src.indexOf("//")==-1?this.getPath()+i[e].src:i[e].src)}.bind(this));var n=this.config.videos.video1.src.indexOf("//")==-1?this.getPath()+this.config.videos.video1.src:this.config.videos.video1.src;return null===t?n:t}}var s=e&&this.config.videos&&this.config.videos[e].src;return s&&(this.currentVideoId=e,s.indexOf("//")>=0)?s:this.getPath()+(s||this.config.prop.src)},getVideoMuted:function(){return this.config.prop.isMuted},getInitialAttributes:function(){return{width:this.config.width,height:this.config.height}},getDefaultVideoId:function(){function e(){return this.defaultVideoID||Object.keys(t).forEach(function(e){t[e]["default"]&&(this.defaultVideoID=e)}.bind(this)),this.defaultVideoID}var t=this.config.videos;return e.call(this)},getPosterImage:function(e){var t;if(e||this.config.prop.posterImage)t=e&&this.config.videos&&this.config.videos[e].poster||this.config.prop.posterImage;else{var i=null;if(this.config.videos){var n=this.config.videos;Object.keys(n).forEach(function(e){n[e]["default"]===!0&&(i=n[e].poster)}.bind(this)),t=null===i?this.config.videos.video1.poster:i}}return t.indexOf("//")==-1?this.getPath()+t:t},getDynamicVideoInfo:function(){return{mpdMetaFileSrc:this.getVideoMetaFileSrc(),loopDuration:this.getVideoLoopDuration(),assetLocation:this.getPath(),fromVdxStudio:this.fromVdxStudio()}},isVideoDynamicStreaming:function(){return this.config.isVideoDynamicStreaming},fromVdxStudio:function(){return this.config.fromVdxStudio},getVideoLoopDuration:function(){return this.config.loopDuration},getVideoMetaFileSrc:function(){var e=null;if(this.config.videos){var t=this.config.videos;Object.keys(t).forEach(function(i){if(t[i]["default"]===!0)if(this.currentVideoId=i,t[i].src.indexOf("//")==-1)e=this.getPath()+t[i].src.split(".")[0]+"_metaFile.mpd";else{var n=/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(t[i].src);e=n[2].split(".")[0]+"_metaFile.mpd"}}.bind(this))}return e},getInitialStyle:function(){var t=!e.utility.isNumber(this.config.width)&&this.config.width.indexOf("%")>-1?"width:"+this.config.width+";":"width:"+this.config.width+"px;",i=null===this.config.height?"":"height:"+this.config.height+"px;",n=this.config.top?"top:"+this.config.top+"px;":"",s=this.config.left?"left:"+this.config.left+"px;":"";return"position:relative;"+t+i+n+s},setVideoTime:function(e){this.videoTime=e},getVideoTime:function(){return this.videoTime},getPath:function(){return this.config.museLocation?this.config.museLocation:""},getTeaserCtaURL:function(){return"undefined"!=typeof this.config.teaserCta?this.config.teaserCta:"//www.replacethisurl.com"},getUnmuteIconPath:function(){return this.config.prop.unmuteIcon},setVideoPromiseValue:function(e){this.videopromisevalue=e},getVideoPromiseValue:function(){return this.videopromisevalue}});return new i},n)}(window,window.EU,window.EXPO_CREATIVE),function(e,t,i){"use strict";var n="1.0.0";i.registerPlugin("VideoController",function(){var e=t.CreateClass({init:function(){},onConfig:function(e,t){this.view=e,this.model=t,this.reset(),this.setVolumePending&&(this.setVolumePending=!1,this.setVolume(this.setVolumePendingValue))},onVideoClick:function(){},onVideoOver:function(){},onVideoOut:function(){},onVideoEnd:function(){this.dispatchVideoEnd()},resizePlayer:function(e){this.view.resizePlayer(e)},showControls:function(e){this.view.showControls(e)},hideControls:function(){this.view.hideControls()},setLoop:function(e){this.view.setLoop(e)},setTime:function(e){this.view.setTime(e)},getSize:function(){return this.view.getSize()},setVolume:function(e){this.view?this.view.setVolume(e):(this.setVolumePending=!0,this.setVolumePendingValue=e)},addDataAttribute:function(e){this.view.addDataAttribute(e)},removeDataAttribute:function(e){this.view.removeDataAttribute(e)},pausePlayer:function(){this.view.pause()},addPlayListener:function(e){this.view.addPlayListener(e)},setInitialListeners:function(e){this.view.setInitialListeners(e)},resumePlayer:function(){this.view.resume()},onVideoProgress:function(e){return this.model.setVideoTime(e.target.currentTime),this.progressPixels.start?e.target.currentTime>e.target.duration/4&&!this.progressPixels.q1?void this.dispatchVideoQ1():e.target.currentTime>e.target.duration/2&&!this.progressPixels.q2?void this.dispatchVideoQ2():e.target.currentTime>3*e.target.duration/4&&!this.progressPixels.q3?void this.dispatchVideoQ3():void 0:void this.dispatchVideoStart()},dispatchVideoStart:function(){this.progressPixels.start=!0},dispatchVideoQ1:function(){this.progressPixels.q1=!0},dispatchVideoQ2:function(){this.progressPixels.q2=!0},dispatchVideoQ3:function(){this.progressPixels.q3=!0},dispatchVideoEnd:function(){this.progressPixels.end=!0},showHandCursor:function(){this.view.showHandCursor()},hideHandCursor:function(){this.view.hideHandCursor()},reset:function(){this.progressPixels={start:!1,q1:!1,q2:!1,q3:!1,end:!1}},getVideoSourceId:function(){return this.model.getVideoSourceId()},getVideoLandingURL:function(e){return this.model.getVideoLandingURL(e)},checkPauseStatus:function(){return this.view.checkPauseStatus()},getAllVideos:function(){return this.model.getAllVideos()},getTeaserCtaURL:function(){return this.model.getTeaserCtaURL()}});return new e},n)}(window,window.EU,window.EXPO_CREATIVE);